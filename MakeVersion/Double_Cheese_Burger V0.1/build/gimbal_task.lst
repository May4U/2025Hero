ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"gimbal_task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.pitch_motor_online,"ax",%progbits
  20              		.align	1
  21              		.global	pitch_motor_online
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	pitch_motor_online:
  27              	.LFB172:
  28              		.file 1 "TASK/src/gimbal_task.c"
   1:TASK/src/gimbal_task.c **** /*--------------------- FIRMWARE --------------------*/
   2:TASK/src/gimbal_task.c **** #include "string.h"
   3:TASK/src/gimbal_task.c **** #include "usbd_cdc_if.h"
   4:TASK/src/gimbal_task.c **** /*--------------------- TASK --------------------*/
   5:TASK/src/gimbal_task.c **** #include "imu_task.h"
   6:TASK/src/gimbal_task.c **** #include "gimbal_task.h"
   7:TASK/src/gimbal_task.c **** #include "fire_Task.h"
   8:TASK/src/gimbal_task.c **** //#include "virtual_task.h"
   9:TASK/src/gimbal_task.c **** #include "safe_task.h"
  10:TASK/src/gimbal_task.c **** #include "music_task.h"
  11:TASK/src/gimbal_task.c **** /*--------------------- COMMUINICATE --------------------*/
  12:TASK/src/gimbal_task.c **** #include "bsp_can.h"
  13:TASK/src/gimbal_task.c **** /*--------------------- CONTROL --------------------*/
  14:TASK/src/gimbal_task.c **** #include "robot_cmd.h"
  15:TASK/src/gimbal_task.c **** #include "Cybergear_Motor.h"
  16:TASK/src/gimbal_task.c **** #include "DJI_Motor.h"
  17:TASK/src/gimbal_task.c **** 
  18:TASK/src/gimbal_task.c **** /*--------------------- ALGORITHM --------------------*/
  19:TASK/src/gimbal_task.c **** #include "pid.h"
  20:TASK/src/gimbal_task.c **** #include "maths.h"
  21:TASK/src/gimbal_task.c **** #include "filter.h"
  22:TASK/src/gimbal_task.c **** #include "lqr.h"
  23:TASK/src/gimbal_task.c **** #include "rgb.h"
  24:TASK/src/gimbal_task.c **** 
  25:TASK/src/gimbal_task.c **** #define ABS(x) (((x)>0) ? (x) : (-x))
  26:TASK/src/gimbal_task.c **** /*--------------------- BSP --------------------*/
  27:TASK/src/gimbal_task.c **** 
  28:TASK/src/gimbal_task.c **** 
  29:TASK/src/gimbal_task.c **** 
  30:TASK/src/gimbal_task.c **** static void Photo_Control(void);
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 2


  31:TASK/src/gimbal_task.c **** static void RGB_LED(void);
  32:TASK/src/gimbal_task.c **** static void IMU_PITCH_Angle_Set_Limit(float* ,float*);
  33:TASK/src/gimbal_task.c **** static void Gimbal_Work();
  34:TASK/src/gimbal_task.c **** static void Gimbal_Init();
  35:TASK/src/gimbal_task.c **** static void Gimbal_Not_Work();
  36:TASK/src/gimbal_task.c **** 
  37:TASK/src/gimbal_task.c **** 
  38:TASK/src/gimbal_task.c **** typedef struct{
  39:TASK/src/gimbal_task.c **** 
  40:TASK/src/gimbal_task.c ****     const Gimbal_CMD_t* Gimbal_CMD;
  41:TASK/src/gimbal_task.c ****     const INS_t         *ins;
  42:TASK/src/gimbal_task.c ****    
  43:TASK/src/gimbal_task.c ****     DJIMotor_object_t   *YAW_Motor;
  44:TASK/src/gimbal_task.c ****     DJIMotor_object_t   *Photo_Motor;
  45:TASK/src/gimbal_task.c ****     MI_Motor_t   *PITCH_Motor;
  46:TASK/src/gimbal_task.c ****     //é™€èžºä»ªLQR
  47:TASK/src/gimbal_task.c ****     LQR_t lqr_pitch;
  48:TASK/src/gimbal_task.c ****     LQR_t lqr_pitch_litter;
  49:TASK/src/gimbal_task.c ****     LQR_t lqr_yaw;
  50:TASK/src/gimbal_task.c ****     
  51:TASK/src/gimbal_task.c ****     LQR_t lqr_encoder_pitch;
  52:TASK/src/gimbal_task.c ****     LQR_t lqr_encoder_yaw;
  53:TASK/src/gimbal_task.c ****     pid_parameter_t     yaw_only_i_pid;
  54:TASK/src/gimbal_task.c ****     //ç¼–ç å€¼PID
  55:TASK/src/gimbal_task.c ****     pid_parameter_t      PITCH_Motor_Speed_PID;
  56:TASK/src/gimbal_task.c ****     pid_parameter_t      PITCH_Motor_Position_PID;   
  57:TASK/src/gimbal_task.c ****     pid_parameter_t      YAW_Motor_SPEED_PID;
  58:TASK/src/gimbal_task.c ****     pid_parameter_t      YAW_Motor_Position_PID;
  59:TASK/src/gimbal_task.c ****     pid_parameter_t      Photo_Motor_SPEED_PID;
  60:TASK/src/gimbal_task.c ****     pid_parameter_t      Photo_Motor_Position_PID;
  61:TASK/src/gimbal_task.c ****     
  62:TASK/src/gimbal_task.c ****     fp32 Phtot_Angle;
  63:TASK/src/gimbal_task.c **** }Gimbal_t;
  64:TASK/src/gimbal_task.c **** Gimbal_t Gimbal;
  65:TASK/src/gimbal_task.c **** 
  66:TASK/src/gimbal_task.c **** 
  67:TASK/src/gimbal_task.c **** 
  68:TASK/src/gimbal_task.c **** /*ç”µæœºåœ¨çº¿çŠ¶æ€*/
  69:TASK/src/gimbal_task.c **** uint16_t pitch_motor_init_flag = 0;
  70:TASK/src/gimbal_task.c **** safe_task_t *Pitch_Motor_Safe;
  71:TASK/src/gimbal_task.c **** 
  72:TASK/src/gimbal_task.c **** uint8_t pitch_motor_is_online = 0;
  73:TASK/src/gimbal_task.c **** void pitch_motor_online(void){}
  29              		.loc 1 73 30 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 73 31 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE172:
  39              		.section	.text.pitch_motor_disconnect,"ax",%progbits
  40              		.align	1
  41              		.global	pitch_motor_disconnect
  42              		.syntax unified
  43              		.thumb
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 3


  44              		.thumb_func
  46              	pitch_motor_disconnect:
  47              	.LFB173:
  74:TASK/src/gimbal_task.c **** void pitch_motor_disconnect(void)
  75:TASK/src/gimbal_task.c **** {
  48              		.loc 1 75 1 view -0
  49              		.cfi_startproc
  50              		@ args = 0, pretend = 0, frame = 0
  51              		@ frame_needed = 0, uses_anonymous_args = 0
  52              		@ link register save eliminated.
  76:TASK/src/gimbal_task.c ****     pitch_motor_init_flag = 0;
  53              		.loc 1 76 5 view .LVU3
  54              		.loc 1 76 27 is_stmt 0 view .LVU4
  55 0000 0023     		movs	r3, #0
  56 0002 034A     		ldr	r2, .L3
  57 0004 1380     		strh	r3, [r2]	@ movhi
  77:TASK/src/gimbal_task.c ****     Gimbal.PITCH_Motor->have_pos_flag = 0;
  58              		.loc 1 77 5 is_stmt 1 view .LVU5
  59              		.loc 1 77 11 is_stmt 0 view .LVU6
  60 0006 034A     		ldr	r2, .L3+4
  61 0008 1269     		ldr	r2, [r2, #16]
  62              		.loc 1 77 39 view .LVU7
  63 000a 1360     		str	r3, [r2]
  78:TASK/src/gimbal_task.c **** }
  64              		.loc 1 78 1 view .LVU8
  65 000c 7047     		bx	lr
  66              	.L4:
  67 000e 00BF     		.align	2
  68              	.L3:
  69 0010 00000000 		.word	.LANCHOR0
  70 0014 00000000 		.word	.LANCHOR1
  71              		.cfi_endproc
  72              	.LFE173:
  74              		.section	.text.yaw_can_rx_CallBack,"ax",%progbits
  75              		.align	1
  76              		.global	yaw_can_rx_CallBack
  77              		.syntax unified
  78              		.thumb
  79              		.thumb_func
  81              	yaw_can_rx_CallBack:
  82              	.LFB177:
  79:TASK/src/gimbal_task.c **** void pitch_can_rx_CallBack(void)
  80:TASK/src/gimbal_task.c **** {
  81:TASK/src/gimbal_task.c ****     Safe_Task_online_ptr_(Pitch_Motor_Safe);
  82:TASK/src/gimbal_task.c ****     pitch_motor_is_online = 1;
  83:TASK/src/gimbal_task.c **** }
  84:TASK/src/gimbal_task.c **** 
  85:TASK/src/gimbal_task.c **** uint8_t yaw_motor_is_online = 0;
  86:TASK/src/gimbal_task.c **** void yaw_motor_online(void){yaw_motor_is_online = 1;}
  87:TASK/src/gimbal_task.c **** void yaw_motor_disconnect(void){yaw_motor_is_online = 0;}
  88:TASK/src/gimbal_task.c **** void yaw_can_rx_CallBack(void){//Safe_Task_online_name_("Yaw_Motor_Safe");
  83              		.loc 1 88 31 is_stmt 1 view -0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  89:TASK/src/gimbal_task.c ****     }
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 4


  88              		.loc 1 89 5 view .LVU10
  89 0000 7047     		bx	lr
  90              		.cfi_endproc
  91              	.LFE177:
  93              		.section	.text.Photo_motor_CanRx_callback,"ax",%progbits
  94              		.align	1
  95              		.global	Photo_motor_CanRx_callback
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
 100              	Photo_motor_CanRx_callback:
 101              	.LFB178:
  90:TASK/src/gimbal_task.c **** 
  91:TASK/src/gimbal_task.c **** uint8_t Photo_motor_online = 0;
  92:TASK/src/gimbal_task.c **** void Photo_motor_CanRx_callback(void){Photo_motor_online = 1;}
 102              		.loc 1 92 38 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 0
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		@ link register save eliminated.
 107              		.loc 1 92 39 view .LVU12
 108              		.loc 1 92 58 is_stmt 0 view .LVU13
 109 0000 014B     		ldr	r3, .L7
 110 0002 0122     		movs	r2, #1
 111 0004 1A70     		strb	r2, [r3]
 112              		.loc 1 92 62 view .LVU14
 113 0006 7047     		bx	lr
 114              	.L8:
 115              		.align	2
 116              	.L7:
 117 0008 00000000 		.word	.LANCHOR2
 118              		.cfi_endproc
 119              	.LFE178:
 121              		.section	.text.RGB_LED,"ax",%progbits
 122              		.align	1
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 127              	RGB_LED:
 128              	.LFB188:
  93:TASK/src/gimbal_task.c **** 
  94:TASK/src/gimbal_task.c **** void Send_Photo_Current()
  95:TASK/src/gimbal_task.c **** {
  96:TASK/src/gimbal_task.c ****     static CAN_TxHeaderTypeDef CAN_TxHeader;
  97:TASK/src/gimbal_task.c ****     static uint8_t Can_Tx_Data[8];
  98:TASK/src/gimbal_task.c ****     Can_Tx_Data[0] = 0;
  99:TASK/src/gimbal_task.c ****     Can_Tx_Data[1] = 0;
 100:TASK/src/gimbal_task.c ****     Can_Tx_Data[2] = 0;
 101:TASK/src/gimbal_task.c ****     Can_Tx_Data[3] = 0;
 102:TASK/src/gimbal_task.c ****     Can_Tx_Data[4] = 0;
 103:TASK/src/gimbal_task.c ****     Can_Tx_Data[5] = 0;
 104:TASK/src/gimbal_task.c ****     Can_Tx_Data[6] = Gimbal.Photo_Motor->current_input >> 8;
 105:TASK/src/gimbal_task.c ****     Can_Tx_Data[7] = Gimbal.Photo_Motor->current_input ;
 106:TASK/src/gimbal_task.c **** 
 107:TASK/src/gimbal_task.c ****     static uint32_t send_mail_box;
 108:TASK/src/gimbal_task.c ****     CAN_TxHeader.StdId = 0x1FF;
 109:TASK/src/gimbal_task.c ****     CAN_TxHeader.IDE = CAN_ID_STD;
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 5


 110:TASK/src/gimbal_task.c ****     CAN_TxHeader.RTR = CAN_RTR_DATA;
 111:TASK/src/gimbal_task.c ****     CAN_TxHeader.DLC = 0x08;
 112:TASK/src/gimbal_task.c ****     HAL_CAN_AddTxMessage(&hcan1, &CAN_TxHeader, Can_Tx_Data, &send_mail_box);
 113:TASK/src/gimbal_task.c **** }
 114:TASK/src/gimbal_task.c **** 
 115:TASK/src/gimbal_task.c **** /*LQRå‚æ•°åˆ—è¡¨*/
 116:TASK/src/gimbal_task.c **** //æ‰‹çž„lqrå‚æ•°
 117:TASK/src/gimbal_task.c **** float k_pitch_lqr[2] = {1.401f, 2.005f};
 118:TASK/src/gimbal_task.c **** 
 119:TASK/src/gimbal_task.c **** float k_pitch_lqr_down[2] = {0.8f, 2.0f};
 120:TASK/src/gimbal_task.c **** float k_yaw_lqr[2] = {-77.15f, -1.0f};
 121:TASK/src/gimbal_task.c **** //è‡ªçž„lqrå‚æ•°
 122:TASK/src/gimbal_task.c **** float k_virtual_pitch_lqr[2] = {60.0f, 1.2f};
 123:TASK/src/gimbal_task.c **** float k_virtual_yaw_lqr[2] = {-40.0f, -1.0f};
 124:TASK/src/gimbal_task.c **** //ç‹™å‡»lqrå‚æ•°
 125:TASK/src/gimbal_task.c **** float k_encoder_pitch_lqr[2] = {6,1};
 126:TASK/src/gimbal_task.c **** float k_encoder_yaw_lqr[2] = {500,100};
 127:TASK/src/gimbal_task.c **** /**
 128:TASK/src/gimbal_task.c ****  * @brief  äº‘å°ä¸»ä»»åŠ¡
 129:TASK/src/gimbal_task.c ****  * @param
 130:TASK/src/gimbal_task.c ****  * @note 6020ç”µæœºåé¦ˆä¿¡æ¯æ³¢ç‰¹çŽ‡ 135.25bit*1000hz = 135,250 bps
 131:TASK/src/gimbal_task.c ****          6020ç”µæœºæŽ§åˆ¶ä¿¡æ¯æ³¢ç‰¹çŽ‡ 135.25bit*1000hz = 135,250 bps
 132:TASK/src/gimbal_task.c ****          è½¬å‘å›¾ä¼ æŽ§åˆ¶ä¿¡æ¯æ³¢ç‰¹çŽ‡ 85.25 bit*  36hz  = 3069   bps
 133:TASK/src/gimbal_task.c ****          è½¬å‘è§†è§‰å¼€ç«ä¿¡æ¯æ³¢ç‰¹çŽ‡ 65.25 bit* 100hz  = 6925   bps    
 134:TASK/src/gimbal_task.c ****          è½¬å‘å››æ‘©æ“¦è½®è½¬é€Ÿæ³¢ç‰¹çŽ‡ 135.25bit*  10hz  = 1352.5 bps   
 135:TASK/src/gimbal_task.c ****  * @retval void
 136:TASK/src/gimbal_task.c ****  */
 137:TASK/src/gimbal_task.c **** fp32 UP_ANGLE = 0;
 138:TASK/src/gimbal_task.c **** fp32 DOWN_ANGLE = 0;
 139:TASK/src/gimbal_task.c **** fp32 Pitch_output_torque;
 140:TASK/src/gimbal_task.c **** fp32 Pitch_gravity_feedforward_torque = 1.0f;//Pè½´é‡åŠ›å‰é¦ˆè¡¥å¿
 141:TASK/src/gimbal_task.c **** uint8_t  Enable_pitch_motor = 100;//è¿žç»­å‘é€100æ¬¡ä½¿èƒ½åŽå°±ä¸å‘é€äº†
 142:TASK/src/gimbal_task.c **** void GIMBAL_TASK(void const * argument)
 143:TASK/src/gimbal_task.c **** {    
 144:TASK/src/gimbal_task.c ****     static uint16_t time = 0;
 145:TASK/src/gimbal_task.c **** 
 146:TASK/src/gimbal_task.c ****     // while(Get_Virtual_task_init_falg() == 0)    vTaskDelay(1);//ç­‰å¾…è§†è§‰ä»»åŠ¡åˆå§‹åŒ–
 147:TASK/src/gimbal_task.c ****     while(Gimbal.ins->imu_ok_falg == 0)         vTaskDelay(1);//ç­‰å¾…IMUä»»åŠ¡è¿è¡Œ
 148:TASK/src/gimbal_task.c **** 
 149:TASK/src/gimbal_task.c ****     Gimbal_Init();
 150:TASK/src/gimbal_task.c ****     
 151:TASK/src/gimbal_task.c ****     while (1)
 152:TASK/src/gimbal_task.c ****     {
 153:TASK/src/gimbal_task.c **** 
 154:TASK/src/gimbal_task.c ****     time ++;
 155:TASK/src/gimbal_task.c ****     if (time > 1000)    time = 0;
 156:TASK/src/gimbal_task.c ****         
 157:TASK/src/gimbal_task.c ****     #ifdef Using_MI_Motor_Init
 158:TASK/src/gimbal_task.c ****         
 159:TASK/src/gimbal_task.c ****         if (Gimbal.PITCH_Motor->have_pos_flag < 100)//æ”¶é›†1kæ¬¡ä½ç½®ä¿¡æ¯
 160:TASK/src/gimbal_task.c ****         {
 161:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_1,1000000);
 162:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_2,0);
 163:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_3,0);
 164:TASK/src/gimbal_task.c ****             
 165:TASK/src/gimbal_task.c ****             MI_motor_enable(Gimbal.PITCH_Motor);
 166:TASK/src/gimbal_task.c ****             vTaskDelay(1);
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 6


 167:TASK/src/gimbal_task.c ****             continue;
 168:TASK/src/gimbal_task.c ****         }
 169:TASK/src/gimbal_task.c ****         
 170:TASK/src/gimbal_task.c ****         if (pitch_motor_init_flag < 500)//å µè½¬1000æ¬¡ä»»åŠ¡å‘¨æœŸä½œä¸ºåˆå§‹åŒ–
 171:TASK/src/gimbal_task.c ****         {
 172:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_1,0);
 173:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_2,1000000);
 174:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_3,0);
 175:TASK/src/gimbal_task.c ****             
 176:TASK/src/gimbal_task.c ****             MI_motor_controlmode(Gimbal.PITCH_Motor, Pitch_gravity_feedforward_torque, 0, 0, 0, 0);
 177:TASK/src/gimbal_task.c ****             if (abs(Gimbal.PITCH_Motor->speed) < 0.03f) pitch_motor_init_flag++;
 178:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 179:TASK/src/gimbal_task.c ****             continue;
 180:TASK/src/gimbal_task.c ****         }
 181:TASK/src/gimbal_task.c ****         
 182:TASK/src/gimbal_task.c ****         if (pitch_motor_init_flag ==  500)
 183:TASK/src/gimbal_task.c ****         {
 184:TASK/src/gimbal_task.c ****             pitch_motor_init_flag ++;
 185:TASK/src/gimbal_task.c ****                         Set_Pitch_Motor_down_encoder(Gimbal.PITCH_Motor->postion);//åˆå§‹åŒ–æ ¡éªŒ
 186:TASK/src/gimbal_task.c **** 
 187:TASK/src/gimbal_task.c ****         }
 188:TASK/src/gimbal_task.c **** 
 189:TASK/src/gimbal_task.c ****     #endif
 190:TASK/src/gimbal_task.c ****     
 191:TASK/src/gimbal_task.c ****         
 192:TASK/src/gimbal_task.c ****         taskENTER_CRITICAL();         // è¿›å…¥ä¸´ç•ŒåŒº
 193:TASK/src/gimbal_task.c ****         
 194:TASK/src/gimbal_task.c ****         Gimbal_Deal_TLcontrol();//å›¾ä¼ ä¿¡æ¯å¤„ç†åŠè½¬å‘
 195:TASK/src/gimbal_task.c ****         
 196:TASK/src/gimbal_task.c ****         IMU_PITCH_Angle_Set_Limit(&UP_ANGLE,&DOWN_ANGLE);//ä¿¯ä»°è§’é™åˆ¶
 197:TASK/src/gimbal_task.c ****         Gimbal_CMD_Set(UP_ANGLE,DOWN_ANGLE, Gimbal.ins->Pitch, Gimbal.Gimbal_CMD->Pitch_Motor_down_
 198:TASK/src/gimbal_task.c ****         
 199:TASK/src/gimbal_task.c ****         
 200:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->Fire_Ready == 0)//Gimbal.Gimbal_CMD->rc_ctl->rc.s2 == RC_SW_DOWN)
 201:TASK/src/gimbal_task.c ****         {
 202:TASK/src/gimbal_task.c ****             Enable_pitch_motor = 100;
 203:TASK/src/gimbal_task.c ****             Gimbal_Not_Work();
 204:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_Encoder(Gimbal.PITCH_Motor->postion);
 205:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_Encoder(Gimbal.YAW_Motor->Motor_encoder.Encode_Record_Val);
 206:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 207:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_IMU(Gimbal.ins->Yaw);
 208:TASK/src/gimbal_task.c ****         }
 209:TASK/src/gimbal_task.c ****         else
 210:TASK/src/gimbal_task.c ****         {
 211:TASK/src/gimbal_task.c ****             Gimbal_Work();      //äº‘å°æ­£å¸¸å·¥ä½œ
 212:TASK/src/gimbal_task.c ****         }
 213:TASK/src/gimbal_task.c ****         
 214:TASK/src/gimbal_task.c ****         RGB_LED();//ç‚«å½©rgb
 215:TASK/src/gimbal_task.c ****         Photo_Control();//å¼€é•œæ—¶ä¿æŒå›¾ä¼ å¹³è¡Œ
 216:TASK/src/gimbal_task.c ****         
 217:TASK/src/gimbal_task.c ****         
 218:TASK/src/gimbal_task.c ****         if (time % 2 == 0)    
 219:TASK/src/gimbal_task.c **** //            Send_Photo_Current();
 220:TASK/src/gimbal_task.c ****         
 221:TASK/src/gimbal_task.c ****         DJMotor_Send_only_one(Gimbal.YAW_Motor);
 222:TASK/src/gimbal_task.c ****         MI_motor_controlmode(Gimbal.PITCH_Motor, Pitch_output_torque, 0, 0, 0, 0);
 223:TASK/src/gimbal_task.c **** 
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 7


 224:TASK/src/gimbal_task.c **** 		taskEXIT_CRITICAL();              // é€€å‡ºä¸´ç•ŒåŒº
 225:TASK/src/gimbal_task.c ****         vTaskDelay(1); // ç»å¯¹å»¶æ—¶//vTaskDelay(2);
 226:TASK/src/gimbal_task.c ****         
 227:TASK/src/gimbal_task.c ****     }
 228:TASK/src/gimbal_task.c **** }
 229:TASK/src/gimbal_task.c **** 
 230:TASK/src/gimbal_task.c **** 
 231:TASK/src/gimbal_task.c **** void Gimbal_Init()
 232:TASK/src/gimbal_task.c **** {
 233:TASK/src/gimbal_task.c ****     Gimbal.Phtot_Angle = 85.0f;
 234:TASK/src/gimbal_task.c ****     Gimbal.Gimbal_CMD = Get_Gimbal_CMD_point();
 235:TASK/src/gimbal_task.c ****     Gimbal.ins = get_imu_control_point();
 236:TASK/src/gimbal_task.c ****     Gimbal.Photo_Motor = DJIMotor_Init(1,8,false,M2006,3600/2/PI);
 237:TASK/src/gimbal_task.c ****     Gimbal.YAW_Motor = DJIMotor_Init(2,1,false,GM6020,3600/2/PI);
 238:TASK/src/gimbal_task.c ****     Gimbal.PITCH_Motor = MI_motor_init(&hcan1);
 239:TASK/src/gimbal_task.c ****     
 240:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.PITCH_Motor_Speed_PID,0.f,0.f,0.0f,Integral_Limit | Output_Limit);
 241:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Speed_PID,Integral_Limit,0,0);//ç§¯åˆ†é™å¹…
 242:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Speed_PID,Output_Limit,4,0);//è¾“å‡ºé™å¹…
 243:TASK/src/gimbal_task.c ****     
 244:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.PITCH_Motor_Position_PID,0.0f,0,0.0f,Integral_Limit | Output_Limit | StepIn);
 245:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Position_PID, Integral_Limit, 0, 0);
 246:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Position_PID, Output_Limit, 0, 0);
 247:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Position_PID, StepIn, 30, 0);
 248:TASK/src/gimbal_task.c ****     
 249:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.YAW_Motor_SPEED_PID,200.0f,0.0f,15.0f,Output_Limit | Integral_Limit );//ä½¿ç”¨è
 250:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_SPEED_PID,Integral_Limit,1000,0);//ç§¯åˆ†é™å¹…æ¨¡å¼è®¾ç½®
 251:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_SPEED_PID,Output_Limit,25000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®
 252:TASK/src/gimbal_task.c ****     
 253:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.YAW_Motor_Position_PID,2.0f,0,0.0f,Output_Limit | Integral_Limit);//ä½¿ç”¨è¾“å‡
 254:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_Position_PID,Output_Limit,200,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 255:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_Position_PID,Integral_Limit,200,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 256:TASK/src/gimbal_task.c **** 
 257:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.yaw_only_i_pid,0.0f,1.5f,0.0f,Output_Limit | Integral_Limit | Separated_Integra
 258:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.yaw_only_i_pid,Integral_Limit,10000,0);//ç§¯åˆ†é™å¹…æ¨¡å¼è®¾ç½®
 259:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.yaw_only_i_pid,Output_Limit,10000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 260:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.yaw_only_i_pid,Separated_Integral,20,-20);
 261:TASK/src/gimbal_task.c ****    
 262:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.Photo_Motor_SPEED_PID,10.0f,0.0f,0.0f,Output_Limit | Integral_Limit );//ä½¿ç”¨è
 263:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_SPEED_PID,Integral_Limit,1000,0);//ç§¯åˆ†é™å¹…æ¨¡å¼è®¾ç½®
 264:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_SPEED_PID,Output_Limit,5000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 265:TASK/src/gimbal_task.c ****     
 266:TASK/src/gimbal_task.c ****     PidInit(&Gimbal.Photo_Motor_Position_PID,0.1f,0,0.0f,Output_Limit | Integral_Limit);//ä½¿ç”¨è¾“
 267:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_Position_PID,Output_Limit,1000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 268:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_Position_PID,Integral_Limit,200,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 269:TASK/src/gimbal_task.c ****     
 270:TASK/src/gimbal_task.c ****     //LQRåˆå§‹åŒ–
 271:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_pitch, 2, 1, k_pitch_lqr);
 272:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_pitch_litter, 2, 1, k_pitch_lqr_down);
 273:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_yaw, 2, 1, k_yaw_lqr);
 274:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_encoder_pitch, 2, 1, k_encoder_pitch_lqr);
 275:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_encoder_yaw, 2, 1, k_encoder_yaw_lqr);
 276:TASK/src/gimbal_task.c ****     
 277:TASK/src/gimbal_task.c ****     
 278:TASK/src/gimbal_task.c ****     //åˆ›å»ºå®‰å…¨ä»»åŠ¡
 279:TASK/src/gimbal_task.c ****     Pitch_Motor_Safe = Safe_task_add("Pitch_Motor_Safe", 30, pitch_motor_disconnect, pitch_motor_on
 280:TASK/src/gimbal_task.c ****     //ç”µæœºå›žè°ƒå‡½æ•°è®¾ç½®
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 8


 281:TASK/src/gimbal_task.c ****     MI_Motor_CanRx_Callback(Gimbal.PITCH_Motor, pitch_can_rx_CallBack);
 282:TASK/src/gimbal_task.c ****     DJIMotor_CanRx_Callback(Gimbal.YAW_Motor, yaw_can_rx_CallBack);
 283:TASK/src/gimbal_task.c ****     DJIMotor_CanRx_Callback(Gimbal.Photo_Motor, Photo_motor_CanRx_callback);
 284:TASK/src/gimbal_task.c **** 
 285:TASK/src/gimbal_task.c ****     MI_motor_enable(Gimbal.PITCH_Motor);
 286:TASK/src/gimbal_task.c **** }
 287:TASK/src/gimbal_task.c **** 
 288:TASK/src/gimbal_task.c **** /**
 289:TASK/src/gimbal_task.c ****   *@brief æ ¹æ®ç”µæœºç»å¯¹ç¼–ç å€¼åˆ¤æ–­IMUçš„Pitchç›®æ ‡è§’åº¦å¯ä»¥å¢žåŠ å‡å°‘å¤šå°‘
 290:TASK/src/gimbal_task.c ****   */
 291:TASK/src/gimbal_task.c **** void IMU_PITCH_Angle_Set_Limit(fp32 *IMU_Pitch_Up_Limit, fp32 *IMU_Pitch_Down_Limit)
 292:TASK/src/gimbal_task.c **** {
 293:TASK/src/gimbal_task.c ****     #ifdef Using_MI_Motor_Init
 294:TASK/src/gimbal_task.c ****     //è®¡ç®—ç”µæœºç»å¯¹è§’åº¦å¯ä»¥è¿˜èƒ½å¢žåŠ å‡å°‘å¤šå°‘
 295:TASK/src/gimbal_task.c **** 
 296:TASK/src/gimbal_task.c **** 
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_reduced_Pitch_Angle   = Gimbal.Gimbal_CMD->Pitch_Motor_down_encoder - Gimbal.PI
 298:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 299:TASK/src/gimbal_task.c ****     #else
 300:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - PITCH_MOTOR_UP_MIN_ACTUAL
 301:TASK/src/gimbal_task.c ****      fp32 Motor_Can_reduced_Pitch_Angle   = PITCH_MOTOR_DOWN_MAX_ACTUAL_ANGLE - Gimbal.PITCH_Motor-
 302:TASK/src/gimbal_task.c ****     #endif
 303:TASK/src/gimbal_task.c ****     *IMU_Pitch_Up_Limit   = Gimbal.ins->Pitch + Motor_Can_increased_Pitch_Angle;
 304:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit = Gimbal.ins->Pitch - Motor_Can_reduced_Pitch_Angle;
 305:TASK/src/gimbal_task.c **** 
 306:TASK/src/gimbal_task.c ****     if (pitch_motor_is_online == 0)
 307:TASK/src/gimbal_task.c ****     {
 308:TASK/src/gimbal_task.c ****         *IMU_Pitch_Up_Limit = 0;
 309:TASK/src/gimbal_task.c ****         *IMU_Pitch_Down_Limit = 0;
 310:TASK/src/gimbal_task.c ****     }   
 311:TASK/src/gimbal_task.c ****     static Recursive_ave_filter_type_t filter_IMU_Pitch_Up_Limit;
 312:TASK/src/gimbal_task.c ****     static Recursive_ave_filter_type_t filter_IMU_Pitch_Down_Limit;
 313:TASK/src/gimbal_task.c **** 
 314:TASK/src/gimbal_task.c ****     static uint8_t filter_init_flag = 1;
 315:TASK/src/gimbal_task.c ****     if (filter_init_flag)
 316:TASK/src/gimbal_task.c ****     {
 317:TASK/src/gimbal_task.c ****         Recursive_ave_filter_init(&filter_IMU_Pitch_Up_Limit);
 318:TASK/src/gimbal_task.c ****         Recursive_ave_filter_init(&filter_IMU_Pitch_Down_Limit);
 319:TASK/src/gimbal_task.c **** 
 320:TASK/src/gimbal_task.c ****     }
 321:TASK/src/gimbal_task.c ****     //å¹³æ»‘imué™å¹… é˜²æ­¢éœ‡è¡å‘æ•£
 322:TASK/src/gimbal_task.c ****     *IMU_Pitch_Up_Limit =  Recursive_ave_filter(&filter_IMU_Pitch_Up_Limit,*IMU_Pitch_Up_Limit,30);
 323:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit =  Recursive_ave_filter(&filter_IMU_Pitch_Down_Limit,*IMU_Pitch_Down_Limi
 324:TASK/src/gimbal_task.c **** }
 325:TASK/src/gimbal_task.c **** 
 326:TASK/src/gimbal_task.c **** 
 327:TASK/src/gimbal_task.c **** void Motor_Choice_Lock_Type(void)
 328:TASK/src/gimbal_task.c **** {
 329:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->Gimbal_Work_State == LONG_SHOOT)//å‰å“¨ç«™æ¨¡å¼ï¼Œæ”¹ä¸ºé”ç¼–ç å€¼
 330:TASK/src/gimbal_task.c ****     {
 331:TASK/src/gimbal_task.c ****         if (ABS(Gimbal.ins->Pitch - Gimbal.Gimbal_CMD->Pitch_Set_IMU) < 8.0f && Gimbal.Gimbal_CMD->
 332:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 333:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Lock(ENCODER);
 334:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_Encoder(Gimbal.PITCH_Motor->postion);
 335:TASK/src/gimbal_task.c ****         }
 336:TASK/src/gimbal_task.c ****         if (ABS(Gimbal.ins->Yaw - Gimbal.Gimbal_CMD->Yaw_Set_IMU) < 8.0f && Gimbal.Gimbal_CMD->Yaw_
 337:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 9


 338:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Lock(ENCODER);
 339:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_Encoder(Gimbal.YAW_Motor->Motor_encoder.Encode_Record_Val);
 340:TASK/src/gimbal_task.c ****         }
 341:TASK/src/gimbal_task.c ****     }
 342:TASK/src/gimbal_task.c ****     else//æ”¹ä¸ºé”IMU
 343:TASK/src/gimbal_task.c ****     {
 344:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->Pitch_Lock_type == ENCODER)
 345:TASK/src/gimbal_task.c ****         {
 346:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Lock(IMU);
 347:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 348:TASK/src/gimbal_task.c ****         }
 349:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->Yaw_Lock_type == ENCODER)
 350:TASK/src/gimbal_task.c ****         {
 351:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Lock(IMU);
 352:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_IMU(Gimbal.ins->Yaw);
 353:TASK/src/gimbal_task.c ****         }    
 354:TASK/src/gimbal_task.c ****     }
 355:TASK/src/gimbal_task.c **** }
 356:TASK/src/gimbal_task.c **** 
 357:TASK/src/gimbal_task.c **** float PITCH_TORQUE_LIMIT =  8;
 358:TASK/src/gimbal_task.c **** void Pitch_Calc(void)
 359:TASK/src/gimbal_task.c **** {
 360:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->Pitch_Lock_type == ENCODER)//é”ç”µæœº
 361:TASK/src/gimbal_task.c ****     {
 362:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_pitch.k[0] = k_encoder_pitch_lqr[0];
 363:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_pitch.k[1] = k_encoder_pitch_lqr[1];
 364:TASK/src/gimbal_task.c **** 
 365:TASK/src/gimbal_task.c ****         float Pitch_motortarget = Gimbal.Gimbal_CMD->Pitch_Set_Encoder - Gimbal.PITCH_Motor->postio
 366:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 367:TASK/src/gimbal_task.c ****         
 368:TASK/src/gimbal_task.c **** 
 369:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_encoder_pitch, Pitch_system_state);
 370:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_encoder_pitch);
 371:TASK/src/gimbal_task.c ****         
 372:TASK/src/gimbal_task.c ****         Pitch_output_torque = Gimbal.lqr_encoder_pitch.Output[0];
 373:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 374:TASK/src/gimbal_task.c ****         
 375:TASK/src/gimbal_task.c ****         //ä¿¯è§’é™å¹…
 376:TASK/src/gimbal_task.c ****         if((Gimbal.Gimbal_CMD->Pitch_Set_Encoder > Gimbal.PITCH_Motor->postion) && (Gimbal.PITCH_Mo
 377:TASK/src/gimbal_task.c ****         {
 378:TASK/src/gimbal_task.c ****             //MI_motor_controlmode(Gimbal.PITCH_Motor, 0, 0, 0, 0, 0);
 379:TASK/src/gimbal_task.c ****         }
 380:TASK/src/gimbal_task.c ****         //ä»°è§’é™å¹…
 381:TASK/src/gimbal_task.c ****         else if( (Gimbal.Gimbal_CMD->Pitch_Set_Encoder < Gimbal.PITCH_Motor->postion) && (Gimbal.PI
 382:TASK/src/gimbal_task.c ****         {
 383:TASK/src/gimbal_task.c ****             //MI_motor_controlmode(Gimbal.PITCH_Motor, 0, 0, 0, 0, 0);
 384:TASK/src/gimbal_task.c ****         }
 385:TASK/src/gimbal_task.c ****         else
 386:TASK/src/gimbal_task.c ****         {
 387:TASK/src/gimbal_task.c ****             //Pitch_output_torque = 0;
 388:TASK/src/gimbal_task.c ****             //MI_motor_controlmode(Gimbal.PITCH_Motor, Pitch_output_torque, 0, 0, 0, 0);
 389:TASK/src/gimbal_task.c ****         }
 390:TASK/src/gimbal_task.c ****     }
 391:TASK/src/gimbal_task.c **** 
 392:TASK/src/gimbal_task.c ****     else//é”imu
 393:TASK/src/gimbal_task.c ****     {
 394:TASK/src/gimbal_task.c ****         Gimbal.lqr_pitch.k[0] = k_pitch_lqr[0];
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 10


 395:TASK/src/gimbal_task.c ****         Gimbal.lqr_pitch.k[1] = k_pitch_lqr[1];
 396:TASK/src/gimbal_task.c **** 
 397:TASK/src/gimbal_task.c ****         float Pitch_motortarget = Gimbal.Gimbal_CMD->Pitch_Set_IMU - Gimbal.ins->Pitch;
 398:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 399:TASK/src/gimbal_task.c ****         
 400:TASK/src/gimbal_task.c ****         static fp32 lastPitch_Set_IMU = 0;
 401:TASK/src/gimbal_task.c ****         static uint8_t litter_lqr_time = 0;
 402:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->Pitch_Set_IMU < lastPitch_Set_IMU)
 403:TASK/src/gimbal_task.c ****         {
 404:TASK/src/gimbal_task.c ****             litter_lqr_time = 32;//ä½Žé€Ÿ32æ¬¡
 405:TASK/src/gimbal_task.c ****         }
 406:TASK/src/gimbal_task.c ****         if ( litter_lqr_time > 0)
 407:TASK/src/gimbal_task.c ****         {
 408:TASK/src/gimbal_task.c ****             litter_lqr_time -- ;
 409:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[0] = k_pitch_lqr_down[0];
 410:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[1] = k_pitch_lqr_down[1];
 411:TASK/src/gimbal_task.c ****             
 412:TASK/src/gimbal_task.c ****             LQR_Data_Update(&Gimbal.lqr_pitch_litter, Pitch_system_state);
 413:TASK/src/gimbal_task.c ****             LQR_Calculate(&Gimbal.lqr_pitch_litter);
 414:TASK/src/gimbal_task.c ****             
 415:TASK/src/gimbal_task.c ****             Pitch_output_torque = Gimbal.lqr_pitch_litter.Output[0];
 416:TASK/src/gimbal_task.c ****                 
 417:TASK/src/gimbal_task.c ****         }
 418:TASK/src/gimbal_task.c ****         else
 419:TASK/src/gimbal_task.c ****         {
 420:TASK/src/gimbal_task.c ****             LQR_Data_Update(&Gimbal.lqr_pitch, Pitch_system_state);
 421:TASK/src/gimbal_task.c ****             LQR_Calculate(&Gimbal.lqr_pitch);
 422:TASK/src/gimbal_task.c ****             
 423:TASK/src/gimbal_task.c ****             Pitch_output_torque = Gimbal.lqr_pitch.Output[0];
 424:TASK/src/gimbal_task.c ****         }
 425:TASK/src/gimbal_task.c ****         lastPitch_Set_IMU = Gimbal.Gimbal_CMD->Pitch_Set_IMU;
 426:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 427:TASK/src/gimbal_task.c ****         
 428:TASK/src/gimbal_task.c ****         //ä»°è§’é™å¹…
 429:TASK/src/gimbal_task.c ****         if((Gimbal.Gimbal_CMD->Pitch_Set_IMU > Gimbal.ins->Pitch) && (Gimbal.PITCH_Motor->postion <
 430:TASK/src/gimbal_task.c ****         {
 431:TASK/src/gimbal_task.c ****             //MI_motor_controlmode(Gimbal.PITCH_Motor, 0, 0, 0, 0, 0);
 432:TASK/src/gimbal_task.c ****         }
 433:TASK/src/gimbal_task.c ****         //ä¿¯è§’é™å¹…
 434:TASK/src/gimbal_task.c ****         else if( (Gimbal.Gimbal_CMD->Pitch_Set_IMU < Gimbal.ins->Pitch) && (Gimbal.PITCH_Motor->pos
 435:TASK/src/gimbal_task.c ****         {
 436:TASK/src/gimbal_task.c ****             //MI_motor_controlmode(Gimbal.PITCH_Motor, 0, 0, 0, 0, 0);
 437:TASK/src/gimbal_task.c ****         }
 438:TASK/src/gimbal_task.c ****         else
 439:TASK/src/gimbal_task.c ****         {
 440:TASK/src/gimbal_task.c ****             //Pitch_output_torque = 0;
 441:TASK/src/gimbal_task.c ****             //MI_motor_controlmode(Gimbal.PITCH_Motor, Pitch_output_torque, 0, 0, 0, 0);
 442:TASK/src/gimbal_task.c ****         }
 443:TASK/src/gimbal_task.c ****     }
 444:TASK/src/gimbal_task.c **** }
 445:TASK/src/gimbal_task.c **** 
 446:TASK/src/gimbal_task.c **** void Yaw_Calc(void)
 447:TASK/src/gimbal_task.c **** {
 448:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->Yaw_Lock_type == ENCODER)//é”ç”µæœº
 449:TASK/src/gimbal_task.c ****     {   
 450:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_yaw.k[0] = k_encoder_yaw_lqr[0];
 451:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_yaw.k[1] = k_encoder_yaw_lqr[1];
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 11


 452:TASK/src/gimbal_task.c **** 
 453:TASK/src/gimbal_task.c ****         float Yaw_motortarget = Gimbal.Gimbal_CMD->Yaw_Set_Encoder - Gimbal.YAW_Motor->Motor_encode
 454:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 455:TASK/src/gimbal_task.c **** 
 456:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_encoder_yaw, Yaw_system_state);
 457:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_encoder_yaw);
 458:TASK/src/gimbal_task.c ****         
 459:TASK/src/gimbal_task.c ****         int64_t Yaw_Motor_Output =  Gimbal.lqr_encoder_yaw.Output[0] + PidCalculate(&Gimbal.yaw_onl
 460:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 461:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = Yaw_Motor_Output;
 462:TASK/src/gimbal_task.c ****     }
 463:TASK/src/gimbal_task.c ****     else//é”IMU
 464:TASK/src/gimbal_task.c ****     {
 465:TASK/src/gimbal_task.c ****         Gimbal.lqr_yaw.k[0] = k_yaw_lqr[0];
 466:TASK/src/gimbal_task.c ****         Gimbal.lqr_yaw.k[1] = k_yaw_lqr[1];
 467:TASK/src/gimbal_task.c ****         
 468:TASK/src/gimbal_task.c ****         float Yaw_motortarget = float_min_distance(Gimbal.Gimbal_CMD->Yaw_Set_IMU,Gimbal.ins->Yaw, 
 469:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {((-Yaw_motortarget) / 57.295779513f), Gimbal.ins->Gyro[2]};
 470:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 471:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_yaw);
 472:TASK/src/gimbal_task.c ****     
 473:TASK/src/gimbal_task.c ****         float Yaw_output_torque =  Gimbal.lqr_yaw.Output[0];
 474:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = torque_to_voltage_6020(Yaw_output_torque);
 475:TASK/src/gimbal_task.c ****     }
 476:TASK/src/gimbal_task.c **** }
 477:TASK/src/gimbal_task.c **** 
 478:TASK/src/gimbal_task.c **** /**
 479:TASK/src/gimbal_task.c **** *@brief å›¾ä¼ å°äº‘å°æŽ§åˆ¶
 480:TASK/src/gimbal_task.c **** *@param Shoot
 481:TASK/src/gimbal_task.c **** *@note  å‘ä¸‹è§’åº¦ä¸ºå¢žåŠ 
 482:TASK/src/gimbal_task.c **** */
 483:TASK/src/gimbal_task.c **** int64_t lock_position_encoder = 0;
 484:TASK/src/gimbal_task.c **** int64_t move = 9500;
 485:TASK/src/gimbal_task.c **** float spin = 0.6f;
 486:TASK/src/gimbal_task.c **** 
 487:TASK/src/gimbal_task.c **** /**
 488:TASK/src/gimbal_task.c ****   *@brief èˆµæœºè§’åº¦è½¬è„‰å†²
 489:TASK/src/gimbal_task.c ****   */
 490:TASK/src/gimbal_task.c **** uint16_t GetCCR(float Inputangle)
 491:TASK/src/gimbal_task.c **** {
 492:TASK/src/gimbal_task.c **** 	uint16_t RET = ((Inputangle/180 * 2000) + 500);
 493:TASK/src/gimbal_task.c **** 	return RET;
 494:TASK/src/gimbal_task.c **** }
 495:TASK/src/gimbal_task.c **** 
 496:TASK/src/gimbal_task.c **** void Photo_Control(void)
 497:TASK/src/gimbal_task.c **** {
 498:TASK/src/gimbal_task.c ****         /*æŒ‰é”®æ“æŽ§*/
 499:TASK/src/gimbal_task.c ****     /*
 500:TASK/src/gimbal_task.c ****     F èˆµæœºâ†‘
 501:TASK/src/gimbal_task.c ****     V èˆµæœºâ†“
 502:TASK/src/gimbal_task.c ****     C å¼€é•œ     
 503:TASK/src/gimbal_task.c ****     B å…³é•œ
 504:TASK/src/gimbal_task.c ****     */
 505:TASK/src/gimbal_task.c ****     __HAL_TIM_SET_COMPARE(&htim8,TIM_CHANNEL_3,GetCCR(Gimbal.Phtot_Angle));
 506:TASK/src/gimbal_task.c ****     
 507:TASK/src/gimbal_task.c ****     //åŠ¨ä½œç»„ 
 508:TASK/src/gimbal_task.c ****     //åŠå°„ å€é•œåˆ°ä½ èˆµæœºæ‘‡ä¸‹
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 12


 509:TASK/src/gimbal_task.c ****     //æ­£å¸¸ èˆµæœºæ‘‡ä¸Š å€é•œä¾§ç½®
 510:TASK/src/gimbal_task.c ****     static int16_t Set_Photo_Angle_delay = 300;//ç­‰å¾…èˆµæœºå‘ä¸Šåˆ°ä½åŽå†æŠŠå€é•œæŒªå¼€çš„æ—
 511:TASK/src/gimbal_task.c ****     static uint8_t Set_MG995_Angle_flag = 1;//ä»…å¼€å…³é•œæ—¶è‡ªåŠ¨åˆ‡æ¢ä¸€æ¬¡èˆµæœºè§’åº¦
 512:TASK/src/gimbal_task.c ****     
 513:TASK/src/gimbal_task.c ****     static int64_t last_Photo_Motor_encoder = 0;
 514:TASK/src/gimbal_task.c ****     static int16_t to_lock = 300;//æ ¡å‡†é™ä½å µè½¬è®¡æ—¶å™¨
 515:TASK/src/gimbal_task.c ****     static int16_t to_unlock = 300;//å µè½¬åŽä¼šæœ‰å½¢å˜ï¼Œæ­¤æ—¶è®¾å®šä¸ºé™ä½ç¼–ç å€¼ä¸å‡†
 516:TASK/src/gimbal_task.c ****     static uint8_t Reset_flag = 1;//æ ¡å‡†æ ‡å¿—ä½
 517:TASK/src/gimbal_task.c ****    
 518:TASK/src/gimbal_task.c ****     static int64_t Set_encoder = 0;//é”çš„ç¼–ç 
 519:TASK/src/gimbal_task.c ****     static int8_t  Status = 0;//å¼€å…³é•œæƒ…å†µ
 520:TASK/src/gimbal_task.c ****     static uint16_t On_set_time = 0;//é•¿æŒ‰å¼€é•œè®¡æ—¶å™¨
 521:TASK/src/gimbal_task.c ****     static uint16_t Off_set_time = 0;//é•¿æŒ‰å…³é•œè®¡æ—¶å™¨
 522:TASK/src/gimbal_task.c ****     static uint8_t  Left_move_flag = 0;//å‘å·¦å¾®è°ƒæ ‡å¿—
 523:TASK/src/gimbal_task.c ****     static uint8_t  Right_move_flag = 0;//å‘å³å¾®è°ƒæ ‡å¿—
 524:TASK/src/gimbal_task.c ****     static uint8_t  FUCK = 1;
 525:TASK/src/gimbal_task.c **** 
 526:TASK/src/gimbal_task.c ****     if (Photo_motor_online == 0) return;//ç­‰å¾…2006ä¸Šç”µåŽå†æ ¡å‡†
 527:TASK/src/gimbal_task.c ****     
 528:TASK/src/gimbal_task.c ****     if (Reset_flag)
 529:TASK/src/gimbal_task.c ****     {
 530:TASK/src/gimbal_task.c ****         Set_MG995_Angle_flag = 1;
 531:TASK/src/gimbal_task.c ****         Status = 0;
 532:TASK/src/gimbal_task.c ****         Gimbal.Phtot_Angle = 92;
 533:TASK/src/gimbal_task.c ****         
 534:TASK/src/gimbal_task.c ****         Gimbal.Photo_Motor->current_input = to_lock > 0? (-2000):0 ;//è½¬åŠ¨åˆ°é™ä½
 535:TASK/src/gimbal_task.c ****         
 536:TASK/src/gimbal_task.c ****         if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬
 537:TASK/src/gimbal_task.c ****         {
 538:TASK/src/gimbal_task.c ****             if (to_lock > 0)    to_lock--;//æ™šä¸Šå¥½å¤œä¹‹åŸŽ 
 539:TASK/src/gimbal_task.c ****         }
 540:TASK/src/gimbal_task.c ****         if (to_lock == 0)//å µè½¬è®¡æ—¶åˆ°
 541:TASK/src/gimbal_task.c ****         {
 542:TASK/src/gimbal_task.c ****             to_unlock--;//ç”µæµè®¾å®šä¸º0ï¼Œé‡Šæ”¾å µè½¬äº§ç”Ÿçš„å¼¹æ€§å½¢å˜
 543:TASK/src/gimbal_task.c ****             if (to_unlock == 0)
 544:TASK/src/gimbal_task.c ****             {
 545:TASK/src/gimbal_task.c ****                 Reset_flag = 0;//å·²å®Œæˆæ ¡å‡†
 546:TASK/src/gimbal_task.c ****                 lock_position_encoder = Gimbal.Photo_Motor->Motor_encoder.Encode_Record_Val;//ï¿½ï¿
 547:TASK/src/gimbal_task.c ****                 Set_encoder = lock_position_encoder + move;//å µè½¬ä½å’Œå¼€é•œä½é—´æœ‰å·®å¼‚
 548:TASK/src/gimbal_task.c ****             }
 549:TASK/src/gimbal_task.c ****             
 550:TASK/src/gimbal_task.c ****         }
 551:TASK/src/gimbal_task.c ****     }
 552:TASK/src/gimbal_task.c ****     else 
 553:TASK/src/gimbal_task.c ****     {
 554:TASK/src/gimbal_task.c ****     /*çŸ­æŒ‰å¾®è°ƒ*/
 555:TASK/src/gimbal_task.c ****     /*é•¿æŒ‰å¼€é•œ*/
 556:TASK/src/gimbal_task.c ****         
 557:TASK/src/gimbal_task.c ****         
 558:TASK/src/gimbal_task.c ****     uint8_t unlook_C_flag = 1;
 559:TASK/src/gimbal_task.c ****     static uint8_t B_set = 1;
 560:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.B == 1)
 561:TASK/src/gimbal_task.c ****     {
 562:TASK/src/gimbal_task.c ****         unlook_C_flag = 0;
 563:TASK/src/gimbal_task.c ****         Off_set_time++;//é•¿æŒ‰è®¡æ—¶å™¨
 564:TASK/src/gimbal_task.c ****         if (B_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 565:TASK/src/gimbal_task.c ****         {
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 13


 566:TASK/src/gimbal_task.c ****             B_set = 0;
 567:TASK/src/gimbal_task.c ****             if (Status == -1) Right_move_flag = 1;//å‘å³å¾®è°ƒ
 568:TASK/src/gimbal_task.c ****         }
 569:TASK/src/gimbal_task.c ****     }
 570:TASK/src/gimbal_task.c ****     else
 571:TASK/src/gimbal_task.c ****     {
 572:TASK/src/gimbal_task.c ****         B_set = 1;
 573:TASK/src/gimbal_task.c ****         if (Off_set_time > 0) Off_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 574:TASK/src/gimbal_task.c ****     }
 575:TASK/src/gimbal_task.c **** 
 576:TASK/src/gimbal_task.c ****     static uint8_t C_set = 1;
 577:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.C == 1 && unlook_C_flag) 
 578:TASK/src/gimbal_task.c ****     {
 579:TASK/src/gimbal_task.c ****         On_set_time++;//é•¿æŒ‰è®¡æ—¶å™¨
 580:TASK/src/gimbal_task.c ****         if (C_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 581:TASK/src/gimbal_task.c ****         {
 582:TASK/src/gimbal_task.c ****             C_set = 0;
 583:TASK/src/gimbal_task.c ****             if (Status == -1)   Left_move_flag = 1;//å¼€å€é•œæ—¶æ‰å…è®¸å‘å·¦å¾®è°ƒ
 584:TASK/src/gimbal_task.c ****         }
 585:TASK/src/gimbal_task.c ****     }
 586:TASK/src/gimbal_task.c ****     else
 587:TASK/src/gimbal_task.c ****     {
 588:TASK/src/gimbal_task.c ****         C_set = 1;//æŒ‰é”®æ¾å¼€æ£€æµ‹
 589:TASK/src/gimbal_task.c ****         if (On_set_time > 0) On_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 590:TASK/src/gimbal_task.c ****     }
 591:TASK/src/gimbal_task.c ****     
 592:TASK/src/gimbal_task.c ****     if (On_set_time > 500)//é•¿æŒ‰ä¸€ç§’å¼€é•œ
 593:TASK/src/gimbal_task.c ****     {
 594:TASK/src/gimbal_task.c ****         if (Status != -1)
 595:TASK/src/gimbal_task.c ****         {
 596:TASK/src/gimbal_task.c ****             FUCK = 1;
 597:TASK/src/gimbal_task.c ****             to_lock = 300;
 598:TASK/src/gimbal_task.c ****             to_unlock = 300;
 599:TASK/src/gimbal_task.c ****             Set_Photo_Angle_delay = 200;
 600:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 1;
 601:TASK/src/gimbal_task.c ****             Status = -1;
 602:TASK/src/gimbal_task.c ****         }
 603:TASK/src/gimbal_task.c ****     }
 604:TASK/src/gimbal_task.c ****     
 605:TASK/src/gimbal_task.c ****     if (Off_set_time > 500)//é•¿æŒ‰ä¸€ç§’å…³é•œ
 606:TASK/src/gimbal_task.c ****     {
 607:TASK/src/gimbal_task.c ****         if (Status != 1)
 608:TASK/src/gimbal_task.c ****         {
 609:TASK/src/gimbal_task.c ****             Left_move_flag = 1;//è¡¥å¿é•¿æŒ‰å…³é•œè¢«è¯¯è¯†åˆ«çš„çŸ­æŒ‰
 610:TASK/src/gimbal_task.c ****             Set_Photo_Angle_delay = 200;
 611:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 1;
 612:TASK/src/gimbal_task.c ****             Status = 1;
 613:TASK/src/gimbal_task.c ****         }
 614:TASK/src/gimbal_task.c **** 
 615:TASK/src/gimbal_task.c ****     }
 616:TASK/src/gimbal_task.c **** 
 617:TASK/src/gimbal_task.c ****     if (Left_move_flag == 1)//å‘å·¦å¾®è°ƒ
 618:TASK/src/gimbal_task.c ****     {
 619:TASK/src/gimbal_task.c ****         Left_move_flag = 0;
 620:TASK/src/gimbal_task.c ****         move-=500;
 621:TASK/src/gimbal_task.c ****     }
 622:TASK/src/gimbal_task.c ****     if (Right_move_flag == 1)//å‘å³å¾®è°ƒ
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 14


 623:TASK/src/gimbal_task.c ****     {
 624:TASK/src/gimbal_task.c ****         Right_move_flag = 0;
 625:TASK/src/gimbal_task.c ****         move+=500;
 626:TASK/src/gimbal_task.c ****     }
 627:TASK/src/gimbal_task.c ****     
 628:TASK/src/gimbal_task.c ****     
 629:TASK/src/gimbal_task.c ****     
 630:TASK/src/gimbal_task.c ****         /*FçŸ­æŒ‰*/
 631:TASK/src/gimbal_task.c ****         static uint8_t F_set = 1;
 632:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.F == 1)
 633:TASK/src/gimbal_task.c ****         {
 634:TASK/src/gimbal_task.c ****             if (F_set)
 635:TASK/src/gimbal_task.c ****             {
 636:TASK/src/gimbal_task.c ****                 F_set = 0;
 637:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle--;
 638:TASK/src/gimbal_task.c ****             }
 639:TASK/src/gimbal_task.c ****         }
 640:TASK/src/gimbal_task.c ****         else
 641:TASK/src/gimbal_task.c ****             F_set = 1;
 642:TASK/src/gimbal_task.c ****         
 643:TASK/src/gimbal_task.c ****         /*VçŸ­æŒ‰*/
 644:TASK/src/gimbal_task.c ****         static uint8_t V_set = 1;
 645:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.V == 1)
 646:TASK/src/gimbal_task.c ****         {
 647:TASK/src/gimbal_task.c ****             if (V_set)
 648:TASK/src/gimbal_task.c ****             {
 649:TASK/src/gimbal_task.c ****                 V_set = 0;
 650:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle++;
 651:TASK/src/gimbal_task.c ****             }
 652:TASK/src/gimbal_task.c ****         }
 653:TASK/src/gimbal_task.c ****         else
 654:TASK/src/gimbal_task.c ****             V_set = 1;
 655:TASK/src/gimbal_task.c ****         
 656:TASK/src/gimbal_task.c ****         
 657:TASK/src/gimbal_task.c ****         Gimbal.Photo_Motor->current_input = motor_position_speed_control(&Gimbal.Photo_Motor_SPEED_
 658:TASK/src/gimbal_task.c ****     }
 659:TASK/src/gimbal_task.c ****         
 660:TASK/src/gimbal_task.c ****     //æ‰§è¡ŒåŠ¨ä½œ
 661:TASK/src/gimbal_task.c ****     if (Status == 1)//å…³é•œ
 662:TASK/src/gimbal_task.c ****     {
 663:TASK/src/gimbal_task.c ****         if (Set_MG995_Angle_flag)//é¦–æ¬¡æ‰§è¡ŒåŠ¨ä½œï¼Œä¸€é”®è®¾å®šèˆµæœºè§’åº¦
 664:TASK/src/gimbal_task.c ****         {
 665:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 0;
 666:TASK/src/gimbal_task.c ****             Gimbal.Phtot_Angle = 85;
 667:TASK/src/gimbal_task.c ****         }
 668:TASK/src/gimbal_task.c ****         value_limit(Gimbal.Phtot_Angle,85,130);
 669:TASK/src/gimbal_task.c ****         
 670:TASK/src/gimbal_task.c ****         
 671:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay > 0)   Set_Photo_Angle_delay--;//ä½¿ç”¨ç®€å•å»¶æ—¶ç­‰å¾…èˆµæœºåˆ
 672:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay == 0)
 673:TASK/src/gimbal_task.c ****         {
 674:TASK/src/gimbal_task.c ****             Set_encoder = lock_position_encoder + move + 90000;
 675:TASK/src/gimbal_task.c ****         }
 676:TASK/src/gimbal_task.c ****     }        
 677:TASK/src/gimbal_task.c ****     
 678:TASK/src/gimbal_task.c ****     if (Status == -1) //ç”±äºŽç¼–ç å€¼ä¼šé£˜ï¼Œæ‰€ä»¥æ¯æ¬¡å¼€é•œéƒ½è½»æ’žé™ä½é‡ç½®
 679:TASK/src/gimbal_task.c ****     {
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 15


 680:TASK/src/gimbal_task.c ****         Set_encoder = lock_position_encoder + move;//å¼€é•œ
 681:TASK/src/gimbal_task.c ****         
 682:TASK/src/gimbal_task.c ****         if (FUCK == 1)//æ“è›‹å¼€é•œæ ¡å‡†
 683:TASK/src/gimbal_task.c ****         {
 684:TASK/src/gimbal_task.c ****             Gimbal.Photo_Motor->current_input = to_lock > 0? (-2000):0 ;//è½¬åŠ¨åˆ°é™ä½
 685:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 686:TASK/src/gimbal_task.c ****             {
 687:TASK/src/gimbal_task.c ****                 if (to_lock > 0)    to_lock--;//æ™šä¸Šå¥½å¤œä¹‹åŸŽ 
 688:TASK/src/gimbal_task.c ****             }
 689:TASK/src/gimbal_task.c ****             if (to_lock == 0)//å µè½¬è®¡æ—¶åˆ°
 690:TASK/src/gimbal_task.c ****             {
 691:TASK/src/gimbal_task.c ****                 if (to_unlock > 0) to_unlock--;
 692:TASK/src/gimbal_task.c ****                 if (to_unlock == 0)
 693:TASK/src/gimbal_task.c ****                 {
 694:TASK/src/gimbal_task.c ****                     //å·²å®Œæˆæ ¡å‡†
 695:TASK/src/gimbal_task.c ****                     lock_position_encoder = Gimbal.Photo_Motor->Motor_encoder.Encode_Record_Val;//ï
 696:TASK/src/gimbal_task.c **** //                    Set_encoder = lock_position_encoder + move;//å¼€é•œ
 697:TASK/src/gimbal_task.c ****                     FUCK = 0;
 698:TASK/src/gimbal_task.c ****                 }
 699:TASK/src/gimbal_task.c ****             }
 700:TASK/src/gimbal_task.c ****             last_Photo_Motor_encoder = Gimbal.Photo_Motor->Motor_encoder.Encode_Record_Val;
 701:TASK/src/gimbal_task.c ****         }
 702:TASK/src/gimbal_task.c ****         else
 703:TASK/src/gimbal_task.c ****         {
 704:TASK/src/gimbal_task.c ****             if (Set_MG995_Angle_flag && (abs(Gimbal.Photo_Motor->Motor_encoder.Encode_Record_Val - 
 705:TASK/src/gimbal_task.c ****             {
 706:TASK/src/gimbal_task.c ****                 Set_MG995_Angle_flag = 0;
 707:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle = 85 + Gimbal.ins->Pitch * spin;
 708:TASK/src/gimbal_task.c ****             }
 709:TASK/src/gimbal_task.c ****             value_limit(Gimbal.Phtot_Angle,85,130);
 710:TASK/src/gimbal_task.c ****         }
 711:TASK/src/gimbal_task.c ****     }//æ”¾å¤§èˆµæœºè§’åº¦   
 712:TASK/src/gimbal_task.c ****     
 713:TASK/src/gimbal_task.c **** }
 714:TASK/src/gimbal_task.c **** void RGB_LED(void)
 715:TASK/src/gimbal_task.c **** {
 129              		.loc 1 715 1 is_stmt 1 view -0
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
 132              		@ frame_needed = 0, uses_anonymous_args = 0
 133              		@ link register save eliminated.
 134 0000 10B4     		push	{r4}
 135              	.LCFI0:
 136              		.cfi_def_cfa_offset 4
 137              		.cfi_offset 4, -4
 716:TASK/src/gimbal_task.c ****     static uint16_t idx_1 = 0;
 138              		.loc 1 716 5 view .LVU16
 717:TASK/src/gimbal_task.c ****     static uint16_t idx_2 = 0;
 139              		.loc 1 717 5 view .LVU17
 718:TASK/src/gimbal_task.c ****     static uint16_t idx_3 = 0;
 140              		.loc 1 718 5 view .LVU18
 719:TASK/src/gimbal_task.c **** 
 720:TASK/src/gimbal_task.c ****         __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_1,sin_value[idx_1]*1000);
 141              		.loc 1 720 9 view .LVU19
 142 0002 1F4B     		ldr	r3, .L17
 143 0004 1988     		ldrh	r1, [r3]
 144 0006 1F4C     		ldr	r4, .L17+4
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 16


 145 0008 34F81130 		ldrh	r3, [r4, r1, lsl #1]
 146 000c 1E4A     		ldr	r2, .L17+8
 147 000e 1068     		ldr	r0, [r2]
 148 0010 4FF47A7C 		mov	ip, #1000
 149 0014 0CFB03F3 		mul	r3, ip, r3
 150 0018 4363     		str	r3, [r0, #52]
 721:TASK/src/gimbal_task.c ****         __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_2,sin_value[idx_2]*1000);
 151              		.loc 1 721 9 view .LVU20
 152 001a 1C4B     		ldr	r3, .L17+12
 153 001c 1A88     		ldrh	r2, [r3]
 154 001e 34F81230 		ldrh	r3, [r4, r2, lsl #1]
 155 0022 0CFB03F3 		mul	r3, ip, r3
 156 0026 8363     		str	r3, [r0, #56]
 722:TASK/src/gimbal_task.c ****         __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_3,sin_value[idx_3]*1000);
 157              		.loc 1 722 9 view .LVU21
 158 0028 194B     		ldr	r3, .L17+16
 159 002a 1B88     		ldrh	r3, [r3]
 160 002c 34F81340 		ldrh	r4, [r4, r3, lsl #1]
 161 0030 0CFB04F4 		mul	r4, ip, r4
 162 0034 C463     		str	r4, [r0, #60]
 723:TASK/src/gimbal_task.c ****     
 724:TASK/src/gimbal_task.c ****     //ä¸‰è‰²ç¯ä»¥ä¸åŒå‘¨æœŸè¿è¡Œæ­£å¼¦æ³¢
 725:TASK/src/gimbal_task.c ****    if (idx_1 < 990)  idx_1+=1;
 163              		.loc 1 725 4 view .LVU22
 164              		.loc 1 725 7 is_stmt 0 view .LVU23
 165 0036 40F2DD30 		movw	r0, #989
 166 003a 8142     		cmp	r1, r0
 167 003c 13D8     		bhi	.L10
 168              		.loc 1 725 22 is_stmt 1 discriminator 1 view .LVU24
 169              		.loc 1 725 27 is_stmt 0 discriminator 1 view .LVU25
 170 003e 0131     		adds	r1, r1, #1
 171 0040 0F48     		ldr	r0, .L17
 172 0042 0180     		strh	r1, [r0]	@ movhi
 173              	.L11:
 726:TASK/src/gimbal_task.c ****     else    idx_1 = 0;
 727:TASK/src/gimbal_task.c ****     
 728:TASK/src/gimbal_task.c ****        if (idx_2 < 990)  idx_2+=2;
 174              		.loc 1 728 8 is_stmt 1 view .LVU26
 175              		.loc 1 728 11 is_stmt 0 view .LVU27
 176 0044 40F2DD31 		movw	r1, #989
 177 0048 8A42     		cmp	r2, r1
 178 004a 10D8     		bhi	.L12
 179              		.loc 1 728 26 is_stmt 1 discriminator 1 view .LVU28
 180              		.loc 1 728 31 is_stmt 0 discriminator 1 view .LVU29
 181 004c 0232     		adds	r2, r2, #2
 182 004e 0F49     		ldr	r1, .L17+12
 183 0050 0A80     		strh	r2, [r1]	@ movhi
 184              	.L13:
 729:TASK/src/gimbal_task.c ****     else    idx_2 = 0;
 730:TASK/src/gimbal_task.c ****     
 731:TASK/src/gimbal_task.c ****        if (idx_3 < 990)  idx_3+=3;
 185              		.loc 1 731 8 is_stmt 1 view .LVU30
 186              		.loc 1 731 11 is_stmt 0 view .LVU31
 187 0052 40F2DD32 		movw	r2, #989
 188 0056 9342     		cmp	r3, r2
 189 0058 0DD8     		bhi	.L14
 190              		.loc 1 731 26 is_stmt 1 discriminator 1 view .LVU32
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 17


 191              		.loc 1 731 31 is_stmt 0 discriminator 1 view .LVU33
 192 005a 0333     		adds	r3, r3, #3
 193 005c 0C4A     		ldr	r2, .L17+16
 194 005e 1380     		strh	r3, [r2]	@ movhi
 195              	.L9:
 732:TASK/src/gimbal_task.c ****     else    idx_3 = 0;
 733:TASK/src/gimbal_task.c **** }
 196              		.loc 1 733 1 view .LVU34
 197 0060 5DF8044B 		ldr	r4, [sp], #4
 198              	.LCFI1:
 199              		.cfi_remember_state
 200              		.cfi_restore 4
 201              		.cfi_def_cfa_offset 0
 202 0064 7047     		bx	lr
 203              	.L10:
 204              	.LCFI2:
 205              		.cfi_restore_state
 726:TASK/src/gimbal_task.c ****     
 206              		.loc 1 726 13 is_stmt 1 view .LVU35
 726:TASK/src/gimbal_task.c ****     
 207              		.loc 1 726 19 is_stmt 0 view .LVU36
 208 0066 0649     		ldr	r1, .L17
 209 0068 0020     		movs	r0, #0
 210 006a 0880     		strh	r0, [r1]	@ movhi
 211 006c EAE7     		b	.L11
 212              	.L12:
 729:TASK/src/gimbal_task.c ****     else    idx_2 = 0;
 213              		.loc 1 729 13 is_stmt 1 view .LVU37
 729:TASK/src/gimbal_task.c ****     else    idx_2 = 0;
 214              		.loc 1 729 19 is_stmt 0 view .LVU38
 215 006e 074A     		ldr	r2, .L17+12
 216 0070 0021     		movs	r1, #0
 217 0072 1180     		strh	r1, [r2]	@ movhi
 218 0074 EDE7     		b	.L13
 219              	.L14:
 732:TASK/src/gimbal_task.c ****     else    idx_3 = 0;
 220              		.loc 1 732 13 is_stmt 1 view .LVU39
 732:TASK/src/gimbal_task.c ****     else    idx_3 = 0;
 221              		.loc 1 732 19 is_stmt 0 view .LVU40
 222 0076 064B     		ldr	r3, .L17+16
 223 0078 0022     		movs	r2, #0
 224 007a 1A80     		strh	r2, [r3]	@ movhi
 225              		.loc 1 733 1 view .LVU41
 226 007c F0E7     		b	.L9
 227              	.L18:
 228 007e 00BF     		.align	2
 229              	.L17:
 230 0080 00000000 		.word	.LANCHOR3
 231 0084 00000000 		.word	.LANCHOR4
 232 0088 00000000 		.word	htim5
 233 008c 00000000 		.word	.LANCHOR5
 234 0090 00000000 		.word	.LANCHOR6
 235              		.cfi_endproc
 236              	.LFE188:
 238              		.section	.text.pitch_can_rx_CallBack,"ax",%progbits
 239              		.align	1
 240              		.global	pitch_can_rx_CallBack
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 18


 241              		.syntax unified
 242              		.thumb
 243              		.thumb_func
 245              	pitch_can_rx_CallBack:
 246              	.LFB174:
  80:TASK/src/gimbal_task.c ****     Safe_Task_online_ptr_(Pitch_Motor_Safe);
 247              		.loc 1 80 1 is_stmt 1 view -0
 248              		.cfi_startproc
 249              		@ args = 0, pretend = 0, frame = 0
 250              		@ frame_needed = 0, uses_anonymous_args = 0
 251 0000 08B5     		push	{r3, lr}
 252              	.LCFI3:
 253              		.cfi_def_cfa_offset 8
 254              		.cfi_offset 3, -8
 255              		.cfi_offset 14, -4
  81:TASK/src/gimbal_task.c ****     pitch_motor_is_online = 1;
 256              		.loc 1 81 5 view .LVU43
 257 0002 044B     		ldr	r3, .L21
 258 0004 1868     		ldr	r0, [r3]
 259 0006 FFF7FEFF 		bl	Safe_Task_online_ptr_
 260              	.LVL0:
  82:TASK/src/gimbal_task.c **** }
 261              		.loc 1 82 5 view .LVU44
  82:TASK/src/gimbal_task.c **** }
 262              		.loc 1 82 27 is_stmt 0 view .LVU45
 263 000a 034B     		ldr	r3, .L21+4
 264 000c 0122     		movs	r2, #1
 265 000e 1A70     		strb	r2, [r3]
  83:TASK/src/gimbal_task.c **** 
 266              		.loc 1 83 1 view .LVU46
 267 0010 08BD     		pop	{r3, pc}
 268              	.L22:
 269 0012 00BF     		.align	2
 270              	.L21:
 271 0014 00000000 		.word	.LANCHOR7
 272 0018 00000000 		.word	.LANCHOR8
 273              		.cfi_endproc
 274              	.LFE174:
 276              		.section	.rodata.Gimbal_Init.str1.4,"aMS",%progbits,1
 277              		.align	2
 278              	.LC0:
 279 0000 50697463 		.ascii	"Pitch_Motor_Safe\000"
 279      685F4D6F 
 279      746F725F 
 279      53616665 
 279      00
 280              		.section	.text.Gimbal_Init,"ax",%progbits
 281              		.align	1
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 286              	Gimbal_Init:
 287              	.LFB181:
 232:TASK/src/gimbal_task.c ****     Gimbal.Phtot_Angle = 85.0f;
 288              		.loc 1 232 1 is_stmt 1 view -0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 19


 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292 0000 30B5     		push	{r4, r5, lr}
 293              	.LCFI4:
 294              		.cfi_def_cfa_offset 12
 295              		.cfi_offset 4, -12
 296              		.cfi_offset 5, -8
 297              		.cfi_offset 14, -4
 298 0002 2DED048B 		vpush.64	{d8, d9}
 299              	.LCFI5:
 300              		.cfi_def_cfa_offset 28
 301              		.cfi_offset 80, -28
 302              		.cfi_offset 81, -24
 303              		.cfi_offset 82, -20
 304              		.cfi_offset 83, -16
 305 0006 83B0     		sub	sp, sp, #12
 306              	.LCFI6:
 307              		.cfi_def_cfa_offset 40
 233:TASK/src/gimbal_task.c ****     Gimbal.Gimbal_CMD = Get_Gimbal_CMD_point();
 308              		.loc 1 233 5 view .LVU48
 233:TASK/src/gimbal_task.c ****     Gimbal.Gimbal_CMD = Get_Gimbal_CMD_point();
 309              		.loc 1 233 24 is_stmt 0 view .LVU49
 310 0008 9E4C     		ldr	r4, .L25
 311 000a 04F2DC43 		addw	r3, r4, #1244
 312 000e 9E4A     		ldr	r2, .L25+4
 313 0010 1A60     		str	r2, [r3]	@ float
 234:TASK/src/gimbal_task.c ****     Gimbal.ins = get_imu_control_point();
 314              		.loc 1 234 5 is_stmt 1 view .LVU50
 234:TASK/src/gimbal_task.c ****     Gimbal.ins = get_imu_control_point();
 315              		.loc 1 234 25 is_stmt 0 view .LVU51
 316 0012 FFF7FEFF 		bl	Get_Gimbal_CMD_point
 317              	.LVL1:
 234:TASK/src/gimbal_task.c ****     Gimbal.ins = get_imu_control_point();
 318              		.loc 1 234 23 view .LVU52
 319 0016 2060     		str	r0, [r4]
 235:TASK/src/gimbal_task.c ****     Gimbal.Photo_Motor = DJIMotor_Init(1,8,false,M2006,3600/2/PI);
 320              		.loc 1 235 5 is_stmt 1 view .LVU53
 235:TASK/src/gimbal_task.c ****     Gimbal.Photo_Motor = DJIMotor_Init(1,8,false,M2006,3600/2/PI);
 321              		.loc 1 235 18 is_stmt 0 view .LVU54
 322 0018 FFF7FEFF 		bl	get_imu_control_point
 323              	.LVL2:
 235:TASK/src/gimbal_task.c ****     Gimbal.Photo_Motor = DJIMotor_Init(1,8,false,M2006,3600/2/PI);
 324              		.loc 1 235 16 view .LVU55
 325 001c 6060     		str	r0, [r4, #4]
 236:TASK/src/gimbal_task.c ****     Gimbal.YAW_Motor = DJIMotor_Init(2,1,false,GM6020,3600/2/PI);
 326              		.loc 1 236 5 is_stmt 1 view .LVU56
 236:TASK/src/gimbal_task.c ****     Gimbal.YAW_Motor = DJIMotor_Init(2,1,false,GM6020,3600/2/PI);
 327              		.loc 1 236 26 is_stmt 0 view .LVU57
 328 001e 4FF40F75 		mov	r5, #572
 329 0022 0095     		str	r5, [sp]
 330 0024 0223     		movs	r3, #2
 331 0026 0022     		movs	r2, #0
 332 0028 0821     		movs	r1, #8
 333 002a 0120     		movs	r0, #1
 334 002c FFF7FEFF 		bl	DJIMotor_Init
 335              	.LVL3:
 236:TASK/src/gimbal_task.c ****     Gimbal.YAW_Motor = DJIMotor_Init(2,1,false,GM6020,3600/2/PI);
 336              		.loc 1 236 24 view .LVU58
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 20


 337 0030 E060     		str	r0, [r4, #12]
 237:TASK/src/gimbal_task.c ****     Gimbal.PITCH_Motor = MI_motor_init(&hcan1);
 338              		.loc 1 237 5 is_stmt 1 view .LVU59
 237:TASK/src/gimbal_task.c ****     Gimbal.PITCH_Motor = MI_motor_init(&hcan1);
 339              		.loc 1 237 24 is_stmt 0 view .LVU60
 340 0032 0095     		str	r5, [sp]
 341 0034 0123     		movs	r3, #1
 342 0036 0022     		movs	r2, #0
 343 0038 1946     		mov	r1, r3
 344 003a 0220     		movs	r0, #2
 345 003c FFF7FEFF 		bl	DJIMotor_Init
 346              	.LVL4:
 237:TASK/src/gimbal_task.c ****     Gimbal.PITCH_Motor = MI_motor_init(&hcan1);
 347              		.loc 1 237 22 view .LVU61
 348 0040 A060     		str	r0, [r4, #8]
 238:TASK/src/gimbal_task.c ****     
 349              		.loc 1 238 5 is_stmt 1 view .LVU62
 238:TASK/src/gimbal_task.c ****     
 350              		.loc 1 238 26 is_stmt 0 view .LVU63
 351 0042 9248     		ldr	r0, .L25+8
 352 0044 FFF7FEFF 		bl	MI_motor_init
 353              	.LVL5:
 238:TASK/src/gimbal_task.c ****     
 354              		.loc 1 238 24 view .LVU64
 355 0048 2061     		str	r0, [r4, #16]
 240:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Speed_PID,Integral_Limit,0,0);//ç§¯åˆ†é™å¹…
 356              		.loc 1 240 5 is_stmt 1 view .LVU65
 357 004a 9FED918A 		vldr.32	s16, .L25+12
 358 004e 04F5A675 		add	r5, r4, #332
 359 0052 0621     		movs	r1, #6
 360 0054 B0EE481A 		vmov.f32	s2, s16
 361 0058 F0EE480A 		vmov.f32	s1, s16
 362 005c B0EE480A 		vmov.f32	s0, s16
 363 0060 2846     		mov	r0, r5
 364 0062 FFF7FEFF 		bl	PidInit
 365              	.LVL6:
 241:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Speed_PID,Output_Limit,4,0);//è¾“å‡ºé™å¹…
 366              		.loc 1 241 5 view .LVU66
 367 0066 F0EE480A 		vmov.f32	s1, s16
 368 006a B0EE480A 		vmov.f32	s0, s16
 369 006e 0221     		movs	r1, #2
 370 0070 2846     		mov	r0, r5
 371 0072 FFF7FEFF 		bl	PidInitMode
 372              	.LVL7:
 242:TASK/src/gimbal_task.c ****     
 373              		.loc 1 242 5 view .LVU67
 374 0076 F0EE480A 		vmov.f32	s1, s16
 375 007a B1EE000A 		vmov.f32	s0, #4.0e+0
 376 007e 0421     		movs	r1, #4
 377 0080 2846     		mov	r0, r5
 378 0082 FFF7FEFF 		bl	PidInitMode
 379              	.LVL8:
 244:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Position_PID, Integral_Limit, 0, 0);
 380              		.loc 1 244 5 view .LVU68
 381 0086 04F5F275 		add	r5, r4, #484
 382 008a 4FF48371 		mov	r1, #262
 383 008e B0EE481A 		vmov.f32	s2, s16
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 21


 384 0092 F0EE480A 		vmov.f32	s1, s16
 385 0096 B0EE480A 		vmov.f32	s0, s16
 386 009a 2846     		mov	r0, r5
 387 009c FFF7FEFF 		bl	PidInit
 388              	.LVL9:
 245:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Position_PID, Output_Limit, 0, 0);
 389              		.loc 1 245 5 view .LVU69
 390 00a0 F0EE480A 		vmov.f32	s1, s16
 391 00a4 B0EE480A 		vmov.f32	s0, s16
 392 00a8 0221     		movs	r1, #2
 393 00aa 2846     		mov	r0, r5
 394 00ac FFF7FEFF 		bl	PidInitMode
 395              	.LVL10:
 246:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.PITCH_Motor_Position_PID, StepIn, 30, 0);
 396              		.loc 1 246 5 view .LVU70
 397 00b0 F0EE480A 		vmov.f32	s1, s16
 398 00b4 B0EE480A 		vmov.f32	s0, s16
 399 00b8 0421     		movs	r1, #4
 400 00ba 2846     		mov	r0, r5
 401 00bc FFF7FEFF 		bl	PidInitMode
 402              	.LVL11:
 247:TASK/src/gimbal_task.c ****     
 403              		.loc 1 247 5 view .LVU71
 404 00c0 F0EE480A 		vmov.f32	s1, s16
 405 00c4 B3EE0E0A 		vmov.f32	s0, #3.0e+1
 406 00c8 4FF48071 		mov	r1, #256
 407 00cc 2846     		mov	r0, r5
 408 00ce FFF7FEFF 		bl	PidInitMode
 409              	.LVL12:
 249:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_SPEED_PID,Integral_Limit,1000,0);//ç§¯åˆ†é™å¹…æ¨¡å¼è®¾ç½®
 410              		.loc 1 249 5 view .LVU72
 411 00d2 DFED708A 		vldr.32	s17, .L25+16
 412 00d6 04F51F75 		add	r5, r4, #636
 413 00da 0621     		movs	r1, #6
 414 00dc B2EE0E1A 		vmov.f32	s2, #1.5e+1
 415 00e0 F0EE480A 		vmov.f32	s1, s16
 416 00e4 B0EE680A 		vmov.f32	s0, s17
 417 00e8 2846     		mov	r0, r5
 418 00ea FFF7FEFF 		bl	PidInit
 419              	.LVL13:
 250:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_SPEED_PID,Output_Limit,25000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®
 420              		.loc 1 250 5 view .LVU73
 421 00ee 9FED6A9A 		vldr.32	s18, .L25+20
 422 00f2 F0EE480A 		vmov.f32	s1, s16
 423 00f6 B0EE490A 		vmov.f32	s0, s18
 424 00fa 0221     		movs	r1, #2
 425 00fc 2846     		mov	r0, r5
 426 00fe FFF7FEFF 		bl	PidInitMode
 427              	.LVL14:
 251:TASK/src/gimbal_task.c ****     
 428              		.loc 1 251 5 view .LVU74
 429 0102 F0EE480A 		vmov.f32	s1, s16
 430 0106 9FED650A 		vldr.32	s0, .L25+24
 431 010a 0421     		movs	r1, #4
 432 010c 2846     		mov	r0, r5
 433 010e FFF7FEFF 		bl	PidInitMode
 434              	.LVL15:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 22


 253:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_Position_PID,Output_Limit,200,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 435              		.loc 1 253 5 view .LVU75
 436 0112 04F54575 		add	r5, r4, #788
 437 0116 0621     		movs	r1, #6
 438 0118 B0EE481A 		vmov.f32	s2, s16
 439 011c F0EE480A 		vmov.f32	s1, s16
 440 0120 B0EE000A 		vmov.f32	s0, #2.0e+0
 441 0124 2846     		mov	r0, r5
 442 0126 FFF7FEFF 		bl	PidInit
 443              	.LVL16:
 254:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.YAW_Motor_Position_PID,Integral_Limit,200,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 444              		.loc 1 254 5 view .LVU76
 445 012a F0EE480A 		vmov.f32	s1, s16
 446 012e B0EE680A 		vmov.f32	s0, s17
 447 0132 0421     		movs	r1, #4
 448 0134 2846     		mov	r0, r5
 449 0136 FFF7FEFF 		bl	PidInitMode
 450              	.LVL17:
 255:TASK/src/gimbal_task.c **** 
 451              		.loc 1 255 5 view .LVU77
 452 013a F0EE480A 		vmov.f32	s1, s16
 453 013e B0EE680A 		vmov.f32	s0, s17
 454 0142 0221     		movs	r1, #2
 455 0144 2846     		mov	r0, r5
 456 0146 FFF7FEFF 		bl	PidInitMode
 457              	.LVL18:
 257:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.yaw_only_i_pid,Integral_Limit,10000,0);//ç§¯åˆ†é™å¹…æ¨¡å¼è®¾ç½®
 458              		.loc 1 257 5 view .LVU78
 459 014a 04F1B405 		add	r5, r4, #180
 460 014e 1621     		movs	r1, #22
 461 0150 B0EE481A 		vmov.f32	s2, s16
 462 0154 F7EE080A 		vmov.f32	s1, #1.5e+0
 463 0158 B0EE480A 		vmov.f32	s0, s16
 464 015c 2846     		mov	r0, r5
 465 015e FFF7FEFF 		bl	PidInit
 466              	.LVL19:
 258:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.yaw_only_i_pid,Output_Limit,10000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 467              		.loc 1 258 5 view .LVU79
 468 0162 DFED4F9A 		vldr.32	s19, .L25+28
 469 0166 F0EE480A 		vmov.f32	s1, s16
 470 016a B0EE690A 		vmov.f32	s0, s19
 471 016e 0221     		movs	r1, #2
 472 0170 2846     		mov	r0, r5
 473 0172 FFF7FEFF 		bl	PidInitMode
 474              	.LVL20:
 259:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.yaw_only_i_pid,Separated_Integral,20,-20);
 475              		.loc 1 259 5 view .LVU80
 476 0176 F0EE480A 		vmov.f32	s1, s16
 477 017a B0EE690A 		vmov.f32	s0, s19
 478 017e 0421     		movs	r1, #4
 479 0180 2846     		mov	r0, r5
 480 0182 FFF7FEFF 		bl	PidInitMode
 481              	.LVL21:
 260:TASK/src/gimbal_task.c ****    
 482              		.loc 1 260 5 view .LVU81
 483 0186 FBEE040A 		vmov.f32	s1, #-2.0e+1
 484 018a B3EE040A 		vmov.f32	s0, #2.0e+1
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 23


 485 018e 1021     		movs	r1, #16
 486 0190 2846     		mov	r0, r5
 487 0192 FFF7FEFF 		bl	PidInitMode
 488              	.LVL22:
 262:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_SPEED_PID,Integral_Limit,1000,0);//ç§¯åˆ†é™å¹…æ¨¡å¼è®¾ç½®
 489              		.loc 1 262 5 view .LVU82
 490 0196 04F56B75 		add	r5, r4, #940
 491 019a 0621     		movs	r1, #6
 492 019c B0EE481A 		vmov.f32	s2, s16
 493 01a0 F0EE480A 		vmov.f32	s1, s16
 494 01a4 B2EE040A 		vmov.f32	s0, #1.0e+1
 495 01a8 2846     		mov	r0, r5
 496 01aa FFF7FEFF 		bl	PidInit
 497              	.LVL23:
 263:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_SPEED_PID,Output_Limit,5000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 498              		.loc 1 263 5 view .LVU83
 499 01ae F0EE480A 		vmov.f32	s1, s16
 500 01b2 B0EE490A 		vmov.f32	s0, s18
 501 01b6 0221     		movs	r1, #2
 502 01b8 2846     		mov	r0, r5
 503 01ba FFF7FEFF 		bl	PidInitMode
 504              	.LVL24:
 264:TASK/src/gimbal_task.c ****     
 505              		.loc 1 264 5 view .LVU84
 506 01be F0EE480A 		vmov.f32	s1, s16
 507 01c2 9FED380A 		vldr.32	s0, .L25+32
 508 01c6 0421     		movs	r1, #4
 509 01c8 2846     		mov	r0, r5
 510 01ca FFF7FEFF 		bl	PidInitMode
 511              	.LVL25:
 266:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_Position_PID,Output_Limit,1000,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 512              		.loc 1 266 5 view .LVU85
 513 01ce 04F24445 		addw	r5, r4, #1092
 514 01d2 0621     		movs	r1, #6
 515 01d4 B0EE481A 		vmov.f32	s2, s16
 516 01d8 F0EE480A 		vmov.f32	s1, s16
 517 01dc 9FED320A 		vldr.32	s0, .L25+36
 518 01e0 2846     		mov	r0, r5
 519 01e2 FFF7FEFF 		bl	PidInit
 520              	.LVL26:
 267:TASK/src/gimbal_task.c ****     PidInitMode(&Gimbal.Photo_Motor_Position_PID,Integral_Limit,200,0);//è¾“å‡ºé™å¹…æ¨¡å¼è®¾ç½®?
 521              		.loc 1 267 5 view .LVU86
 522 01e6 F0EE480A 		vmov.f32	s1, s16
 523 01ea B0EE490A 		vmov.f32	s0, s18
 524 01ee 0421     		movs	r1, #4
 525 01f0 2846     		mov	r0, r5
 526 01f2 FFF7FEFF 		bl	PidInitMode
 527              	.LVL27:
 268:TASK/src/gimbal_task.c ****     
 528              		.loc 1 268 5 view .LVU87
 529 01f6 F0EE480A 		vmov.f32	s1, s16
 530 01fa B0EE680A 		vmov.f32	s0, s17
 531 01fe 0221     		movs	r1, #2
 532 0200 2846     		mov	r0, r5
 533 0202 FFF7FEFF 		bl	PidInitMode
 534              	.LVL28:
 271:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_pitch_litter, 2, 1, k_pitch_lqr_down);
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 24


 535              		.loc 1 271 5 view .LVU88
 536 0206 294B     		ldr	r3, .L25+40
 537 0208 0122     		movs	r2, #1
 538 020a 0221     		movs	r1, #2
 539 020c 04F11400 		add	r0, r4, #20
 540 0210 FFF7FEFF 		bl	LQR_Init
 541              	.LVL29:
 272:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_yaw, 2, 1, k_yaw_lqr);
 542              		.loc 1 272 5 view .LVU89
 543 0214 264B     		ldr	r3, .L25+44
 544 0216 0122     		movs	r2, #1
 545 0218 0221     		movs	r1, #2
 546 021a 04F13400 		add	r0, r4, #52
 547 021e FFF7FEFF 		bl	LQR_Init
 548              	.LVL30:
 273:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_encoder_pitch, 2, 1, k_encoder_pitch_lqr);
 549              		.loc 1 273 5 view .LVU90
 550 0222 244B     		ldr	r3, .L25+48
 551 0224 0122     		movs	r2, #1
 552 0226 0221     		movs	r1, #2
 553 0228 04F15400 		add	r0, r4, #84
 554 022c FFF7FEFF 		bl	LQR_Init
 555              	.LVL31:
 274:TASK/src/gimbal_task.c ****     LQR_Init(&Gimbal.lqr_encoder_yaw, 2, 1, k_encoder_yaw_lqr);
 556              		.loc 1 274 5 view .LVU91
 557 0230 214B     		ldr	r3, .L25+52
 558 0232 0122     		movs	r2, #1
 559 0234 0221     		movs	r1, #2
 560 0236 04F17400 		add	r0, r4, #116
 561 023a FFF7FEFF 		bl	LQR_Init
 562              	.LVL32:
 275:TASK/src/gimbal_task.c ****     
 563              		.loc 1 275 5 view .LVU92
 564 023e 1F4B     		ldr	r3, .L25+56
 565 0240 0122     		movs	r2, #1
 566 0242 0221     		movs	r1, #2
 567 0244 04F19400 		add	r0, r4, #148
 568 0248 FFF7FEFF 		bl	LQR_Init
 569              	.LVL33:
 279:TASK/src/gimbal_task.c ****     //ç”µæœºå›žè°ƒå‡½æ•°è®¾ç½®
 570              		.loc 1 279 5 view .LVU93
 279:TASK/src/gimbal_task.c ****     //ç”µæœºå›žè°ƒå‡½æ•°è®¾ç½®
 571              		.loc 1 279 24 is_stmt 0 view .LVU94
 572 024c 1C4B     		ldr	r3, .L25+60
 573 024e 1D4A     		ldr	r2, .L25+64
 574 0250 1E21     		movs	r1, #30
 575 0252 1D48     		ldr	r0, .L25+68
 576 0254 FFF7FEFF 		bl	Safe_task_add
 577              	.LVL34:
 279:TASK/src/gimbal_task.c ****     //ç”µæœºå›žè°ƒå‡½æ•°è®¾ç½®
 578              		.loc 1 279 22 view .LVU95
 579 0258 1C4B     		ldr	r3, .L25+72
 580 025a 1860     		str	r0, [r3]
 281:TASK/src/gimbal_task.c ****     DJIMotor_CanRx_Callback(Gimbal.YAW_Motor, yaw_can_rx_CallBack);
 581              		.loc 1 281 5 is_stmt 1 view .LVU96
 582 025c 1C49     		ldr	r1, .L25+76
 583 025e 2069     		ldr	r0, [r4, #16]
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 25


 584 0260 FFF7FEFF 		bl	MI_Motor_CanRx_Callback
 585              	.LVL35:
 282:TASK/src/gimbal_task.c ****     DJIMotor_CanRx_Callback(Gimbal.Photo_Motor, Photo_motor_CanRx_callback);
 586              		.loc 1 282 5 view .LVU97
 587 0264 1B49     		ldr	r1, .L25+80
 588 0266 A068     		ldr	r0, [r4, #8]
 589 0268 FFF7FEFF 		bl	DJIMotor_CanRx_Callback
 590              	.LVL36:
 283:TASK/src/gimbal_task.c **** 
 591              		.loc 1 283 5 view .LVU98
 592 026c 1A49     		ldr	r1, .L25+84
 593 026e E068     		ldr	r0, [r4, #12]
 594 0270 FFF7FEFF 		bl	DJIMotor_CanRx_Callback
 595              	.LVL37:
 285:TASK/src/gimbal_task.c **** }
 596              		.loc 1 285 5 view .LVU99
 597 0274 2069     		ldr	r0, [r4, #16]
 598 0276 FFF7FEFF 		bl	MI_motor_enable
 599              	.LVL38:
 286:TASK/src/gimbal_task.c **** 
 600              		.loc 1 286 1 is_stmt 0 view .LVU100
 601 027a 03B0     		add	sp, sp, #12
 602              	.LCFI7:
 603              		.cfi_def_cfa_offset 28
 604              		@ sp needed
 605 027c BDEC048B 		vldm	sp!, {d8-d9}
 606              	.LCFI8:
 607              		.cfi_restore 82
 608              		.cfi_restore 83
 609              		.cfi_restore 80
 610              		.cfi_restore 81
 611              		.cfi_def_cfa_offset 12
 612 0280 30BD     		pop	{r4, r5, pc}
 613              	.L26:
 614 0282 00BF     		.align	2
 615              	.L25:
 616 0284 00000000 		.word	.LANCHOR1
 617 0288 0000AA42 		.word	1118437376
 618 028c 00000000 		.word	hcan1
 619 0290 00000000 		.word	0
 620 0294 00004843 		.word	1128792064
 621 0298 00007A44 		.word	1148846080
 622 029c 0050C346 		.word	1187205120
 623 02a0 00401C46 		.word	1176256512
 624 02a4 00409C45 		.word	1167867904
 625 02a8 CDCCCC3D 		.word	1036831949
 626 02ac 00000000 		.word	.LANCHOR9
 627 02b0 00000000 		.word	.LANCHOR10
 628 02b4 00000000 		.word	.LANCHOR11
 629 02b8 00000000 		.word	.LANCHOR12
 630 02bc 00000000 		.word	.LANCHOR13
 631 02c0 00000000 		.word	pitch_motor_online
 632 02c4 00000000 		.word	pitch_motor_disconnect
 633 02c8 00000000 		.word	.LC0
 634 02cc 00000000 		.word	.LANCHOR7
 635 02d0 00000000 		.word	pitch_can_rx_CallBack
 636 02d4 00000000 		.word	yaw_can_rx_CallBack
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 26


 637 02d8 00000000 		.word	Photo_motor_CanRx_callback
 638              		.cfi_endproc
 639              	.LFE181:
 641              		.section	.text.IMU_PITCH_Angle_Set_Limit,"ax",%progbits
 642              		.align	1
 643              		.syntax unified
 644              		.thumb
 645              		.thumb_func
 647              	IMU_PITCH_Angle_Set_Limit:
 648              	.LVL39:
 649              	.LFB182:
 292:TASK/src/gimbal_task.c ****     #ifdef Using_MI_Motor_Init
 650              		.loc 1 292 1 is_stmt 1 view -0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 0
 653              		@ frame_needed = 0, uses_anonymous_args = 0
 292:TASK/src/gimbal_task.c ****     #ifdef Using_MI_Motor_Init
 654              		.loc 1 292 1 is_stmt 0 view .LVU102
 655 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 656              	.LCFI9:
 657              		.cfi_def_cfa_offset 24
 658              		.cfi_offset 3, -24
 659              		.cfi_offset 4, -20
 660              		.cfi_offset 5, -16
 661              		.cfi_offset 6, -12
 662              		.cfi_offset 7, -8
 663              		.cfi_offset 14, -4
 664 0002 0546     		mov	r5, r0
 665 0004 0C46     		mov	r4, r1
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 666              		.loc 1 297 6 is_stmt 1 view .LVU103
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 667              		.loc 1 297 51 is_stmt 0 view .LVU104
 668 0006 1E4B     		ldr	r3, .L30
 669 0008 1A68     		ldr	r2, [r3]
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 670              		.loc 1 297 62 view .LVU105
 671 000a 92ED007A 		vldr.32	s14, [r2]
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 672              		.loc 1 297 97 view .LVU106
 673 000e 1A69     		ldr	r2, [r3, #16]
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 674              		.loc 1 297 109 view .LVU107
 675 0010 D2ED047A 		vldr.32	s15, [r2, #16]
 297:TASK/src/gimbal_task.c ****      fp32 Motor_Can_increased_Pitch_Angle = Gimbal.PITCH_Motor->postion - (Gimbal.Gimbal_CMD->Pitch
 676              		.loc 1 297 11 view .LVU108
 677 0014 77EE676A 		vsub.f32	s13, s14, s15
 678              	.LVL40:
 298:TASK/src/gimbal_task.c ****     #else
 679              		.loc 1 298 6 is_stmt 1 view .LVU109
 298:TASK/src/gimbal_task.c ****     #else
 680              		.loc 1 298 120 is_stmt 0 view .LVU110
 681 0018 9FED1A6A 		vldr.32	s12, .L30+4
 682 001c 37EE467A 		vsub.f32	s14, s14, s12
 298:TASK/src/gimbal_task.c ****     #else
 683              		.loc 1 298 11 view .LVU111
 684 0020 77EEC77A 		vsub.f32	s15, s15, s14
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 27


 685              	.LVL41:
 303:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit = Gimbal.ins->Pitch - Motor_Can_reduced_Pitch_Angle;
 686              		.loc 1 303 5 is_stmt 1 view .LVU112
 303:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit = Gimbal.ins->Pitch - Motor_Can_reduced_Pitch_Angle;
 687              		.loc 1 303 35 is_stmt 0 view .LVU113
 688 0024 5A68     		ldr	r2, [r3, #4]
 303:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit = Gimbal.ins->Pitch - Motor_Can_reduced_Pitch_Angle;
 689              		.loc 1 303 39 view .LVU114
 690 0026 92ED247A 		vldr.32	s14, [r2, #144]
 303:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit = Gimbal.ins->Pitch - Motor_Can_reduced_Pitch_Angle;
 691              		.loc 1 303 47 view .LVU115
 692 002a 77EE277A 		vadd.f32	s15, s14, s15
 693              	.LVL42:
 303:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit = Gimbal.ins->Pitch - Motor_Can_reduced_Pitch_Angle;
 694              		.loc 1 303 27 view .LVU116
 695 002e C0ED007A 		vstr.32	s15, [r0]
 696              	.LVL43:
 304:TASK/src/gimbal_task.c **** 
 697              		.loc 1 304 5 is_stmt 1 view .LVU117
 304:TASK/src/gimbal_task.c **** 
 698              		.loc 1 304 35 is_stmt 0 view .LVU118
 699 0032 5B68     		ldr	r3, [r3, #4]
 304:TASK/src/gimbal_task.c **** 
 700              		.loc 1 304 39 view .LVU119
 701 0034 D3ED247A 		vldr.32	s15, [r3, #144]
 304:TASK/src/gimbal_task.c **** 
 702              		.loc 1 304 47 view .LVU120
 703 0038 77EEE67A 		vsub.f32	s15, s15, s13
 304:TASK/src/gimbal_task.c **** 
 704              		.loc 1 304 27 view .LVU121
 705 003c C1ED007A 		vstr.32	s15, [r1]
 306:TASK/src/gimbal_task.c ****     {
 706              		.loc 1 306 5 is_stmt 1 view .LVU122
 306:TASK/src/gimbal_task.c ****     {
 707              		.loc 1 306 31 is_stmt 0 view .LVU123
 708 0040 114B     		ldr	r3, .L30+8
 709 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 306:TASK/src/gimbal_task.c ****     {
 710              		.loc 1 306 8 view .LVU124
 711 0044 13B9     		cbnz	r3, .L28
 308:TASK/src/gimbal_task.c ****         *IMU_Pitch_Down_Limit = 0;
 712              		.loc 1 308 9 is_stmt 1 view .LVU125
 308:TASK/src/gimbal_task.c ****         *IMU_Pitch_Down_Limit = 0;
 713              		.loc 1 308 29 is_stmt 0 view .LVU126
 714 0046 0023     		movs	r3, #0
 715 0048 0360     		str	r3, [r0]	@ float
 309:TASK/src/gimbal_task.c ****     }   
 716              		.loc 1 309 9 is_stmt 1 view .LVU127
 309:TASK/src/gimbal_task.c ****     }   
 717              		.loc 1 309 31 is_stmt 0 view .LVU128
 718 004a 0B60     		str	r3, [r1]	@ float
 719              	.L28:
 311:TASK/src/gimbal_task.c ****     static Recursive_ave_filter_type_t filter_IMU_Pitch_Down_Limit;
 720              		.loc 1 311 5 is_stmt 1 view .LVU129
 312:TASK/src/gimbal_task.c **** 
 721              		.loc 1 312 5 view .LVU130
 314:TASK/src/gimbal_task.c ****     if (filter_init_flag)
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 28


 722              		.loc 1 314 5 view .LVU131
 315:TASK/src/gimbal_task.c ****     {
 723              		.loc 1 315 5 view .LVU132
 317:TASK/src/gimbal_task.c ****         Recursive_ave_filter_init(&filter_IMU_Pitch_Down_Limit);
 724              		.loc 1 317 9 view .LVU133
 725 004c 0F4F     		ldr	r7, .L30+12
 726 004e 3846     		mov	r0, r7
 727              	.LVL44:
 317:TASK/src/gimbal_task.c ****         Recursive_ave_filter_init(&filter_IMU_Pitch_Down_Limit);
 728              		.loc 1 317 9 is_stmt 0 view .LVU134
 729 0050 FFF7FEFF 		bl	Recursive_ave_filter_init
 730              	.LVL45:
 318:TASK/src/gimbal_task.c **** 
 731              		.loc 1 318 9 is_stmt 1 view .LVU135
 732 0054 0E4E     		ldr	r6, .L30+16
 733 0056 3046     		mov	r0, r6
 734 0058 FFF7FEFF 		bl	Recursive_ave_filter_init
 735              	.LVL46:
 322:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit =  Recursive_ave_filter(&filter_IMU_Pitch_Down_Limit,*IMU_Pitch_Down_Limi
 736              		.loc 1 322 5 view .LVU136
 322:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit =  Recursive_ave_filter(&filter_IMU_Pitch_Down_Limit,*IMU_Pitch_Down_Limi
 737              		.loc 1 322 28 is_stmt 0 view .LVU137
 738 005c 1E21     		movs	r1, #30
 739 005e 95ED000A 		vldr.32	s0, [r5]
 740 0062 3846     		mov	r0, r7
 741 0064 FFF7FEFF 		bl	Recursive_ave_filter
 742              	.LVL47:
 322:TASK/src/gimbal_task.c ****     *IMU_Pitch_Down_Limit =  Recursive_ave_filter(&filter_IMU_Pitch_Down_Limit,*IMU_Pitch_Down_Limi
 743              		.loc 1 322 25 view .LVU138
 744 0068 85ED000A 		vstr.32	s0, [r5]
 323:TASK/src/gimbal_task.c **** }
 745              		.loc 1 323 5 is_stmt 1 view .LVU139
 323:TASK/src/gimbal_task.c **** }
 746              		.loc 1 323 30 is_stmt 0 view .LVU140
 747 006c 1E21     		movs	r1, #30
 748 006e 94ED000A 		vldr.32	s0, [r4]
 749 0072 3046     		mov	r0, r6
 750 0074 FFF7FEFF 		bl	Recursive_ave_filter
 751              	.LVL48:
 323:TASK/src/gimbal_task.c **** }
 752              		.loc 1 323 27 view .LVU141
 753 0078 84ED000A 		vstr.32	s0, [r4]
 324:TASK/src/gimbal_task.c **** 
 754              		.loc 1 324 1 view .LVU142
 755 007c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 756              	.LVL49:
 757              	.L31:
 324:TASK/src/gimbal_task.c **** 
 758              		.loc 1 324 1 view .LVU143
 759 007e 00BF     		.align	2
 760              	.L30:
 761 0080 00000000 		.word	.LANCHOR1
 762 0084 00006042 		.word	1113587712
 763 0088 00000000 		.word	.LANCHOR8
 764 008c 00000000 		.word	.LANCHOR14
 765 0090 00000000 		.word	.LANCHOR15
 766              		.cfi_endproc
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 29


 767              	.LFE182:
 769              		.section	.text.Gimbal_Not_Work,"ax",%progbits
 770              		.align	1
 771              		.syntax unified
 772              		.thumb
 773              		.thumb_func
 775              	Gimbal_Not_Work:
 776              	.LFB190:
 734:TASK/src/gimbal_task.c **** 
 735:TASK/src/gimbal_task.c **** void Gimbal_Work()
 736:TASK/src/gimbal_task.c **** {
 737:TASK/src/gimbal_task.c ****     if (Enable_pitch_motor > 0)
 738:TASK/src/gimbal_task.c ****     {
 739:TASK/src/gimbal_task.c ****         MI_motor_enable(Gimbal.PITCH_Motor);
 740:TASK/src/gimbal_task.c ****         Enable_pitch_motor--;
 741:TASK/src/gimbal_task.c ****     }
 742:TASK/src/gimbal_task.c ****     Motor_Choice_Lock_Type();//é”ç”µæœºæˆ–é™€èžºä»ª
 743:TASK/src/gimbal_task.c ****     Pitch_Calc();//Pè½´è®¡ç®—
 744:TASK/src/gimbal_task.c ****     Yaw_Calc();//Yè½´è®¡ç®—
 745:TASK/src/gimbal_task.c **** }
 746:TASK/src/gimbal_task.c **** 
 747:TASK/src/gimbal_task.c **** void Gimbal_Not_Work()
 748:TASK/src/gimbal_task.c **** {
 777              		.loc 1 748 1 is_stmt 1 view -0
 778              		.cfi_startproc
 779              		@ args = 0, pretend = 0, frame = 0
 780              		@ frame_needed = 0, uses_anonymous_args = 0
 781 0000 08B5     		push	{r3, lr}
 782              	.LCFI10:
 783              		.cfi_def_cfa_offset 8
 784              		.cfi_offset 3, -8
 785              		.cfi_offset 14, -4
 749:TASK/src/gimbal_task.c ****     Gimbal.YAW_Motor->voltage_input = 0;
 786              		.loc 1 749 5 view .LVU145
 787              		.loc 1 749 11 is_stmt 0 view .LVU146
 788 0002 064B     		ldr	r3, .L34
 789 0004 9A68     		ldr	r2, [r3, #8]
 790              		.loc 1 749 37 view .LVU147
 791 0006 0021     		movs	r1, #0
 792 0008 A2F8A211 		strh	r1, [r2, #418]	@ movhi
 750:TASK/src/gimbal_task.c ****     Pitch_output_torque = 0;
 793              		.loc 1 750 5 is_stmt 1 view .LVU148
 794              		.loc 1 750 25 is_stmt 0 view .LVU149
 795 000c 044A     		ldr	r2, .L34+4
 796 000e 0021     		movs	r1, #0
 797 0010 1160     		str	r1, [r2]	@ float
 751:TASK/src/gimbal_task.c ****     MI_motor_stop(Gimbal.PITCH_Motor);
 798              		.loc 1 751 5 is_stmt 1 view .LVU150
 799 0012 1869     		ldr	r0, [r3, #16]
 800 0014 FFF7FEFF 		bl	MI_motor_stop
 801              	.LVL50:
 752:TASK/src/gimbal_task.c **** }
 802              		.loc 1 752 1 is_stmt 0 view .LVU151
 803 0018 08BD     		pop	{r3, pc}
 804              	.L35:
 805 001a 00BF     		.align	2
 806              	.L34:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 30


 807 001c 00000000 		.word	.LANCHOR1
 808 0020 00000000 		.word	.LANCHOR16
 809              		.cfi_endproc
 810              	.LFE190:
 812              		.section	.text.yaw_motor_online,"ax",%progbits
 813              		.align	1
 814              		.global	yaw_motor_online
 815              		.syntax unified
 816              		.thumb
 817              		.thumb_func
 819              	yaw_motor_online:
 820              	.LFB175:
  86:TASK/src/gimbal_task.c **** void yaw_motor_disconnect(void){yaw_motor_is_online = 0;}
 821              		.loc 1 86 28 is_stmt 1 view -0
 822              		.cfi_startproc
 823              		@ args = 0, pretend = 0, frame = 0
 824              		@ frame_needed = 0, uses_anonymous_args = 0
 825              		@ link register save eliminated.
  86:TASK/src/gimbal_task.c **** void yaw_motor_disconnect(void){yaw_motor_is_online = 0;}
 826              		.loc 1 86 29 view .LVU153
  86:TASK/src/gimbal_task.c **** void yaw_motor_disconnect(void){yaw_motor_is_online = 0;}
 827              		.loc 1 86 49 is_stmt 0 view .LVU154
 828 0000 014B     		ldr	r3, .L37
 829 0002 0122     		movs	r2, #1
 830 0004 1A70     		strb	r2, [r3]
  86:TASK/src/gimbal_task.c **** void yaw_motor_disconnect(void){yaw_motor_is_online = 0;}
 831              		.loc 1 86 53 view .LVU155
 832 0006 7047     		bx	lr
 833              	.L38:
 834              		.align	2
 835              	.L37:
 836 0008 00000000 		.word	.LANCHOR17
 837              		.cfi_endproc
 838              	.LFE175:
 840              		.section	.text.yaw_motor_disconnect,"ax",%progbits
 841              		.align	1
 842              		.global	yaw_motor_disconnect
 843              		.syntax unified
 844              		.thumb
 845              		.thumb_func
 847              	yaw_motor_disconnect:
 848              	.LFB176:
  87:TASK/src/gimbal_task.c **** void yaw_can_rx_CallBack(void){//Safe_Task_online_name_("Yaw_Motor_Safe");
 849              		.loc 1 87 32 is_stmt 1 view -0
 850              		.cfi_startproc
 851              		@ args = 0, pretend = 0, frame = 0
 852              		@ frame_needed = 0, uses_anonymous_args = 0
 853              		@ link register save eliminated.
  87:TASK/src/gimbal_task.c **** void yaw_can_rx_CallBack(void){//Safe_Task_online_name_("Yaw_Motor_Safe");
 854              		.loc 1 87 33 view .LVU157
  87:TASK/src/gimbal_task.c **** void yaw_can_rx_CallBack(void){//Safe_Task_online_name_("Yaw_Motor_Safe");
 855              		.loc 1 87 53 is_stmt 0 view .LVU158
 856 0000 014B     		ldr	r3, .L40
 857 0002 0022     		movs	r2, #0
 858 0004 1A70     		strb	r2, [r3]
  87:TASK/src/gimbal_task.c **** void yaw_can_rx_CallBack(void){//Safe_Task_online_name_("Yaw_Motor_Safe");
 859              		.loc 1 87 57 view .LVU159
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 31


 860 0006 7047     		bx	lr
 861              	.L41:
 862              		.align	2
 863              	.L40:
 864 0008 00000000 		.word	.LANCHOR17
 865              		.cfi_endproc
 866              	.LFE176:
 868              		.section	.text.Send_Photo_Current,"ax",%progbits
 869              		.align	1
 870              		.global	Send_Photo_Current
 871              		.syntax unified
 872              		.thumb
 873              		.thumb_func
 875              	Send_Photo_Current:
 876              	.LFB179:
  95:TASK/src/gimbal_task.c ****     static CAN_TxHeaderTypeDef CAN_TxHeader;
 877              		.loc 1 95 1 is_stmt 1 view -0
 878              		.cfi_startproc
 879              		@ args = 0, pretend = 0, frame = 0
 880              		@ frame_needed = 0, uses_anonymous_args = 0
 881 0000 08B5     		push	{r3, lr}
 882              	.LCFI11:
 883              		.cfi_def_cfa_offset 8
 884              		.cfi_offset 3, -8
 885              		.cfi_offset 14, -4
  96:TASK/src/gimbal_task.c ****     static uint8_t Can_Tx_Data[8];
 886              		.loc 1 96 5 view .LVU161
  97:TASK/src/gimbal_task.c ****     Can_Tx_Data[0] = 0;
 887              		.loc 1 97 5 view .LVU162
  98:TASK/src/gimbal_task.c ****     Can_Tx_Data[1] = 0;
 888              		.loc 1 98 5 view .LVU163
  98:TASK/src/gimbal_task.c ****     Can_Tx_Data[1] = 0;
 889              		.loc 1 98 20 is_stmt 0 view .LVU164
 890 0002 0E4A     		ldr	r2, .L44
 891 0004 0023     		movs	r3, #0
 892 0006 1370     		strb	r3, [r2]
  99:TASK/src/gimbal_task.c ****     Can_Tx_Data[2] = 0;
 893              		.loc 1 99 5 is_stmt 1 view .LVU165
  99:TASK/src/gimbal_task.c ****     Can_Tx_Data[2] = 0;
 894              		.loc 1 99 20 is_stmt 0 view .LVU166
 895 0008 5370     		strb	r3, [r2, #1]
 100:TASK/src/gimbal_task.c ****     Can_Tx_Data[3] = 0;
 896              		.loc 1 100 5 is_stmt 1 view .LVU167
 100:TASK/src/gimbal_task.c ****     Can_Tx_Data[3] = 0;
 897              		.loc 1 100 20 is_stmt 0 view .LVU168
 898 000a 9370     		strb	r3, [r2, #2]
 101:TASK/src/gimbal_task.c ****     Can_Tx_Data[4] = 0;
 899              		.loc 1 101 5 is_stmt 1 view .LVU169
 101:TASK/src/gimbal_task.c ****     Can_Tx_Data[4] = 0;
 900              		.loc 1 101 20 is_stmt 0 view .LVU170
 901 000c D370     		strb	r3, [r2, #3]
 102:TASK/src/gimbal_task.c ****     Can_Tx_Data[5] = 0;
 902              		.loc 1 102 5 is_stmt 1 view .LVU171
 102:TASK/src/gimbal_task.c ****     Can_Tx_Data[5] = 0;
 903              		.loc 1 102 20 is_stmt 0 view .LVU172
 904 000e 1371     		strb	r3, [r2, #4]
 103:TASK/src/gimbal_task.c ****     Can_Tx_Data[6] = Gimbal.Photo_Motor->current_input >> 8;
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 32


 905              		.loc 1 103 5 is_stmt 1 view .LVU173
 103:TASK/src/gimbal_task.c ****     Can_Tx_Data[6] = Gimbal.Photo_Motor->current_input >> 8;
 906              		.loc 1 103 20 is_stmt 0 view .LVU174
 907 0010 5371     		strb	r3, [r2, #5]
 104:TASK/src/gimbal_task.c ****     Can_Tx_Data[7] = Gimbal.Photo_Motor->current_input ;
 908              		.loc 1 104 5 is_stmt 1 view .LVU175
 104:TASK/src/gimbal_task.c ****     Can_Tx_Data[7] = Gimbal.Photo_Motor->current_input ;
 909              		.loc 1 104 28 is_stmt 0 view .LVU176
 910 0012 0B49     		ldr	r1, .L44+4
 911 0014 C968     		ldr	r1, [r1, #12]
 104:TASK/src/gimbal_task.c ****     Can_Tx_Data[7] = Gimbal.Photo_Motor->current_input ;
 912              		.loc 1 104 40 view .LVU177
 913 0016 B1F9A001 		ldrsh	r0, [r1, #416]
 104:TASK/src/gimbal_task.c ****     Can_Tx_Data[7] = Gimbal.Photo_Motor->current_input ;
 914              		.loc 1 104 20 view .LVU178
 915 001a 91F9A111 		ldrsb	r1, [r1, #417]
 916 001e 9171     		strb	r1, [r2, #6]
 105:TASK/src/gimbal_task.c **** 
 917              		.loc 1 105 5 is_stmt 1 view .LVU179
 105:TASK/src/gimbal_task.c **** 
 918              		.loc 1 105 20 is_stmt 0 view .LVU180
 919 0020 D071     		strb	r0, [r2, #7]
 107:TASK/src/gimbal_task.c ****     CAN_TxHeader.StdId = 0x1FF;
 920              		.loc 1 107 5 is_stmt 1 view .LVU181
 108:TASK/src/gimbal_task.c ****     CAN_TxHeader.IDE = CAN_ID_STD;
 921              		.loc 1 108 5 view .LVU182
 108:TASK/src/gimbal_task.c ****     CAN_TxHeader.IDE = CAN_ID_STD;
 922              		.loc 1 108 24 is_stmt 0 view .LVU183
 923 0022 0849     		ldr	r1, .L44+8
 924 0024 40F2FF10 		movw	r0, #511
 925 0028 0860     		str	r0, [r1]
 109:TASK/src/gimbal_task.c ****     CAN_TxHeader.RTR = CAN_RTR_DATA;
 926              		.loc 1 109 5 is_stmt 1 view .LVU184
 109:TASK/src/gimbal_task.c ****     CAN_TxHeader.RTR = CAN_RTR_DATA;
 927              		.loc 1 109 22 is_stmt 0 view .LVU185
 928 002a 8B60     		str	r3, [r1, #8]
 110:TASK/src/gimbal_task.c ****     CAN_TxHeader.DLC = 0x08;
 929              		.loc 1 110 5 is_stmt 1 view .LVU186
 110:TASK/src/gimbal_task.c ****     CAN_TxHeader.DLC = 0x08;
 930              		.loc 1 110 22 is_stmt 0 view .LVU187
 931 002c CB60     		str	r3, [r1, #12]
 111:TASK/src/gimbal_task.c ****     HAL_CAN_AddTxMessage(&hcan1, &CAN_TxHeader, Can_Tx_Data, &send_mail_box);
 932              		.loc 1 111 5 is_stmt 1 view .LVU188
 111:TASK/src/gimbal_task.c ****     HAL_CAN_AddTxMessage(&hcan1, &CAN_TxHeader, Can_Tx_Data, &send_mail_box);
 933              		.loc 1 111 22 is_stmt 0 view .LVU189
 934 002e 0823     		movs	r3, #8
 935 0030 0B61     		str	r3, [r1, #16]
 112:TASK/src/gimbal_task.c **** }
 936              		.loc 1 112 5 is_stmt 1 view .LVU190
 937 0032 054B     		ldr	r3, .L44+12
 938 0034 0548     		ldr	r0, .L44+16
 939 0036 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 940              	.LVL51:
 113:TASK/src/gimbal_task.c **** 
 941              		.loc 1 113 1 is_stmt 0 view .LVU191
 942 003a 08BD     		pop	{r3, pc}
 943              	.L45:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 33


 944              		.align	2
 945              	.L44:
 946 003c 00000000 		.word	.LANCHOR18
 947 0040 00000000 		.word	.LANCHOR1
 948 0044 00000000 		.word	.LANCHOR19
 949 0048 00000000 		.word	.LANCHOR20
 950 004c 00000000 		.word	hcan1
 951              		.cfi_endproc
 952              	.LFE179:
 954              		.section	.text.Motor_Choice_Lock_Type,"ax",%progbits
 955              		.align	1
 956              		.global	Motor_Choice_Lock_Type
 957              		.syntax unified
 958              		.thumb
 959              		.thumb_func
 961              	Motor_Choice_Lock_Type:
 962              	.LFB183:
 328:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->Gimbal_Work_State == LONG_SHOOT)//å‰å“¨ç«™æ¨¡å¼ï¼Œæ”¹ä¸ºé”ç¼–ç å€¼
 963              		.loc 1 328 1 is_stmt 1 view -0
 964              		.cfi_startproc
 965              		@ args = 0, pretend = 0, frame = 0
 966              		@ frame_needed = 0, uses_anonymous_args = 0
 967 0000 08B5     		push	{r3, lr}
 968              	.LCFI12:
 969              		.cfi_def_cfa_offset 8
 970              		.cfi_offset 3, -8
 971              		.cfi_offset 14, -4
 329:TASK/src/gimbal_task.c ****     {
 972              		.loc 1 329 5 view .LVU193
 329:TASK/src/gimbal_task.c ****     {
 973              		.loc 1 329 15 is_stmt 0 view .LVU194
 974 0002 444B     		ldr	r3, .L66
 975 0004 1B68     		ldr	r3, [r3]
 329:TASK/src/gimbal_task.c ****     {
 976              		.loc 1 329 26 view .LVU195
 977 0006 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 329:TASK/src/gimbal_task.c ****     {
 978              		.loc 1 329 8 view .LVU196
 979 0008 022A     		cmp	r2, #2
 980 000a 08D0     		beq	.L62
 344:TASK/src/gimbal_task.c ****         {
 981              		.loc 1 344 9 is_stmt 1 view .LVU197
 344:TASK/src/gimbal_task.c ****         {
 982              		.loc 1 344 30 is_stmt 0 view .LVU198
 983 000c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 344:TASK/src/gimbal_task.c ****         {
 984              		.loc 1 344 12 view .LVU199
 985 000e 012B     		cmp	r3, #1
 986 0010 6BD0     		beq	.L63
 987              	.L56:
 349:TASK/src/gimbal_task.c ****         {
 988              		.loc 1 349 9 is_stmt 1 view .LVU200
 349:TASK/src/gimbal_task.c ****         {
 989              		.loc 1 349 19 is_stmt 0 view .LVU201
 990 0012 404B     		ldr	r3, .L66
 991 0014 1B68     		ldr	r3, [r3]
 349:TASK/src/gimbal_task.c ****         {
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 34


 992              		.loc 1 349 30 view .LVU202
 993 0016 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 349:TASK/src/gimbal_task.c ****         {
 994              		.loc 1 349 12 view .LVU203
 995 0018 012B     		cmp	r3, #1
 996 001a 70D0     		beq	.L64
 997              	.L46:
 355:TASK/src/gimbal_task.c **** 
 998              		.loc 1 355 1 view .LVU204
 999 001c 08BD     		pop	{r3, pc}
 1000              	.L62:
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1001              		.loc 1 331 9 is_stmt 1 view .LVU205
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1002              		.loc 1 331 13 is_stmt 0 view .LVU206
 1003 001e 3D4A     		ldr	r2, .L66
 1004 0020 5268     		ldr	r2, [r2, #4]
 1005 0022 D2ED247A 		vldr.32	s15, [r2, #144]
 1006 0026 D3ED056A 		vldr.32	s13, [r3, #20]
 1007 002a 37EEE67A 		vsub.f32	s14, s15, s13
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1008              		.loc 1 331 71 view .LVU207
 1009 002e B5EEC07A 		vcmpe.f32	s14, #0
 1010 0032 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1011 0036 32DD     		ble	.L59
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1012              		.loc 1 331 71 discriminator 1 view .LVU208
 1013 0038 F2EE007A 		vmov.f32	s15, #8.0e+0
 1014 003c B4EEE77A 		vcmpe.f32	s14, s15
 1015 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1016 0044 4CBF     		ite	mi
 1017 0046 0122     		movmi	r2, #1
 1018 0048 0022     		movpl	r2, #0
 1019              	.L50:
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1020              		.loc 1 331 12 discriminator 4 view .LVU209
 1021 004a 12B1     		cbz	r2, .L51
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1022              		.loc 1 331 98 discriminator 5 view .LVU210
 1023 004c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1024              		.loc 1 331 78 discriminator 5 view .LVU211
 1025 004e 002B     		cmp	r3, #0
 1026 0050 33D0     		beq	.L65
 1027              	.L51:
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1028              		.loc 1 336 9 is_stmt 1 view .LVU212
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1029              		.loc 1 336 13 is_stmt 0 view .LVU213
 1030 0052 304B     		ldr	r3, .L66
 1031 0054 5A68     		ldr	r2, [r3, #4]
 1032 0056 D2ED257A 		vldr.32	s15, [r2, #148]
 1033 005a 1B68     		ldr	r3, [r3]
 1034 005c D3ED076A 		vldr.32	s13, [r3, #28]
 1035 0060 37EEE67A 		vsub.f32	s14, s15, s13
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1036              		.loc 1 336 67 view .LVU214
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 35


 1037 0064 B5EEC07A 		vcmpe.f32	s14, #0
 1038 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1039 006c 2FDD     		ble	.L60
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1040              		.loc 1 336 67 discriminator 1 view .LVU215
 1041 006e F2EE007A 		vmov.f32	s15, #8.0e+0
 1042 0072 B4EEE77A 		vcmpe.f32	s14, s15
 1043 0076 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1044 007a 4CBF     		ite	mi
 1045 007c 0122     		movmi	r2, #1
 1046 007e 0022     		movpl	r2, #0
 1047              	.L54:
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1048              		.loc 1 336 12 discriminator 4 view .LVU216
 1049 0080 002A     		cmp	r2, #0
 1050 0082 CBD0     		beq	.L46
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1051              		.loc 1 336 94 discriminator 5 view .LVU217
 1052 0084 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1053              		.loc 1 336 74 discriminator 5 view .LVU218
 1054 0086 002B     		cmp	r3, #0
 1055 0088 C8D1     		bne	.L46
 338:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_Encoder(Gimbal.YAW_Motor->Motor_encoder.Encode_Record_Val);
 1056              		.loc 1 338 13 is_stmt 1 view .LVU219
 1057 008a 0120     		movs	r0, #1
 1058 008c FFF7FEFF 		bl	Gimbal_Yaw_Lock
 1059              	.LVL52:
 339:TASK/src/gimbal_task.c ****         }
 1060              		.loc 1 339 13 view .LVU220
 339:TASK/src/gimbal_task.c ****         }
 1061              		.loc 1 339 42 is_stmt 0 view .LVU221
 1062 0090 204B     		ldr	r3, .L66
 1063 0092 9B68     		ldr	r3, [r3, #8]
 339:TASK/src/gimbal_task.c ****         }
 1064              		.loc 1 339 67 view .LVU222
 1065 0094 186A     		ldr	r0, [r3, #32]
 339:TASK/src/gimbal_task.c ****         }
 1066              		.loc 1 339 13 view .LVU223
 1067 0096 C117     		asrs	r1, r0, #31
 1068 0098 FFF7FEFF 		bl	Gimbal_Yaw_Set_Encoder
 1069              	.LVL53:
 1070 009c BEE7     		b	.L46
 1071              	.L59:
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1072              		.loc 1 331 13 discriminator 2 view .LVU224
 1073 009e F1EE677A 		vneg.f32	s15, s15
 1074 00a2 77EEE67A 		vsub.f32	s15, s15, s13
 331:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1075              		.loc 1 331 71 discriminator 2 view .LVU225
 1076 00a6 B2EE007A 		vmov.f32	s14, #8.0e+0
 1077 00aa F4EEC77A 		vcmpe.f32	s15, s14
 1078 00ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1079 00b2 4CBF     		ite	mi
 1080 00b4 0122     		movmi	r2, #1
 1081 00b6 0022     		movpl	r2, #0
 1082 00b8 C7E7     		b	.L50
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 36


 1083              	.L65:
 333:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_Encoder(Gimbal.PITCH_Motor->postion);
 1084              		.loc 1 333 13 is_stmt 1 view .LVU226
 1085 00ba 0120     		movs	r0, #1
 1086 00bc FFF7FEFF 		bl	Gimbal_Pitch_Lock
 1087              	.LVL54:
 334:TASK/src/gimbal_task.c ****         }
 1088              		.loc 1 334 13 view .LVU227
 334:TASK/src/gimbal_task.c ****         }
 1089              		.loc 1 334 44 is_stmt 0 view .LVU228
 1090 00c0 144B     		ldr	r3, .L66
 1091 00c2 1B69     		ldr	r3, [r3, #16]
 334:TASK/src/gimbal_task.c ****         }
 1092              		.loc 1 334 13 view .LVU229
 1093 00c4 93ED040A 		vldr.32	s0, [r3, #16]
 1094 00c8 FFF7FEFF 		bl	Gimbal_Pitch_Set_Encoder
 1095              	.LVL55:
 1096 00cc C1E7     		b	.L51
 1097              	.L60:
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1098              		.loc 1 336 13 discriminator 2 view .LVU230
 1099 00ce F1EE677A 		vneg.f32	s15, s15
 1100 00d2 77EEE67A 		vsub.f32	s15, s15, s13
 336:TASK/src/gimbal_task.c ****         {//è¾¾åˆ°ç›®æ ‡IMU PITCH
 1101              		.loc 1 336 67 discriminator 2 view .LVU231
 1102 00d6 B2EE007A 		vmov.f32	s14, #8.0e+0
 1103 00da F4EEC77A 		vcmpe.f32	s15, s14
 1104 00de F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1105 00e2 4CBF     		ite	mi
 1106 00e4 0122     		movmi	r2, #1
 1107 00e6 0022     		movpl	r2, #0
 1108 00e8 CAE7     		b	.L54
 1109              	.L63:
 346:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 1110              		.loc 1 346 13 is_stmt 1 view .LVU232
 1111 00ea 0020     		movs	r0, #0
 1112 00ec FFF7FEFF 		bl	Gimbal_Pitch_Lock
 1113              	.LVL56:
 347:TASK/src/gimbal_task.c ****         }
 1114              		.loc 1 347 13 view .LVU233
 347:TASK/src/gimbal_task.c ****         }
 1115              		.loc 1 347 40 is_stmt 0 view .LVU234
 1116 00f0 084B     		ldr	r3, .L66
 1117 00f2 5B68     		ldr	r3, [r3, #4]
 347:TASK/src/gimbal_task.c ****         }
 1118              		.loc 1 347 13 view .LVU235
 1119 00f4 93ED240A 		vldr.32	s0, [r3, #144]
 1120 00f8 FFF7FEFF 		bl	Gimbal_Pitch_Set_IMU
 1121              	.LVL57:
 1122 00fc 89E7     		b	.L56
 1123              	.L64:
 351:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_IMU(Gimbal.ins->Yaw);
 1124              		.loc 1 351 13 is_stmt 1 view .LVU236
 1125 00fe 0020     		movs	r0, #0
 1126 0100 FFF7FEFF 		bl	Gimbal_Yaw_Lock
 1127              	.LVL58:
 352:TASK/src/gimbal_task.c ****         }    
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 37


 1128              		.loc 1 352 13 view .LVU237
 352:TASK/src/gimbal_task.c ****         }    
 1129              		.loc 1 352 38 is_stmt 0 view .LVU238
 1130 0104 034B     		ldr	r3, .L66
 1131 0106 5B68     		ldr	r3, [r3, #4]
 352:TASK/src/gimbal_task.c ****         }    
 1132              		.loc 1 352 13 view .LVU239
 1133 0108 93ED250A 		vldr.32	s0, [r3, #148]
 1134 010c FFF7FEFF 		bl	Gimbal_Yaw_Set_IMU
 1135              	.LVL59:
 355:TASK/src/gimbal_task.c **** 
 1136              		.loc 1 355 1 view .LVU240
 1137 0110 84E7     		b	.L46
 1138              	.L67:
 1139 0112 00BF     		.align	2
 1140              	.L66:
 1141 0114 00000000 		.word	.LANCHOR1
 1142              		.cfi_endproc
 1143              	.LFE183:
 1145              		.section	.text.Pitch_Calc,"ax",%progbits
 1146              		.align	1
 1147              		.global	Pitch_Calc
 1148              		.syntax unified
 1149              		.thumb
 1150              		.thumb_func
 1152              	Pitch_Calc:
 1153              	.LFB184:
 359:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->Pitch_Lock_type == ENCODER)//é”ç”µæœº
 1154              		.loc 1 359 1 is_stmt 1 view -0
 1155              		.cfi_startproc
 1156              		@ args = 0, pretend = 0, frame = 8
 1157              		@ frame_needed = 0, uses_anonymous_args = 0
 1158 0000 30B5     		push	{r4, r5, lr}
 1159              	.LCFI13:
 1160              		.cfi_def_cfa_offset 12
 1161              		.cfi_offset 4, -12
 1162              		.cfi_offset 5, -8
 1163              		.cfi_offset 14, -4
 1164 0002 83B0     		sub	sp, sp, #12
 1165              	.LCFI14:
 1166              		.cfi_def_cfa_offset 24
 360:TASK/src/gimbal_task.c ****     {
 1167              		.loc 1 360 5 view .LVU242
 360:TASK/src/gimbal_task.c ****     {
 1168              		.loc 1 360 15 is_stmt 0 view .LVU243
 1169 0004 5D4B     		ldr	r3, .L90
 1170 0006 1B68     		ldr	r3, [r3]
 360:TASK/src/gimbal_task.c ****     {
 1171              		.loc 1 360 26 view .LVU244
 1172 0008 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 360:TASK/src/gimbal_task.c ****     {
 1173              		.loc 1 360 8 view .LVU245
 1174 000a 012B     		cmp	r3, #1
 1175 000c 63D0     		beq	.L89
 1176              	.LBB2:
 394:TASK/src/gimbal_task.c ****         Gimbal.lqr_pitch.k[1] = k_pitch_lqr[1];
 1177              		.loc 1 394 9 is_stmt 1 view .LVU246
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 38


 394:TASK/src/gimbal_task.c ****         Gimbal.lqr_pitch.k[1] = k_pitch_lqr[1];
 1178              		.loc 1 394 25 is_stmt 0 view .LVU247
 1179 000e 5B4B     		ldr	r3, .L90
 1180 0010 996A     		ldr	r1, [r3, #40]
 394:TASK/src/gimbal_task.c ****         Gimbal.lqr_pitch.k[1] = k_pitch_lqr[1];
 1181              		.loc 1 394 44 view .LVU248
 1182 0012 5B4A     		ldr	r2, .L90+4
 1183 0014 1068     		ldr	r0, [r2]	@ float
 394:TASK/src/gimbal_task.c ****         Gimbal.lqr_pitch.k[1] = k_pitch_lqr[1];
 1184              		.loc 1 394 31 view .LVU249
 1185 0016 0860     		str	r0, [r1]	@ float
 395:TASK/src/gimbal_task.c **** 
 1186              		.loc 1 395 9 is_stmt 1 view .LVU250
 395:TASK/src/gimbal_task.c **** 
 1187              		.loc 1 395 25 is_stmt 0 view .LVU251
 1188 0018 996A     		ldr	r1, [r3, #40]
 395:TASK/src/gimbal_task.c **** 
 1189              		.loc 1 395 44 view .LVU252
 1190 001a 5268     		ldr	r2, [r2, #4]	@ float
 395:TASK/src/gimbal_task.c **** 
 1191              		.loc 1 395 31 view .LVU253
 1192 001c 4A60     		str	r2, [r1, #4]	@ float
 397:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 1193              		.loc 1 397 9 is_stmt 1 view .LVU254
 397:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 1194              		.loc 1 397 41 is_stmt 0 view .LVU255
 1195 001e 1A68     		ldr	r2, [r3]
 397:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 1196              		.loc 1 397 52 view .LVU256
 1197 0020 92ED057A 		vldr.32	s14, [r2, #20]
 397:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 1198              		.loc 1 397 76 view .LVU257
 1199 0024 5B68     		ldr	r3, [r3, #4]
 397:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 1200              		.loc 1 397 80 view .LVU258
 1201 0026 D3ED247A 		vldr.32	s15, [r3, #144]
 397:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {-Pitch_motortarget, -Gimbal.ins->Gyro[0]};
 1202              		.loc 1 397 15 view .LVU259
 1203 002a 77EE677A 		vsub.f32	s15, s14, s15
 1204              	.LVL60:
 398:TASK/src/gimbal_task.c ****         
 1205              		.loc 1 398 9 is_stmt 1 view .LVU260
 398:TASK/src/gimbal_task.c ****         
 1206              		.loc 1 398 40 is_stmt 0 view .LVU261
 1207 002e F1EE677A 		vneg.f32	s15, s15
 1208              	.LVL61:
 398:TASK/src/gimbal_task.c ****         
 1209              		.loc 1 398 15 view .LVU262
 1210 0032 CDED007A 		vstr.32	s15, [sp]
 1211              	.LVL62:
 398:TASK/src/gimbal_task.c ****         
 1212              		.loc 1 398 77 view .LVU263
 1213 0036 D3ED057A 		vldr.32	s15, [r3, #20]
 398:TASK/src/gimbal_task.c ****         
 1214              		.loc 1 398 60 view .LVU264
 1215 003a F1EE677A 		vneg.f32	s15, s15
 398:TASK/src/gimbal_task.c ****         
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 39


 1216              		.loc 1 398 15 view .LVU265
 1217 003e CDED017A 		vstr.32	s15, [sp, #4]
 400:TASK/src/gimbal_task.c ****         static uint8_t litter_lqr_time = 0;
 1218              		.loc 1 400 9 is_stmt 1 view .LVU266
 401:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->Pitch_Set_IMU < lastPitch_Set_IMU)
 1219              		.loc 1 401 9 view .LVU267
 402:TASK/src/gimbal_task.c ****         {
 1220              		.loc 1 402 9 view .LVU268
 402:TASK/src/gimbal_task.c ****         {
 1221              		.loc 1 402 46 is_stmt 0 view .LVU269
 1222 0042 504B     		ldr	r3, .L90+8
 1223 0044 D3ED007A 		vldr.32	s15, [r3]
 402:TASK/src/gimbal_task.c ****         {
 1224              		.loc 1 402 12 view .LVU270
 1225 0048 B4EEE77A 		vcmpe.f32	s14, s15
 1226 004c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1227 0050 02D5     		bpl	.L75
 404:TASK/src/gimbal_task.c ****         }
 1228              		.loc 1 404 13 is_stmt 1 view .LVU271
 404:TASK/src/gimbal_task.c ****         }
 1229              		.loc 1 404 29 is_stmt 0 view .LVU272
 1230 0052 4D4B     		ldr	r3, .L90+12
 1231 0054 2022     		movs	r2, #32
 1232 0056 1A70     		strb	r2, [r3]
 1233              	.L75:
 406:TASK/src/gimbal_task.c ****         {
 1234              		.loc 1 406 9 is_stmt 1 view .LVU273
 406:TASK/src/gimbal_task.c ****         {
 1235              		.loc 1 406 30 is_stmt 0 view .LVU274
 1236 0058 4B4B     		ldr	r3, .L90+12
 1237 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 406:TASK/src/gimbal_task.c ****         {
 1238              		.loc 1 406 12 view .LVU275
 1239 005c 002B     		cmp	r3, #0
 1240 005e 7ED0     		beq	.L77
 408:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[0] = k_pitch_lqr_down[0];
 1241              		.loc 1 408 13 is_stmt 1 view .LVU276
 408:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[0] = k_pitch_lqr_down[0];
 1242              		.loc 1 408 29 is_stmt 0 view .LVU277
 1243 0060 013B     		subs	r3, r3, #1
 1244 0062 494A     		ldr	r2, .L90+12
 1245 0064 1370     		strb	r3, [r2]
 409:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[1] = k_pitch_lqr_down[1];
 1246              		.loc 1 409 13 is_stmt 1 view .LVU278
 409:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[1] = k_pitch_lqr_down[1];
 1247              		.loc 1 409 36 is_stmt 0 view .LVU279
 1248 0066 454C     		ldr	r4, .L90
 1249 0068 A26C     		ldr	r2, [r4, #72]
 409:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[1] = k_pitch_lqr_down[1];
 1250              		.loc 1 409 60 view .LVU280
 1251 006a 484B     		ldr	r3, .L90+16
 1252 006c 1968     		ldr	r1, [r3]	@ float
 409:TASK/src/gimbal_task.c ****             Gimbal.lqr_pitch_litter.k[1] = k_pitch_lqr_down[1];
 1253              		.loc 1 409 42 view .LVU281
 1254 006e 1160     		str	r1, [r2]	@ float
 410:TASK/src/gimbal_task.c ****             
 1255              		.loc 1 410 13 is_stmt 1 view .LVU282
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 40


 410:TASK/src/gimbal_task.c ****             
 1256              		.loc 1 410 36 is_stmt 0 view .LVU283
 1257 0070 A26C     		ldr	r2, [r4, #72]
 410:TASK/src/gimbal_task.c ****             
 1258              		.loc 1 410 60 view .LVU284
 1259 0072 5B68     		ldr	r3, [r3, #4]	@ float
 410:TASK/src/gimbal_task.c ****             
 1260              		.loc 1 410 42 view .LVU285
 1261 0074 5360     		str	r3, [r2, #4]	@ float
 412:TASK/src/gimbal_task.c ****             LQR_Calculate(&Gimbal.lqr_pitch_litter);
 1262              		.loc 1 412 13 is_stmt 1 view .LVU286
 1263 0076 04F13405 		add	r5, r4, #52
 1264 007a 6946     		mov	r1, sp
 1265 007c 2846     		mov	r0, r5
 1266 007e FFF7FEFF 		bl	LQR_Data_Update
 1267              	.LVL63:
 413:TASK/src/gimbal_task.c ****             
 1268              		.loc 1 413 13 view .LVU287
 1269 0082 2846     		mov	r0, r5
 1270 0084 FFF7FEFF 		bl	LQR_Calculate
 1271              	.LVL64:
 415:TASK/src/gimbal_task.c ****                 
 1272              		.loc 1 415 13 view .LVU288
 415:TASK/src/gimbal_task.c ****                 
 1273              		.loc 1 415 58 is_stmt 0 view .LVU289
 1274 0088 636C     		ldr	r3, [r4, #68]
 415:TASK/src/gimbal_task.c ****                 
 1275              		.loc 1 415 65 view .LVU290
 1276 008a 1A68     		ldr	r2, [r3]	@ float
 415:TASK/src/gimbal_task.c ****                 
 1277              		.loc 1 415 33 view .LVU291
 1278 008c 404B     		ldr	r3, .L90+20
 1279 008e 1A60     		str	r2, [r3]	@ float
 1280              	.L78:
 425:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1281              		.loc 1 425 9 is_stmt 1 view .LVU292
 425:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1282              		.loc 1 425 35 is_stmt 0 view .LVU293
 1283 0090 3A4B     		ldr	r3, .L90
 1284 0092 1B68     		ldr	r3, [r3]
 425:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1285              		.loc 1 425 46 view .LVU294
 1286 0094 5A69     		ldr	r2, [r3, #20]	@ float
 425:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1287              		.loc 1 425 27 view .LVU295
 1288 0096 3B4B     		ldr	r3, .L90+8
 1289 0098 1A60     		str	r2, [r3]	@ float
 426:TASK/src/gimbal_task.c ****         
 1290              		.loc 1 426 9 is_stmt 1 view .LVU296
 1291 009a 3E4B     		ldr	r3, .L90+24
 1292 009c 93ED007A 		vldr.32	s14, [r3]
 1293 00a0 F1EE476A 		vneg.f32	s13, s14
 1294 00a4 3A4B     		ldr	r3, .L90+20
 1295 00a6 D3ED007A 		vldr.32	s15, [r3]
 1296 00aa F4EEE76A 		vcmpe.f32	s13, s15
 1297 00ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1298 00b2 01DD     		ble	.L79
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 41


 1299 00b4 F0EE667A 		vmov.f32	s15, s13
 1300              	.L79:
 426:TASK/src/gimbal_task.c ****         
 1301              		.loc 1 426 9 is_stmt 0 discriminator 4 view .LVU297
 1302 00b8 354B     		ldr	r3, .L90+20
 1303 00ba C3ED007A 		vstr.32	s15, [r3]
 426:TASK/src/gimbal_task.c ****         
 1304              		.loc 1 426 9 is_stmt 1 discriminator 4 view .LVU298
 1305 00be B4EEE77A 		vcmpe.f32	s14, s15
 1306 00c2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1307 00c6 01D5     		bpl	.L81
 426:TASK/src/gimbal_task.c ****         
 1308              		.loc 1 426 9 is_stmt 0 view .LVU299
 1309 00c8 F0EE477A 		vmov.f32	s15, s14
 1310              	.L81:
 426:TASK/src/gimbal_task.c ****         
 1311              		.loc 1 426 9 discriminator 8 view .LVU300
 1312 00cc 304B     		ldr	r3, .L90+20
 1313 00ce C3ED007A 		vstr.32	s15, [r3]
 426:TASK/src/gimbal_task.c ****         
 1314              		.loc 1 426 80 is_stmt 1 discriminator 8 view .LVU301
 429:TASK/src/gimbal_task.c ****         {
 1315              		.loc 1 429 9 discriminator 8 view .LVU302
 442:TASK/src/gimbal_task.c ****     }
 1316              		.loc 1 442 9 discriminator 8 view .LVU303
 1317              	.L68:
 442:TASK/src/gimbal_task.c ****     }
 1318              		.loc 1 442 9 is_stmt 0 discriminator 8 view .LVU304
 1319              	.LBE2:
 444:TASK/src/gimbal_task.c **** 
 1320              		.loc 1 444 1 view .LVU305
 1321 00d2 03B0     		add	sp, sp, #12
 1322              	.LCFI15:
 1323              		.cfi_remember_state
 1324              		.cfi_def_cfa_offset 12
 1325              		@ sp needed
 1326 00d4 30BD     		pop	{r4, r5, pc}
 1327              	.L89:
 1328              	.LCFI16:
 1329              		.cfi_restore_state
 1330              	.LBB3:
 362:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_pitch.k[1] = k_encoder_pitch_lqr[1];
 1331              		.loc 1 362 9 is_stmt 1 view .LVU306
 362:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_pitch.k[1] = k_encoder_pitch_lqr[1];
 1332              		.loc 1 362 33 is_stmt 0 view .LVU307
 1333 00d6 294C     		ldr	r4, .L90
 1334 00d8 D4F88820 		ldr	r2, [r4, #136]
 362:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_pitch.k[1] = k_encoder_pitch_lqr[1];
 1335              		.loc 1 362 60 view .LVU308
 1336 00dc 2E4B     		ldr	r3, .L90+28
 1337 00de 1968     		ldr	r1, [r3]	@ float
 362:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_pitch.k[1] = k_encoder_pitch_lqr[1];
 1338              		.loc 1 362 39 view .LVU309
 1339 00e0 1160     		str	r1, [r2]	@ float
 363:TASK/src/gimbal_task.c **** 
 1340              		.loc 1 363 9 is_stmt 1 view .LVU310
 363:TASK/src/gimbal_task.c **** 
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 42


 1341              		.loc 1 363 33 is_stmt 0 view .LVU311
 1342 00e2 D4F88820 		ldr	r2, [r4, #136]
 363:TASK/src/gimbal_task.c **** 
 1343              		.loc 1 363 60 view .LVU312
 1344 00e6 5B68     		ldr	r3, [r3, #4]	@ float
 363:TASK/src/gimbal_task.c **** 
 1345              		.loc 1 363 39 view .LVU313
 1346 00e8 5360     		str	r3, [r2, #4]	@ float
 365:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 1347              		.loc 1 365 9 is_stmt 1 view .LVU314
 365:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 1348              		.loc 1 365 41 is_stmt 0 view .LVU315
 1349 00ea 2368     		ldr	r3, [r4]
 365:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 1350              		.loc 1 365 52 view .LVU316
 1351 00ec D3ED067A 		vldr.32	s15, [r3, #24]
 365:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 1352              		.loc 1 365 80 view .LVU317
 1353 00f0 2369     		ldr	r3, [r4, #16]
 365:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 1354              		.loc 1 365 92 view .LVU318
 1355 00f2 93ED047A 		vldr.32	s14, [r3, #16]
 365:TASK/src/gimbal_task.c ****         float Pitch_system_state[2] = {Pitch_motortarget, -Gimbal.PITCH_Motor->speed};
 1356              		.loc 1 365 15 view .LVU319
 1357 00f6 77EEC77A 		vsub.f32	s15, s15, s14
 1358              	.LVL65:
 366:TASK/src/gimbal_task.c ****         
 1359              		.loc 1 366 9 is_stmt 1 view .LVU320
 366:TASK/src/gimbal_task.c ****         
 1360              		.loc 1 366 15 is_stmt 0 view .LVU321
 1361 00fa CDED007A 		vstr.32	s15, [sp]
 366:TASK/src/gimbal_task.c ****         
 1362              		.loc 1 366 78 view .LVU322
 1363 00fe D3ED057A 		vldr.32	s15, [r3, #20]
 1364              	.LVL66:
 366:TASK/src/gimbal_task.c ****         
 1365              		.loc 1 366 59 view .LVU323
 1366 0102 F1EE677A 		vneg.f32	s15, s15
 366:TASK/src/gimbal_task.c ****         
 1367              		.loc 1 366 15 view .LVU324
 1368 0106 CDED017A 		vstr.32	s15, [sp, #4]
 369:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_encoder_pitch);
 1369              		.loc 1 369 9 is_stmt 1 view .LVU325
 1370 010a 04F17405 		add	r5, r4, #116
 1371 010e 6946     		mov	r1, sp
 1372 0110 2846     		mov	r0, r5
 1373 0112 FFF7FEFF 		bl	LQR_Data_Update
 1374              	.LVL67:
 370:TASK/src/gimbal_task.c ****         
 1375              		.loc 1 370 9 view .LVU326
 1376 0116 2846     		mov	r0, r5
 1377 0118 FFF7FEFF 		bl	LQR_Calculate
 1378              	.LVL68:
 372:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1379              		.loc 1 372 9 view .LVU327
 372:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1380              		.loc 1 372 55 is_stmt 0 view .LVU328
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 43


 1381 011c D4F88430 		ldr	r3, [r4, #132]
 372:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1382              		.loc 1 372 62 view .LVU329
 1383 0120 D3ED007A 		vldr.32	s15, [r3]
 372:TASK/src/gimbal_task.c ****         value_limit(Pitch_output_torque,-PITCH_TORQUE_LIMIT,PITCH_TORQUE_LIMIT);
 1384              		.loc 1 372 29 view .LVU330
 1385 0124 1A4B     		ldr	r3, .L90+20
 1386 0126 C3ED007A 		vstr.32	s15, [r3]
 373:TASK/src/gimbal_task.c ****         
 1387              		.loc 1 373 9 is_stmt 1 view .LVU331
 1388 012a 1A4B     		ldr	r3, .L90+24
 1389 012c 93ED007A 		vldr.32	s14, [r3]
 1390 0130 F1EE476A 		vneg.f32	s13, s14
 1391 0134 F4EEE67A 		vcmpe.f32	s15, s13
 1392 0138 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1393 013c 01D5     		bpl	.L70
 1394 013e F0EE667A 		vmov.f32	s15, s13
 1395              	.L70:
 373:TASK/src/gimbal_task.c ****         
 1396              		.loc 1 373 9 is_stmt 0 discriminator 4 view .LVU332
 1397 0142 134B     		ldr	r3, .L90+20
 1398 0144 C3ED007A 		vstr.32	s15, [r3]
 373:TASK/src/gimbal_task.c ****         
 1399              		.loc 1 373 9 is_stmt 1 discriminator 4 view .LVU333
 1400 0148 B4EEE77A 		vcmpe.f32	s14, s15
 1401 014c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1402 0150 01D5     		bpl	.L72
 373:TASK/src/gimbal_task.c ****         
 1403              		.loc 1 373 9 is_stmt 0 view .LVU334
 1404 0152 F0EE477A 		vmov.f32	s15, s14
 1405              	.L72:
 373:TASK/src/gimbal_task.c ****         
 1406              		.loc 1 373 9 discriminator 8 view .LVU335
 1407 0156 0E4B     		ldr	r3, .L90+20
 1408 0158 C3ED007A 		vstr.32	s15, [r3]
 373:TASK/src/gimbal_task.c ****         
 1409              		.loc 1 373 80 is_stmt 1 discriminator 8 view .LVU336
 376:TASK/src/gimbal_task.c ****         {
 1410              		.loc 1 376 9 discriminator 8 view .LVU337
 389:TASK/src/gimbal_task.c ****     }
 1411              		.loc 1 389 9 discriminator 8 view .LVU338
 1412              	.LBE3:
 1413 015c B9E7     		b	.L68
 1414              	.L77:
 1415              	.LBB4:
 420:TASK/src/gimbal_task.c ****             LQR_Calculate(&Gimbal.lqr_pitch);
 1416              		.loc 1 420 13 view .LVU339
 1417 015e 074C     		ldr	r4, .L90
 1418 0160 04F11405 		add	r5, r4, #20
 1419 0164 6946     		mov	r1, sp
 1420 0166 2846     		mov	r0, r5
 1421 0168 FFF7FEFF 		bl	LQR_Data_Update
 1422              	.LVL69:
 421:TASK/src/gimbal_task.c ****             
 1423              		.loc 1 421 13 view .LVU340
 1424 016c 2846     		mov	r0, r5
 1425 016e FFF7FEFF 		bl	LQR_Calculate
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 44


 1426              	.LVL70:
 423:TASK/src/gimbal_task.c ****         }
 1427              		.loc 1 423 13 view .LVU341
 423:TASK/src/gimbal_task.c ****         }
 1428              		.loc 1 423 51 is_stmt 0 view .LVU342
 1429 0172 636A     		ldr	r3, [r4, #36]
 423:TASK/src/gimbal_task.c ****         }
 1430              		.loc 1 423 58 view .LVU343
 1431 0174 1A68     		ldr	r2, [r3]	@ float
 423:TASK/src/gimbal_task.c ****         }
 1432              		.loc 1 423 33 view .LVU344
 1433 0176 064B     		ldr	r3, .L90+20
 1434 0178 1A60     		str	r2, [r3]	@ float
 1435 017a 89E7     		b	.L78
 1436              	.L91:
 1437              		.align	2
 1438              	.L90:
 1439 017c 00000000 		.word	.LANCHOR1
 1440 0180 00000000 		.word	.LANCHOR9
 1441 0184 00000000 		.word	.LANCHOR22
 1442 0188 00000000 		.word	.LANCHOR23
 1443 018c 00000000 		.word	.LANCHOR10
 1444 0190 00000000 		.word	.LANCHOR16
 1445 0194 00000000 		.word	.LANCHOR21
 1446 0198 00000000 		.word	.LANCHOR12
 1447              	.LBE4:
 1448              		.cfi_endproc
 1449              	.LFE184:
 1451              		.global	__aeabi_l2f
 1452              		.global	__aeabi_f2lz
 1453              		.section	.text.Yaw_Calc,"ax",%progbits
 1454              		.align	1
 1455              		.global	Yaw_Calc
 1456              		.syntax unified
 1457              		.thumb
 1458              		.thumb_func
 1460              	Yaw_Calc:
 1461              	.LFB185:
 447:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->Yaw_Lock_type == ENCODER)//é”ç”µæœº
 1462              		.loc 1 447 1 is_stmt 1 view -0
 1463              		.cfi_startproc
 1464              		@ args = 0, pretend = 0, frame = 8
 1465              		@ frame_needed = 0, uses_anonymous_args = 0
 1466 0000 30B5     		push	{r4, r5, lr}
 1467              	.LCFI17:
 1468              		.cfi_def_cfa_offset 12
 1469              		.cfi_offset 4, -12
 1470              		.cfi_offset 5, -8
 1471              		.cfi_offset 14, -4
 1472 0002 2DED028B 		vpush.64	{d8}
 1473              	.LCFI18:
 1474              		.cfi_def_cfa_offset 20
 1475              		.cfi_offset 80, -20
 1476              		.cfi_offset 81, -16
 1477 0006 83B0     		sub	sp, sp, #12
 1478              	.LCFI19:
 1479              		.cfi_def_cfa_offset 32
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 45


 448:TASK/src/gimbal_task.c ****     {   
 1480              		.loc 1 448 5 view .LVU346
 448:TASK/src/gimbal_task.c ****     {   
 1481              		.loc 1 448 15 is_stmt 0 view .LVU347
 1482 0008 4C4B     		ldr	r3, .L99
 1483 000a 1B68     		ldr	r3, [r3]
 448:TASK/src/gimbal_task.c ****     {   
 1484              		.loc 1 448 26 view .LVU348
 1485 000c 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 448:TASK/src/gimbal_task.c ****     {   
 1486              		.loc 1 448 8 view .LVU349
 1487 000e 012B     		cmp	r3, #1
 1488 0010 37D0     		beq	.L98
 1489              	.LBB5:
 465:TASK/src/gimbal_task.c ****         Gimbal.lqr_yaw.k[1] = k_yaw_lqr[1];
 1490              		.loc 1 465 9 is_stmt 1 view .LVU350
 465:TASK/src/gimbal_task.c ****         Gimbal.lqr_yaw.k[1] = k_yaw_lqr[1];
 1491              		.loc 1 465 23 is_stmt 0 view .LVU351
 1492 0012 4A4C     		ldr	r4, .L99
 1493 0014 A26E     		ldr	r2, [r4, #104]
 465:TASK/src/gimbal_task.c ****         Gimbal.lqr_yaw.k[1] = k_yaw_lqr[1];
 1494              		.loc 1 465 40 view .LVU352
 1495 0016 4A4B     		ldr	r3, .L99+4
 1496 0018 1968     		ldr	r1, [r3]	@ float
 465:TASK/src/gimbal_task.c ****         Gimbal.lqr_yaw.k[1] = k_yaw_lqr[1];
 1497              		.loc 1 465 29 view .LVU353
 1498 001a 1160     		str	r1, [r2]	@ float
 466:TASK/src/gimbal_task.c ****         
 1499              		.loc 1 466 9 is_stmt 1 view .LVU354
 466:TASK/src/gimbal_task.c ****         
 1500              		.loc 1 466 23 is_stmt 0 view .LVU355
 1501 001c A26E     		ldr	r2, [r4, #104]
 466:TASK/src/gimbal_task.c ****         
 1502              		.loc 1 466 40 view .LVU356
 1503 001e 5B68     		ldr	r3, [r3, #4]	@ float
 466:TASK/src/gimbal_task.c ****         
 1504              		.loc 1 466 29 view .LVU357
 1505 0020 5360     		str	r3, [r2, #4]	@ float
 468:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {((-Yaw_motortarget) / 57.295779513f), Gimbal.ins->Gyro[2]};
 1506              		.loc 1 468 9 is_stmt 1 view .LVU358
 468:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {((-Yaw_motortarget) / 57.295779513f), Gimbal.ins->Gyro[2]};
 1507              		.loc 1 468 58 is_stmt 0 view .LVU359
 1508 0022 2368     		ldr	r3, [r4]
 468:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {((-Yaw_motortarget) / 57.295779513f), Gimbal.ins->Gyro[2]};
 1509              		.loc 1 468 89 view .LVU360
 1510 0024 6268     		ldr	r2, [r4, #4]
 468:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {((-Yaw_motortarget) / 57.295779513f), Gimbal.ins->Gyro[2]};
 1511              		.loc 1 468 33 view .LVU361
 1512 0026 DFED471A 		vldr.32	s3, .L99+8
 1513 002a 9FED471A 		vldr.32	s2, .L99+12
 1514 002e D2ED250A 		vldr.32	s1, [r2, #148]
 1515 0032 93ED070A 		vldr.32	s0, [r3, #28]
 1516 0036 FFF7FEFF 		bl	float_min_distance
 1517              	.LVL71:
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 1518              		.loc 1 469 9 is_stmt 1 view .LVU362
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 46


 1519              		.loc 1 469 40 is_stmt 0 view .LVU363
 1520 003a B1EE400A 		vneg.f32	s0, s0
 1521              	.LVL72:
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 1522              		.loc 1 469 58 view .LVU364
 1523 003e 9FED437A 		vldr.32	s14, .L99+16
 1524 0042 C0EE077A 		vdiv.f32	s15, s0, s14
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 1525              		.loc 1 469 15 view .LVU365
 1526 0046 CDED007A 		vstr.32	s15, [sp]
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 1527              		.loc 1 469 82 view .LVU366
 1528 004a 6368     		ldr	r3, [r4, #4]
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 1529              		.loc 1 469 92 view .LVU367
 1530 004c DB69     		ldr	r3, [r3, #28]	@ float
 469:TASK/src/gimbal_task.c ****         LQR_Data_Update(&Gimbal.lqr_yaw, Yaw_system_state);
 1531              		.loc 1 469 15 view .LVU368
 1532 004e 0193     		str	r3, [sp, #4]	@ float
 470:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_yaw);
 1533              		.loc 1 470 9 is_stmt 1 view .LVU369
 1534 0050 04F15405 		add	r5, r4, #84
 1535 0054 6946     		mov	r1, sp
 1536 0056 2846     		mov	r0, r5
 1537 0058 FFF7FEFF 		bl	LQR_Data_Update
 1538              	.LVL73:
 471:TASK/src/gimbal_task.c ****     
 1539              		.loc 1 471 9 view .LVU370
 1540 005c 2846     		mov	r0, r5
 1541 005e FFF7FEFF 		bl	LQR_Calculate
 1542              	.LVL74:
 473:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = torque_to_voltage_6020(Yaw_output_torque);
 1543              		.loc 1 473 9 view .LVU371
 473:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = torque_to_voltage_6020(Yaw_output_torque);
 1544              		.loc 1 473 50 is_stmt 0 view .LVU372
 1545 0062 636E     		ldr	r3, [r4, #100]
 1546              	.LVL75:
 474:TASK/src/gimbal_task.c ****     }
 1547              		.loc 1 474 9 is_stmt 1 view .LVU373
 474:TASK/src/gimbal_task.c ****     }
 1548              		.loc 1 474 43 is_stmt 0 view .LVU374
 1549 0064 93ED000A 		vldr.32	s0, [r3]
 1550 0068 FFF7FEFF 		bl	torque_to_voltage_6020
 1551              	.LVL76:
 474:TASK/src/gimbal_task.c ****     }
 1552              		.loc 1 474 15 view .LVU375
 1553 006c A368     		ldr	r3, [r4, #8]
 474:TASK/src/gimbal_task.c ****     }
 1554              		.loc 1 474 41 view .LVU376
 1555 006e BDEEC00A 		vcvt.s32.f32	s0, s0
 1556 0072 10EE102A 		vmov	r2, s0	@ int
 1557 0076 A3F8A221 		strh	r2, [r3, #418]	@ movhi
 1558              	.L92:
 474:TASK/src/gimbal_task.c ****     }
 1559              		.loc 1 474 41 view .LVU377
 1560              	.LBE5:
 476:TASK/src/gimbal_task.c **** 
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 47


 1561              		.loc 1 476 1 view .LVU378
 1562 007a 03B0     		add	sp, sp, #12
 1563              	.LCFI20:
 1564              		.cfi_remember_state
 1565              		.cfi_def_cfa_offset 20
 1566              		@ sp needed
 1567 007c BDEC028B 		vldm	sp!, {d8}
 1568              	.LCFI21:
 1569              		.cfi_restore 80
 1570              		.cfi_restore 81
 1571              		.cfi_def_cfa_offset 12
 1572 0080 30BD     		pop	{r4, r5, pc}
 1573              	.L98:
 1574              	.LCFI22:
 1575              		.cfi_restore_state
 1576              	.LBB6:
 450:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_yaw.k[1] = k_encoder_yaw_lqr[1];
 1577              		.loc 1 450 9 is_stmt 1 view .LVU379
 450:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_yaw.k[1] = k_encoder_yaw_lqr[1];
 1578              		.loc 1 450 31 is_stmt 0 view .LVU380
 1579 0082 2E4C     		ldr	r4, .L99
 1580 0084 D4F8A820 		ldr	r2, [r4, #168]
 450:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_yaw.k[1] = k_encoder_yaw_lqr[1];
 1581              		.loc 1 450 56 view .LVU381
 1582 0088 314B     		ldr	r3, .L99+20
 1583 008a 1968     		ldr	r1, [r3]	@ float
 450:TASK/src/gimbal_task.c ****         Gimbal.lqr_encoder_yaw.k[1] = k_encoder_yaw_lqr[1];
 1584              		.loc 1 450 37 view .LVU382
 1585 008c 1160     		str	r1, [r2]	@ float
 451:TASK/src/gimbal_task.c **** 
 1586              		.loc 1 451 9 is_stmt 1 view .LVU383
 451:TASK/src/gimbal_task.c **** 
 1587              		.loc 1 451 31 is_stmt 0 view .LVU384
 1588 008e D4F8A820 		ldr	r2, [r4, #168]
 451:TASK/src/gimbal_task.c **** 
 1589              		.loc 1 451 56 view .LVU385
 1590 0092 5B68     		ldr	r3, [r3, #4]	@ float
 451:TASK/src/gimbal_task.c **** 
 1591              		.loc 1 451 37 view .LVU386
 1592 0094 5360     		str	r3, [r2, #4]	@ float
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1593              		.loc 1 453 9 is_stmt 1 view .LVU387
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1594              		.loc 1 453 39 is_stmt 0 view .LVU388
 1595 0096 2368     		ldr	r3, [r4]
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1596              		.loc 1 453 50 view .LVU389
 1597 0098 186A     		ldr	r0, [r3, #32]
 1598 009a 596A     		ldr	r1, [r3, #36]
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1599              		.loc 1 453 76 view .LVU390
 1600 009c A568     		ldr	r5, [r4, #8]
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1601              		.loc 1 453 101 view .LVU391
 1602 009e 2B6A     		ldr	r3, [r5, #32]
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1603              		.loc 1 453 68 view .LVU392
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 48


 1604 00a0 C01A     		subs	r0, r0, r3
 453:TASK/src/gimbal_task.c ****         float Yaw_system_state[2] = {Yaw_motortarget, Gimbal.YAW_Motor->Motor_Information.speed};
 1605              		.loc 1 453 15 view .LVU393
 1606 00a2 61EBE371 		sbc	r1, r1, r3, asr #31
 1607 00a6 FFF7FEFF 		bl	__aeabi_l2f
 1608              	.LVL77:
 454:TASK/src/gimbal_task.c **** 
 1609              		.loc 1 454 9 is_stmt 1 view .LVU394
 454:TASK/src/gimbal_task.c **** 
 1610              		.loc 1 454 15 is_stmt 0 view .LVU395
 1611 00aa 0090     		str	r0, [sp]	@ float
 454:TASK/src/gimbal_task.c **** 
 1612              		.loc 1 454 90 view .LVU396
 1613 00ac B5F91630 		ldrsh	r3, [r5, #22]
 1614 00b0 07EE903A 		vmov	s15, r3	@ int
 454:TASK/src/gimbal_task.c **** 
 1615              		.loc 1 454 15 view .LVU397
 1616 00b4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1617 00b8 CDED017A 		vstr.32	s15, [sp, #4]
 456:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_encoder_yaw);
 1618              		.loc 1 456 9 is_stmt 1 view .LVU398
 1619 00bc 04F19405 		add	r5, r4, #148
 1620 00c0 6946     		mov	r1, sp
 1621 00c2 2846     		mov	r0, r5
 1622              	.LVL78:
 456:TASK/src/gimbal_task.c ****         LQR_Calculate(&Gimbal.lqr_encoder_yaw);
 1623              		.loc 1 456 9 is_stmt 0 view .LVU399
 1624 00c4 FFF7FEFF 		bl	LQR_Data_Update
 1625              	.LVL79:
 457:TASK/src/gimbal_task.c ****         
 1626              		.loc 1 457 9 is_stmt 1 view .LVU400
 1627 00c8 2846     		mov	r0, r5
 1628 00ca FFF7FEFF 		bl	LQR_Calculate
 1629              	.LVL80:
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1630              		.loc 1 459 9 view .LVU401
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1631              		.loc 1 459 59 is_stmt 0 view .LVU402
 1632 00ce D4F8A430 		ldr	r3, [r4, #164]
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1633              		.loc 1 459 66 view .LVU403
 1634 00d2 D3ED008A 		vldr.32	s17, [r3]
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1635              		.loc 1 459 115 view .LVU404
 1636 00d6 2368     		ldr	r3, [r4]
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1637              		.loc 1 459 151 view .LVU405
 1638 00d8 A268     		ldr	r2, [r4, #8]
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1639              		.loc 1 459 176 view .LVU406
 1640 00da 92ED088A 		vldr.32	s16, [r2, #32]	@ int
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1641              		.loc 1 459 72 view .LVU407
 1642 00de B8EEC88A 		vcvt.f32.s32	s16, s16
 1643 00e2 D3E90801 		ldrd	r0, [r3, #32]
 1644 00e6 FFF7FEFF 		bl	__aeabi_l2f
 1645              	.LVL81:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 49


 1646 00ea F0EE480A 		vmov.f32	s1, s16
 1647 00ee 00EE100A 		vmov	s0, r0
 1648 00f2 04F1B400 		add	r0, r4, #180
 1649 00f6 FFF7FEFF 		bl	PidCalculate
 1650              	.LVL82:
 459:TASK/src/gimbal_task.c ****         value_limit(Yaw_Motor_Output,-25000,25000);//LQRè¿ç®—æœ‰å¾ˆå¤§æ¦‚çŽ‡è¶…int16
 1651              		.loc 1 459 17 view .LVU408
 1652 00fa 78EE807A 		vadd.f32	s15, s17, s0
 1653 00fe 17EE900A 		vmov	r0, s15
 1654 0102 FFF7FEFF 		bl	__aeabi_f2lz
 1655              	.LVL83:
 460:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = Yaw_Motor_Output;
 1656              		.loc 1 460 9 is_stmt 1 view .LVU409
 1657 0106 0346     		mov	r3, r0
 1658 0108 0C46     		mov	r4, r1
 1659 010a 124A     		ldr	r2, .L99+24
 1660 010c 9042     		cmp	r0, r2
 1661 010e 4FF0FF32 		mov	r2, #-1
 1662 0112 71EB0202 		sbcs	r2, r1, r2
 1663 0116 02DA     		bge	.L94
 1664 0118 0E4B     		ldr	r3, .L99+24
 1665 011a 4FF0FF34 		mov	r4, #-1
 1666              	.L94:
 1667              	.LVL84:
 460:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = Yaw_Motor_Output;
 1668              		.loc 1 460 9 view .LVU410
 1669 011e 1A46     		mov	r2, r3
 1670 0120 46F2A911 		movw	r1, #25001
 1671 0124 8B42     		cmp	r3, r1
 1672 0126 74F10003 		sbcs	r3, r4, #0
 1673              	.LVL85:
 460:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = Yaw_Motor_Output;
 1674              		.loc 1 460 9 is_stmt 0 view .LVU411
 1675 012a 01DB     		blt	.L95
 1676 012c 46F2A812 		movw	r2, #25000
 1677              	.LVL86:
 1678              	.L95:
 460:TASK/src/gimbal_task.c ****         Gimbal.YAW_Motor->voltage_input = Yaw_Motor_Output;
 1679              		.loc 1 460 51 is_stmt 1 view .LVU412
 461:TASK/src/gimbal_task.c ****     }
 1680              		.loc 1 461 9 view .LVU413
 461:TASK/src/gimbal_task.c ****     }
 1681              		.loc 1 461 15 is_stmt 0 view .LVU414
 1682 0130 024B     		ldr	r3, .L99
 1683 0132 9B68     		ldr	r3, [r3, #8]
 461:TASK/src/gimbal_task.c ****     }
 1684              		.loc 1 461 41 view .LVU415
 1685 0134 A3F8A221 		strh	r2, [r3, #418]	@ movhi
 1686              	.LBE6:
 1687 0138 9FE7     		b	.L92
 1688              	.L100:
 1689 013a 00BF     		.align	2
 1690              	.L99:
 1691 013c 00000000 		.word	.LANCHOR1
 1692 0140 00000000 		.word	.LANCHOR11
 1693 0144 00003443 		.word	1127481344
 1694 0148 000034C3 		.word	-1020002304
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 50


 1695 014c E12E6542 		.word	1113927393
 1696 0150 00000000 		.word	.LANCHOR13
 1697 0154 589EFFFF 		.word	-25000
 1698              		.cfi_endproc
 1699              	.LFE185:
 1701              		.section	.text.Gimbal_Work,"ax",%progbits
 1702              		.align	1
 1703              		.syntax unified
 1704              		.thumb
 1705              		.thumb_func
 1707              	Gimbal_Work:
 1708              	.LFB189:
 736:TASK/src/gimbal_task.c ****     if (Enable_pitch_motor > 0)
 1709              		.loc 1 736 1 is_stmt 1 view -0
 1710              		.cfi_startproc
 1711              		@ args = 0, pretend = 0, frame = 0
 1712              		@ frame_needed = 0, uses_anonymous_args = 0
 1713 0000 08B5     		push	{r3, lr}
 1714              	.LCFI23:
 1715              		.cfi_def_cfa_offset 8
 1716              		.cfi_offset 3, -8
 1717              		.cfi_offset 14, -4
 737:TASK/src/gimbal_task.c ****     {
 1718              		.loc 1 737 5 view .LVU417
 737:TASK/src/gimbal_task.c ****     {
 1719              		.loc 1 737 28 is_stmt 0 view .LVU418
 1720 0002 094B     		ldr	r3, .L105
 1721 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 737:TASK/src/gimbal_task.c ****     {
 1722              		.loc 1 737 8 view .LVU419
 1723 0006 33B9     		cbnz	r3, .L104
 1724              	.L102:
 742:TASK/src/gimbal_task.c ****     Pitch_Calc();//Pè½´è®¡ç®—
 1725              		.loc 1 742 5 is_stmt 1 view .LVU420
 1726 0008 FFF7FEFF 		bl	Motor_Choice_Lock_Type
 1727              	.LVL87:
 743:TASK/src/gimbal_task.c ****     Yaw_Calc();//Yè½´è®¡ç®—
 1728              		.loc 1 743 5 view .LVU421
 1729 000c FFF7FEFF 		bl	Pitch_Calc
 1730              	.LVL88:
 744:TASK/src/gimbal_task.c **** }
 1731              		.loc 1 744 5 view .LVU422
 1732 0010 FFF7FEFF 		bl	Yaw_Calc
 1733              	.LVL89:
 745:TASK/src/gimbal_task.c **** 
 1734              		.loc 1 745 1 is_stmt 0 view .LVU423
 1735 0014 08BD     		pop	{r3, pc}
 1736              	.L104:
 739:TASK/src/gimbal_task.c ****         Enable_pitch_motor--;
 1737              		.loc 1 739 9 is_stmt 1 view .LVU424
 1738 0016 054B     		ldr	r3, .L105+4
 1739 0018 1869     		ldr	r0, [r3, #16]
 1740 001a FFF7FEFF 		bl	MI_motor_enable
 1741              	.LVL90:
 740:TASK/src/gimbal_task.c ****     }
 1742              		.loc 1 740 9 view .LVU425
 740:TASK/src/gimbal_task.c ****     }
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 51


 1743              		.loc 1 740 27 is_stmt 0 view .LVU426
 1744 001e 024A     		ldr	r2, .L105
 1745 0020 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1746 0022 013B     		subs	r3, r3, #1
 1747 0024 1370     		strb	r3, [r2]
 1748 0026 EFE7     		b	.L102
 1749              	.L106:
 1750              		.align	2
 1751              	.L105:
 1752 0028 00000000 		.word	.LANCHOR24
 1753 002c 00000000 		.word	.LANCHOR1
 1754              		.cfi_endproc
 1755              	.LFE189:
 1757              		.section	.text.GetCCR,"ax",%progbits
 1758              		.align	1
 1759              		.global	GetCCR
 1760              		.syntax unified
 1761              		.thumb
 1762              		.thumb_func
 1764              	GetCCR:
 1765              	.LVL91:
 1766              	.LFB186:
 491:TASK/src/gimbal_task.c **** 	uint16_t RET = ((Inputangle/180 * 2000) + 500);
 1767              		.loc 1 491 1 is_stmt 1 view -0
 1768              		.cfi_startproc
 1769              		@ args = 0, pretend = 0, frame = 0
 1770              		@ frame_needed = 0, uses_anonymous_args = 0
 1771              		@ link register save eliminated.
 492:TASK/src/gimbal_task.c **** 	return RET;
 1772              		.loc 1 492 2 view .LVU428
 492:TASK/src/gimbal_task.c **** 	return RET;
 1773              		.loc 1 492 29 is_stmt 0 view .LVU429
 1774 0000 9FED087A 		vldr.32	s14, .L108
 1775 0004 C0EE077A 		vdiv.f32	s15, s0, s14
 492:TASK/src/gimbal_task.c **** 	return RET;
 1776              		.loc 1 492 34 view .LVU430
 1777 0008 9FED077A 		vldr.32	s14, .L108+4
 1778 000c 67EE877A 		vmul.f32	s15, s15, s14
 492:TASK/src/gimbal_task.c **** 	return RET;
 1779              		.loc 1 492 42 view .LVU431
 1780 0010 9FED067A 		vldr.32	s14, .L108+8
 1781 0014 77EE877A 		vadd.f32	s15, s15, s14
 492:TASK/src/gimbal_task.c **** 	return RET;
 1782              		.loc 1 492 11 view .LVU432
 1783 0018 FCEEE77A 		vcvt.u32.f32	s15, s15
 1784              	.LVL92:
 493:TASK/src/gimbal_task.c **** }
 1785              		.loc 1 493 2 is_stmt 1 view .LVU433
 494:TASK/src/gimbal_task.c **** 
 1786              		.loc 1 494 1 is_stmt 0 view .LVU434
 1787 001c 17EE903A 		vmov	r3, s15	@ int
 1788 0020 98B2     		uxth	r0, r3
 1789 0022 7047     		bx	lr
 1790              	.L109:
 1791              		.align	2
 1792              	.L108:
 1793 0024 00003443 		.word	1127481344
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 52


 1794 0028 0000FA44 		.word	1157234688
 1795 002c 0000FA43 		.word	1140457472
 1796              		.cfi_endproc
 1797              	.LFE186:
 1799              		.section	.text.Photo_Control,"ax",%progbits
 1800              		.align	1
 1801              		.syntax unified
 1802              		.thumb
 1803              		.thumb_func
 1805              	Photo_Control:
 1806              	.LFB187:
 497:TASK/src/gimbal_task.c ****         /*æŒ‰é”®æ“æŽ§*/
 1807              		.loc 1 497 1 is_stmt 1 view -0
 1808              		.cfi_startproc
 1809              		@ args = 0, pretend = 0, frame = 0
 1810              		@ frame_needed = 0, uses_anonymous_args = 0
 1811 0000 38B5     		push	{r3, r4, r5, lr}
 1812              	.LCFI24:
 1813              		.cfi_def_cfa_offset 16
 1814              		.cfi_offset 3, -16
 1815              		.cfi_offset 4, -12
 1816              		.cfi_offset 5, -8
 1817              		.cfi_offset 14, -4
 1818 0002 2DED028B 		vpush.64	{d8}
 1819              	.LCFI25:
 1820              		.cfi_def_cfa_offset 24
 1821              		.cfi_offset 80, -24
 1822              		.cfi_offset 81, -20
 505:TASK/src/gimbal_task.c ****     
 1823              		.loc 1 505 5 view .LVU436
 1824 0006 8E4B     		ldr	r3, .L161
 1825 0008 93ED000A 		vldr.32	s0, [r3]
 1826 000c FFF7FEFF 		bl	GetCCR
 1827              	.LVL93:
 1828 0010 8C4B     		ldr	r3, .L161+4
 1829 0012 1B68     		ldr	r3, [r3]
 1830 0014 D863     		str	r0, [r3, #60]
 510:TASK/src/gimbal_task.c ****     static uint8_t Set_MG995_Angle_flag = 1;//ä»…å¼€å…³é•œæ—¶è‡ªåŠ¨åˆ‡æ¢ä¸€æ¬¡èˆµæœºè§’åº¦
 1831              		.loc 1 510 5 view .LVU437
 511:TASK/src/gimbal_task.c ****     
 1832              		.loc 1 511 5 view .LVU438
 513:TASK/src/gimbal_task.c ****     static int16_t to_lock = 300;//æ ¡å‡†é™ä½å µè½¬è®¡æ—¶å™¨
 1833              		.loc 1 513 5 view .LVU439
 514:TASK/src/gimbal_task.c ****     static int16_t to_unlock = 300;//å µè½¬åŽä¼šæœ‰å½¢å˜ï¼Œæ­¤æ—¶è®¾å®šä¸ºé™ä½ç¼–ç å€¼ä¸å‡†
 1834              		.loc 1 514 5 view .LVU440
 515:TASK/src/gimbal_task.c ****     static uint8_t Reset_flag = 1;//æ ¡å‡†æ ‡å¿—ä½
 1835              		.loc 1 515 5 view .LVU441
 516:TASK/src/gimbal_task.c ****    
 1836              		.loc 1 516 5 view .LVU442
 518:TASK/src/gimbal_task.c ****     static int8_t  Status = 0;//å¼€å…³é•œæƒ…å†µ
 1837              		.loc 1 518 5 view .LVU443
 519:TASK/src/gimbal_task.c ****     static uint16_t On_set_time = 0;//é•¿æŒ‰å¼€é•œè®¡æ—¶å™¨
 1838              		.loc 1 519 5 view .LVU444
 520:TASK/src/gimbal_task.c ****     static uint16_t Off_set_time = 0;//é•¿æŒ‰å…³é•œè®¡æ—¶å™¨
 1839              		.loc 1 520 5 view .LVU445
 521:TASK/src/gimbal_task.c ****     static uint8_t  Left_move_flag = 0;//å‘å·¦å¾®è°ƒæ ‡å¿—
 1840              		.loc 1 521 5 view .LVU446
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 53


 522:TASK/src/gimbal_task.c ****     static uint8_t  Right_move_flag = 0;//å‘å³å¾®è°ƒæ ‡å¿—
 1841              		.loc 1 522 5 view .LVU447
 523:TASK/src/gimbal_task.c ****     static uint8_t  FUCK = 1;
 1842              		.loc 1 523 5 view .LVU448
 524:TASK/src/gimbal_task.c **** 
 1843              		.loc 1 524 5 view .LVU449
 526:TASK/src/gimbal_task.c ****     
 1844              		.loc 1 526 5 view .LVU450
 526:TASK/src/gimbal_task.c ****     
 1845              		.loc 1 526 28 is_stmt 0 view .LVU451
 1846 0016 8C4B     		ldr	r3, .L161+8
 1847 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 526:TASK/src/gimbal_task.c ****     
 1848              		.loc 1 526 8 view .LVU452
 1849 001a 002B     		cmp	r3, #0
 1850 001c 00F06A81 		beq	.L110
 528:TASK/src/gimbal_task.c ****     {
 1851              		.loc 1 528 5 is_stmt 1 view .LVU453
 528:TASK/src/gimbal_task.c ****     {
 1852              		.loc 1 528 9 is_stmt 0 view .LVU454
 1853 0020 8A4B     		ldr	r3, .L161+12
 1854 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 528:TASK/src/gimbal_task.c ****     {
 1855              		.loc 1 528 8 view .LVU455
 1856 0024 002B     		cmp	r3, #0
 1857 0026 41D0     		beq	.L112
 530:TASK/src/gimbal_task.c ****         Status = 0;
 1858              		.loc 1 530 9 is_stmt 1 view .LVU456
 530:TASK/src/gimbal_task.c ****         Status = 0;
 1859              		.loc 1 530 30 is_stmt 0 view .LVU457
 1860 0028 894B     		ldr	r3, .L161+16
 1861 002a 0122     		movs	r2, #1
 1862 002c 1A70     		strb	r2, [r3]
 531:TASK/src/gimbal_task.c ****         Gimbal.Phtot_Angle = 92;
 1863              		.loc 1 531 9 is_stmt 1 view .LVU458
 531:TASK/src/gimbal_task.c ****         Gimbal.Phtot_Angle = 92;
 1864              		.loc 1 531 16 is_stmt 0 view .LVU459
 1865 002e 894B     		ldr	r3, .L161+20
 1866 0030 0022     		movs	r2, #0
 1867 0032 1A70     		strb	r2, [r3]
 532:TASK/src/gimbal_task.c ****         
 1868              		.loc 1 532 9 is_stmt 1 view .LVU460
 532:TASK/src/gimbal_task.c ****         
 1869              		.loc 1 532 28 is_stmt 0 view .LVU461
 1870 0034 824B     		ldr	r3, .L161
 1871 0036 884A     		ldr	r2, .L161+24
 1872 0038 1A60     		str	r2, [r3]	@ float
 534:TASK/src/gimbal_task.c ****         
 1873              		.loc 1 534 9 is_stmt 1 view .LVU462
 534:TASK/src/gimbal_task.c ****         
 1874              		.loc 1 534 53 is_stmt 0 view .LVU463
 1875 003a 884B     		ldr	r3, .L161+28
 1876 003c B3F90020 		ldrsh	r2, [r3]
 534:TASK/src/gimbal_task.c ****         
 1877              		.loc 1 534 43 view .LVU464
 1878 0040 002A     		cmp	r2, #0
 1879 0042 31DD     		ble	.L145
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 54


 1880 0044 8648     		ldr	r0, .L161+32
 1881              	.L113:
 534:TASK/src/gimbal_task.c ****         
 1882              		.loc 1 534 15 discriminator 4 view .LVU465
 1883 0046 874B     		ldr	r3, .L161+36
 1884 0048 D968     		ldr	r1, [r3, #12]
 534:TASK/src/gimbal_task.c ****         
 1885              		.loc 1 534 43 discriminator 4 view .LVU466
 1886 004a A1F8A001 		strh	r0, [r1, #416]	@ movhi
 536:TASK/src/gimbal_task.c ****         {
 1887              		.loc 1 536 9 is_stmt 1 discriminator 4 view .LVU467
 536:TASK/src/gimbal_task.c ****         {
 1888              		.loc 1 536 13 is_stmt 0 discriminator 4 view .LVU468
 1889 004e B1F91630 		ldrsh	r3, [r1, #22]
 1890 0052 002B     		cmp	r3, #0
 1891 0054 B8BF     		it	lt
 1892 0056 5B42     		rsblt	r3, r3, #0
 1893 0058 9BB2     		uxth	r3, r3
 536:TASK/src/gimbal_task.c ****         {
 1894              		.loc 1 536 12 discriminator 4 view .LVU469
 1895 005a 092B     		cmp	r3, #9
 1896 005c 04D8     		bhi	.L114
 538:TASK/src/gimbal_task.c ****         }
 1897              		.loc 1 538 13 is_stmt 1 view .LVU470
 538:TASK/src/gimbal_task.c ****         }
 1898              		.loc 1 538 16 is_stmt 0 view .LVU471
 1899 005e 002A     		cmp	r2, #0
 1900 0060 02DD     		ble	.L114
 538:TASK/src/gimbal_task.c ****         }
 1901              		.loc 1 538 33 is_stmt 1 discriminator 1 view .LVU472
 538:TASK/src/gimbal_task.c ****         }
 1902              		.loc 1 538 40 is_stmt 0 discriminator 1 view .LVU473
 1903 0062 013A     		subs	r2, r2, #1
 1904 0064 7D4B     		ldr	r3, .L161+28
 1905 0066 1A80     		strh	r2, [r3]	@ movhi
 1906              	.L114:
 540:TASK/src/gimbal_task.c ****         {
 1907              		.loc 1 540 9 is_stmt 1 view .LVU474
 540:TASK/src/gimbal_task.c ****         {
 1908              		.loc 1 540 21 is_stmt 0 view .LVU475
 1909 0068 7C4B     		ldr	r3, .L161+28
 1910 006a B3F90030 		ldrsh	r3, [r3]
 540:TASK/src/gimbal_task.c ****         {
 1911              		.loc 1 540 12 view .LVU476
 1912 006e 002B     		cmp	r3, #0
 1913 0070 40F03881 		bne	.L115
 542:TASK/src/gimbal_task.c ****             if (to_unlock == 0)
 1914              		.loc 1 542 13 is_stmt 1 view .LVU477
 542:TASK/src/gimbal_task.c ****             if (to_unlock == 0)
 1915              		.loc 1 542 22 is_stmt 0 view .LVU478
 1916 0074 7C4A     		ldr	r2, .L161+40
 1917 0076 1388     		ldrh	r3, [r2]
 1918 0078 013B     		subs	r3, r3, #1
 1919 007a 1BB2     		sxth	r3, r3
 1920 007c 1380     		strh	r3, [r2]	@ movhi
 543:TASK/src/gimbal_task.c ****             {
 1921              		.loc 1 543 13 is_stmt 1 view .LVU479
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 55


 543:TASK/src/gimbal_task.c ****             {
 1922              		.loc 1 543 16 is_stmt 0 view .LVU480
 1923 007e 002B     		cmp	r3, #0
 1924 0080 40F03081 		bne	.L115
 545:TASK/src/gimbal_task.c ****                 lock_position_encoder = Gimbal.Photo_Motor->Motor_encoder.Encode_Record_Val;//ï¿½ï¿
 1925              		.loc 1 545 17 is_stmt 1 view .LVU481
 545:TASK/src/gimbal_task.c ****                 lock_position_encoder = Gimbal.Photo_Motor->Motor_encoder.Encode_Record_Val;//ï¿½ï¿
 1926              		.loc 1 545 28 is_stmt 0 view .LVU482
 1927 0084 714B     		ldr	r3, .L161+12
 1928 0086 0022     		movs	r2, #0
 1929 0088 1A70     		strb	r2, [r3]
 546:TASK/src/gimbal_task.c ****                 Set_encoder = lock_position_encoder + move;//å µè½¬ä½å’Œå¼€é•œä½é—´æœ‰å·®å¼‚
 1930              		.loc 1 546 17 is_stmt 1 view .LVU483
 546:TASK/src/gimbal_task.c ****                 Set_encoder = lock_position_encoder + move;//å µè½¬ä½å’Œå¼€é•œä½é—´æœ‰å·®å¼‚
 1931              		.loc 1 546 74 is_stmt 0 view .LVU484
 1932 008a 0B6A     		ldr	r3, [r1, #32]
 1933 008c DA17     		asrs	r2, r3, #31
 546:TASK/src/gimbal_task.c ****                 Set_encoder = lock_position_encoder + move;//å µè½¬ä½å’Œå¼€é•œä½é—´æœ‰å·®å¼‚
 1934              		.loc 1 546 39 view .LVU485
 1935 008e 7749     		ldr	r1, .L161+44
 1936 0090 0B60     		str	r3, [r1]
 1937 0092 4A60     		str	r2, [r1, #4]
 547:TASK/src/gimbal_task.c ****             }
 1938              		.loc 1 547 17 is_stmt 1 view .LVU486
 547:TASK/src/gimbal_task.c ****             }
 1939              		.loc 1 547 53 is_stmt 0 view .LVU487
 1940 0094 7648     		ldr	r0, .L161+48
 1941 0096 0168     		ldr	r1, [r0]
 1942 0098 4068     		ldr	r0, [r0, #4]
 1943 009a 5B18     		adds	r3, r3, r1
 1944 009c 42EB0002 		adc	r2, r2, r0
 547:TASK/src/gimbal_task.c ****             }
 1945              		.loc 1 547 29 view .LVU488
 1946 00a0 7449     		ldr	r1, .L161+52
 1947 00a2 0B60     		str	r3, [r1]
 1948 00a4 4A60     		str	r2, [r1, #4]
 1949 00a6 1DE1     		b	.L115
 1950              	.L145:
 534:TASK/src/gimbal_task.c ****         
 1951              		.loc 1 534 43 view .LVU489
 1952 00a8 0020     		movs	r0, #0
 1953 00aa CCE7     		b	.L113
 1954              	.L112:
 1955              	.LBB7:
 558:TASK/src/gimbal_task.c ****     static uint8_t B_set = 1;
 1956              		.loc 1 558 5 is_stmt 1 view .LVU490
 1957              	.LVL94:
 559:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.B == 1)
 1958              		.loc 1 559 5 view .LVU491
 560:TASK/src/gimbal_task.c ****     {
 1959              		.loc 1 560 5 view .LVU492
 560:TASK/src/gimbal_task.c ****     {
 1960              		.loc 1 560 15 is_stmt 0 view .LVU493
 1961 00ac 6D4A     		ldr	r2, .L161+36
 1962 00ae 1268     		ldr	r2, [r2]
 560:TASK/src/gimbal_task.c ****     {
 1963              		.loc 1 560 26 view .LVU494
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 56


 1964 00b0 9068     		ldr	r0, [r2, #8]
 560:TASK/src/gimbal_task.c ****     {
 1965              		.loc 1 560 45 view .LVU495
 1966 00b2 417D     		ldrb	r1, [r0, #21]	@ zero_extendqisi2
 560:TASK/src/gimbal_task.c ****     {
 1967              		.loc 1 560 8 view .LVU496
 1968 00b4 90F91500 		ldrsb	r0, [r0, #21]
 1969 00b8 0028     		cmp	r0, #0
 1970 00ba 0ADB     		blt	.L154
 572:TASK/src/gimbal_task.c ****         if (Off_set_time > 0) Off_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 1971              		.loc 1 572 9 is_stmt 1 view .LVU497
 572:TASK/src/gimbal_task.c ****         if (Off_set_time > 0) Off_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 1972              		.loc 1 572 15 is_stmt 0 view .LVU498
 1973 00bc 6E4B     		ldr	r3, .L161+56
 1974 00be 0120     		movs	r0, #1
 1975 00c0 1870     		strb	r0, [r3]
 573:TASK/src/gimbal_task.c ****     }
 1976              		.loc 1 573 9 is_stmt 1 view .LVU499
 573:TASK/src/gimbal_task.c ****     }
 1977              		.loc 1 573 26 is_stmt 0 view .LVU500
 1978 00c2 6E4B     		ldr	r3, .L161+60
 1979 00c4 1B88     		ldrh	r3, [r3]
 573:TASK/src/gimbal_task.c ****     }
 1980              		.loc 1 573 12 view .LVU501
 1981 00c6 DBB1     		cbz	r3, .L147
 573:TASK/src/gimbal_task.c ****     }
 1982              		.loc 1 573 31 is_stmt 1 discriminator 1 view .LVU502
 573:TASK/src/gimbal_task.c ****     }
 1983              		.loc 1 573 44 is_stmt 0 discriminator 1 view .LVU503
 1984 00c8 6C4B     		ldr	r3, .L161+60
 1985 00ca 0020     		movs	r0, #0
 1986 00cc 1880     		strh	r0, [r3]	@ movhi
 558:TASK/src/gimbal_task.c ****     static uint8_t B_set = 1;
 1987              		.loc 1 558 13 discriminator 1 view .LVU504
 1988 00ce 0120     		movs	r0, #1
 1989 00d0 17E0     		b	.L117
 1990              	.L154:
 562:TASK/src/gimbal_task.c ****         Off_set_time++;//é•¿æŒ‰è®¡æ—¶å™¨
 1991              		.loc 1 562 9 is_stmt 1 view .LVU505
 1992              	.LVL95:
 563:TASK/src/gimbal_task.c ****         if (B_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 1993              		.loc 1 563 9 view .LVU506
 563:TASK/src/gimbal_task.c ****         if (B_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 1994              		.loc 1 563 21 is_stmt 0 view .LVU507
 1995 00d2 6A4C     		ldr	r4, .L161+60
 1996 00d4 2088     		ldrh	r0, [r4]
 1997 00d6 0130     		adds	r0, r0, #1
 1998 00d8 2080     		strh	r0, [r4]	@ movhi
 564:TASK/src/gimbal_task.c ****         {
 1999              		.loc 1 564 9 is_stmt 1 view .LVU508
 564:TASK/src/gimbal_task.c ****         {
 2000              		.loc 1 564 13 is_stmt 0 view .LVU509
 2001 00da 6748     		ldr	r0, .L161+56
 2002 00dc 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 564:TASK/src/gimbal_task.c ****         {
 2003              		.loc 1 564 12 view .LVU510
 2004 00de 80B1     		cbz	r0, .L117
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 57


 566:TASK/src/gimbal_task.c ****             if (Status == -1) Right_move_flag = 1;//å‘å³å¾®è°ƒ
 2005              		.loc 1 566 13 is_stmt 1 view .LVU511
 566:TASK/src/gimbal_task.c ****             if (Status == -1) Right_move_flag = 1;//å‘å³å¾®è°ƒ
 2006              		.loc 1 566 19 is_stmt 0 view .LVU512
 2007 00e0 6548     		ldr	r0, .L161+56
 2008 00e2 0024     		movs	r4, #0
 2009 00e4 0470     		strb	r4, [r0]
 567:TASK/src/gimbal_task.c ****         }
 2010              		.loc 1 567 13 is_stmt 1 view .LVU513
 567:TASK/src/gimbal_task.c ****         }
 2011              		.loc 1 567 24 is_stmt 0 view .LVU514
 2012 00e6 5B48     		ldr	r0, .L161+20
 2013 00e8 90F90000 		ldrsb	r0, [r0]
 567:TASK/src/gimbal_task.c ****         }
 2014              		.loc 1 567 16 view .LVU515
 2015 00ec B0F1FF3F 		cmp	r0, #-1
 2016 00f0 01D0     		beq	.L155
 562:TASK/src/gimbal_task.c ****         Off_set_time++;//é•¿æŒ‰è®¡æ—¶å™¨
 2017              		.loc 1 562 23 view .LVU516
 2018 00f2 1846     		mov	r0, r3
 2019 00f4 05E0     		b	.L117
 2020              	.L155:
 567:TASK/src/gimbal_task.c ****         }
 2021              		.loc 1 567 31 is_stmt 1 discriminator 1 view .LVU517
 567:TASK/src/gimbal_task.c ****         }
 2022              		.loc 1 567 47 is_stmt 0 discriminator 1 view .LVU518
 2023 00f6 6248     		ldr	r0, .L161+64
 2024 00f8 0124     		movs	r4, #1
 2025 00fa 0470     		strb	r4, [r0]
 562:TASK/src/gimbal_task.c ****         Off_set_time++;//é•¿æŒ‰è®¡æ—¶å™¨
 2026              		.loc 1 562 23 discriminator 1 view .LVU519
 2027 00fc 1846     		mov	r0, r3
 2028 00fe 00E0     		b	.L117
 2029              	.LVL96:
 2030              	.L147:
 558:TASK/src/gimbal_task.c ****     static uint8_t B_set = 1;
 2031              		.loc 1 558 13 view .LVU520
 2032 0100 0120     		movs	r0, #1
 2033              	.LVL97:
 2034              	.L117:
 576:TASK/src/gimbal_task.c ****     if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.C == 1 && unlook_C_flag) 
 2035              		.loc 1 576 5 is_stmt 1 view .LVU521
 577:TASK/src/gimbal_task.c ****     {
 2036              		.loc 1 577 5 view .LVU522
 577:TASK/src/gimbal_task.c ****     {
 2037              		.loc 1 577 8 is_stmt 0 view .LVU523
 2038 0102 11F0200F 		tst	r1, #32
 2039 0106 14D0     		beq	.L118
 577:TASK/src/gimbal_task.c ****     {
 2040              		.loc 1 577 50 discriminator 1 view .LVU524
 2041 0108 98B1     		cbz	r0, .L118
 579:TASK/src/gimbal_task.c ****         if (C_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 2042              		.loc 1 579 9 is_stmt 1 view .LVU525
 579:TASK/src/gimbal_task.c ****         if (C_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 2043              		.loc 1 579 20 is_stmt 0 view .LVU526
 2044 010a 5E48     		ldr	r0, .L161+68
 2045              	.LVL98:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 58


 579:TASK/src/gimbal_task.c ****         if (C_set)//æŒ‰ä¸‹å³å¾®è°ƒ
 2046              		.loc 1 579 20 view .LVU527
 2047 010c 0388     		ldrh	r3, [r0]
 2048 010e 0133     		adds	r3, r3, #1
 2049 0110 0380     		strh	r3, [r0]	@ movhi
 580:TASK/src/gimbal_task.c ****         {
 2050              		.loc 1 580 9 is_stmt 1 view .LVU528
 580:TASK/src/gimbal_task.c ****         {
 2051              		.loc 1 580 13 is_stmt 0 view .LVU529
 2052 0112 5D4B     		ldr	r3, .L161+72
 2053 0114 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 580:TASK/src/gimbal_task.c ****         {
 2054              		.loc 1 580 12 view .LVU530
 2055 0116 ABB1     		cbz	r3, .L119
 582:TASK/src/gimbal_task.c ****             if (Status == -1)   Left_move_flag = 1;//å¼€å€é•œæ—¶æ‰å…è®¸å‘å·¦å¾®è°ƒ
 2056              		.loc 1 582 13 is_stmt 1 view .LVU531
 582:TASK/src/gimbal_task.c ****             if (Status == -1)   Left_move_flag = 1;//å¼€å€é•œæ—¶æ‰å…è®¸å‘å·¦å¾®è°ƒ
 2057              		.loc 1 582 19 is_stmt 0 view .LVU532
 2058 0118 5B4B     		ldr	r3, .L161+72
 2059 011a 0020     		movs	r0, #0
 2060 011c 1870     		strb	r0, [r3]
 583:TASK/src/gimbal_task.c ****         }
 2061              		.loc 1 583 13 is_stmt 1 view .LVU533
 583:TASK/src/gimbal_task.c ****         }
 2062              		.loc 1 583 24 is_stmt 0 view .LVU534
 2063 011e 4D4B     		ldr	r3, .L161+20
 2064 0120 93F90030 		ldrsb	r3, [r3]
 583:TASK/src/gimbal_task.c ****         }
 2065              		.loc 1 583 16 view .LVU535
 2066 0124 B3F1FF3F 		cmp	r3, #-1
 2067 0128 0CD1     		bne	.L119
 583:TASK/src/gimbal_task.c ****         }
 2068              		.loc 1 583 33 is_stmt 1 discriminator 1 view .LVU536
 583:TASK/src/gimbal_task.c ****         }
 2069              		.loc 1 583 48 is_stmt 0 discriminator 1 view .LVU537
 2070 012a 584B     		ldr	r3, .L161+76
 2071 012c 0120     		movs	r0, #1
 2072 012e 1870     		strb	r0, [r3]
 2073 0130 08E0     		b	.L119
 2074              	.LVL99:
 2075              	.L118:
 588:TASK/src/gimbal_task.c ****         if (On_set_time > 0) On_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 2076              		.loc 1 588 9 is_stmt 1 view .LVU538
 588:TASK/src/gimbal_task.c ****         if (On_set_time > 0) On_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 2077              		.loc 1 588 15 is_stmt 0 view .LVU539
 2078 0132 554B     		ldr	r3, .L161+72
 2079 0134 0120     		movs	r0, #1
 2080              	.LVL100:
 588:TASK/src/gimbal_task.c ****         if (On_set_time > 0) On_set_time = 0;//æ¸…é›¶é•¿æŒ‰è®¡æ—¶å™¨
 2081              		.loc 1 588 15 view .LVU540
 2082 0136 1870     		strb	r0, [r3]
 589:TASK/src/gimbal_task.c ****     }
 2083              		.loc 1 589 9 is_stmt 1 view .LVU541
 589:TASK/src/gimbal_task.c ****     }
 2084              		.loc 1 589 25 is_stmt 0 view .LVU542
 2085 0138 524B     		ldr	r3, .L161+68
 2086 013a 1B88     		ldrh	r3, [r3]
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 59


 589:TASK/src/gimbal_task.c ****     }
 2087              		.loc 1 589 12 view .LVU543
 2088 013c 13B1     		cbz	r3, .L119
 589:TASK/src/gimbal_task.c ****     }
 2089              		.loc 1 589 30 is_stmt 1 discriminator 1 view .LVU544
 589:TASK/src/gimbal_task.c ****     }
 2090              		.loc 1 589 42 is_stmt 0 discriminator 1 view .LVU545
 2091 013e 514B     		ldr	r3, .L161+68
 2092 0140 0020     		movs	r0, #0
 2093 0142 1880     		strh	r0, [r3]	@ movhi
 2094              	.L119:
 592:TASK/src/gimbal_task.c ****     {
 2095              		.loc 1 592 5 is_stmt 1 view .LVU546
 592:TASK/src/gimbal_task.c ****     {
 2096              		.loc 1 592 21 is_stmt 0 view .LVU547
 2097 0144 4F4B     		ldr	r3, .L161+68
 2098 0146 1B88     		ldrh	r3, [r3]
 592:TASK/src/gimbal_task.c ****     {
 2099              		.loc 1 592 8 view .LVU548
 2100 0148 B3F5FA7F 		cmp	r3, #500
 2101 014c 16D9     		bls	.L120
 594:TASK/src/gimbal_task.c ****         {
 2102              		.loc 1 594 9 is_stmt 1 view .LVU549
 594:TASK/src/gimbal_task.c ****         {
 2103              		.loc 1 594 20 is_stmt 0 view .LVU550
 2104 014e 414B     		ldr	r3, .L161+20
 2105 0150 93F90030 		ldrsb	r3, [r3]
 594:TASK/src/gimbal_task.c ****         {
 2106              		.loc 1 594 12 view .LVU551
 2107 0154 B3F1FF3F 		cmp	r3, #-1
 2108 0158 10D0     		beq	.L120
 596:TASK/src/gimbal_task.c ****             to_lock = 300;
 2109              		.loc 1 596 13 is_stmt 1 view .LVU552
 596:TASK/src/gimbal_task.c ****             to_lock = 300;
 2110              		.loc 1 596 18 is_stmt 0 view .LVU553
 2111 015a 0123     		movs	r3, #1
 2112 015c 4C48     		ldr	r0, .L161+80
 2113 015e 0370     		strb	r3, [r0]
 597:TASK/src/gimbal_task.c ****             to_unlock = 300;
 2114              		.loc 1 597 13 is_stmt 1 view .LVU554
 597:TASK/src/gimbal_task.c ****             to_unlock = 300;
 2115              		.loc 1 597 21 is_stmt 0 view .LVU555
 2116 0160 4FF49670 		mov	r0, #300
 2117 0164 3D4C     		ldr	r4, .L161+28
 2118 0166 2080     		strh	r0, [r4]	@ movhi
 598:TASK/src/gimbal_task.c ****             Set_Photo_Angle_delay = 200;
 2119              		.loc 1 598 13 is_stmt 1 view .LVU556
 598:TASK/src/gimbal_task.c ****             Set_Photo_Angle_delay = 200;
 2120              		.loc 1 598 23 is_stmt 0 view .LVU557
 2121 0168 3F4C     		ldr	r4, .L161+40
 2122 016a 2080     		strh	r0, [r4]	@ movhi
 599:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 1;
 2123              		.loc 1 599 13 is_stmt 1 view .LVU558
 599:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 1;
 2124              		.loc 1 599 35 is_stmt 0 view .LVU559
 2125 016c 4948     		ldr	r0, .L161+84
 2126 016e C824     		movs	r4, #200
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 60


 2127 0170 0480     		strh	r4, [r0]	@ movhi
 600:TASK/src/gimbal_task.c ****             Status = -1;
 2128              		.loc 1 600 13 is_stmt 1 view .LVU560
 600:TASK/src/gimbal_task.c ****             Status = -1;
 2129              		.loc 1 600 34 is_stmt 0 view .LVU561
 2130 0172 3748     		ldr	r0, .L161+16
 2131 0174 0370     		strb	r3, [r0]
 601:TASK/src/gimbal_task.c ****         }
 2132              		.loc 1 601 13 is_stmt 1 view .LVU562
 601:TASK/src/gimbal_task.c ****         }
 2133              		.loc 1 601 20 is_stmt 0 view .LVU563
 2134 0176 374B     		ldr	r3, .L161+20
 2135 0178 FF20     		movs	r0, #255
 2136 017a 1870     		strb	r0, [r3]
 2137              	.L120:
 605:TASK/src/gimbal_task.c ****     {
 2138              		.loc 1 605 5 is_stmt 1 view .LVU564
 605:TASK/src/gimbal_task.c ****     {
 2139              		.loc 1 605 22 is_stmt 0 view .LVU565
 2140 017c 3F4B     		ldr	r3, .L161+60
 2141 017e 1B88     		ldrh	r3, [r3]
 605:TASK/src/gimbal_task.c ****     {
 2142              		.loc 1 605 8 view .LVU566
 2143 0180 B3F5FA7F 		cmp	r3, #500
 2144 0184 0ED9     		bls	.L121
 607:TASK/src/gimbal_task.c ****         {
 2145              		.loc 1 607 9 is_stmt 1 view .LVU567
 607:TASK/src/gimbal_task.c ****         {
 2146              		.loc 1 607 20 is_stmt 0 view .LVU568
 2147 0186 334B     		ldr	r3, .L161+20
 2148 0188 93F90030 		ldrsb	r3, [r3]
 607:TASK/src/gimbal_task.c ****         {
 2149              		.loc 1 607 12 view .LVU569
 2150 018c 012B     		cmp	r3, #1
 2151 018e 09D0     		beq	.L121
 609:TASK/src/gimbal_task.c ****             Set_Photo_Angle_delay = 200;
 2152              		.loc 1 609 13 is_stmt 1 view .LVU570
 609:TASK/src/gimbal_task.c ****             Set_Photo_Angle_delay = 200;
 2153              		.loc 1 609 28 is_stmt 0 view .LVU571
 2154 0190 0123     		movs	r3, #1
 2155 0192 3E48     		ldr	r0, .L161+76
 2156 0194 0370     		strb	r3, [r0]
 610:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 1;
 2157              		.loc 1 610 13 is_stmt 1 view .LVU572
 610:TASK/src/gimbal_task.c ****             Set_MG995_Angle_flag = 1;
 2158              		.loc 1 610 35 is_stmt 0 view .LVU573
 2159 0196 3F48     		ldr	r0, .L161+84
 2160 0198 C824     		movs	r4, #200
 2161 019a 0480     		strh	r4, [r0]	@ movhi
 611:TASK/src/gimbal_task.c ****             Status = 1;
 2162              		.loc 1 611 13 is_stmt 1 view .LVU574
 611:TASK/src/gimbal_task.c ****             Status = 1;
 2163              		.loc 1 611 34 is_stmt 0 view .LVU575
 2164 019c 2C48     		ldr	r0, .L161+16
 2165 019e 0370     		strb	r3, [r0]
 612:TASK/src/gimbal_task.c ****         }
 2166              		.loc 1 612 13 is_stmt 1 view .LVU576
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 61


 612:TASK/src/gimbal_task.c ****         }
 2167              		.loc 1 612 20 is_stmt 0 view .LVU577
 2168 01a0 2C48     		ldr	r0, .L161+20
 2169 01a2 0370     		strb	r3, [r0]
 2170              	.L121:
 617:TASK/src/gimbal_task.c ****     {
 2171              		.loc 1 617 5 is_stmt 1 view .LVU578
 617:TASK/src/gimbal_task.c ****     {
 2172              		.loc 1 617 24 is_stmt 0 view .LVU579
 2173 01a4 394B     		ldr	r3, .L161+76
 2174 01a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 617:TASK/src/gimbal_task.c ****     {
 2175              		.loc 1 617 8 view .LVU580
 2176 01a8 012B     		cmp	r3, #1
 2177 01aa 16D0     		beq	.L156
 2178              	.L122:
 622:TASK/src/gimbal_task.c ****     {
 2179              		.loc 1 622 5 is_stmt 1 view .LVU581
 622:TASK/src/gimbal_task.c ****     {
 2180              		.loc 1 622 25 is_stmt 0 view .LVU582
 2181 01ac 344B     		ldr	r3, .L161+64
 2182 01ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 622:TASK/src/gimbal_task.c ****     {
 2183              		.loc 1 622 8 view .LVU583
 2184 01b0 012B     		cmp	r3, #1
 2185 01b2 1FD0     		beq	.L157
 2186              	.L123:
 631:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.F == 1)
 2187              		.loc 1 631 9 is_stmt 1 view .LVU584
 632:TASK/src/gimbal_task.c ****         {
 2188              		.loc 1 632 9 view .LVU585
 632:TASK/src/gimbal_task.c ****         {
 2189              		.loc 1 632 12 is_stmt 0 view .LVU586
 2190 01b4 11F0020F 		tst	r1, #2
 2191 01b8 29D0     		beq	.L124
 634:TASK/src/gimbal_task.c ****             {
 2192              		.loc 1 634 13 is_stmt 1 view .LVU587
 634:TASK/src/gimbal_task.c ****             {
 2193              		.loc 1 634 17 is_stmt 0 view .LVU588
 2194 01ba 374B     		ldr	r3, .L161+88
 2195 01bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 634:TASK/src/gimbal_task.c ****             {
 2196              		.loc 1 634 16 view .LVU589
 2197 01be 4BB3     		cbz	r3, .L125
 636:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle--;
 2198              		.loc 1 636 17 is_stmt 1 view .LVU590
 636:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle--;
 2199              		.loc 1 636 23 is_stmt 0 view .LVU591
 2200 01c0 354B     		ldr	r3, .L161+88
 2201 01c2 0021     		movs	r1, #0
 2202 01c4 1970     		strb	r1, [r3]
 637:TASK/src/gimbal_task.c ****             }
 2203              		.loc 1 637 17 is_stmt 1 view .LVU592
 637:TASK/src/gimbal_task.c ****             }
 2204              		.loc 1 637 23 is_stmt 0 view .LVU593
 2205 01c6 1E4B     		ldr	r3, .L161
 2206 01c8 D3ED007A 		vldr.32	s15, [r3]
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 62


 637:TASK/src/gimbal_task.c ****             }
 2207              		.loc 1 637 35 view .LVU594
 2208 01cc B7EE007A 		vmov.f32	s14, #1.0e+0
 2209 01d0 77EEC77A 		vsub.f32	s15, s15, s14
 2210 01d4 C3ED007A 		vstr.32	s15, [r3]
 2211 01d8 1CE0     		b	.L125
 2212              	.L156:
 619:TASK/src/gimbal_task.c ****         move-=500;
 2213              		.loc 1 619 9 is_stmt 1 view .LVU595
 619:TASK/src/gimbal_task.c ****         move-=500;
 2214              		.loc 1 619 24 is_stmt 0 view .LVU596
 2215 01da 2C4B     		ldr	r3, .L161+76
 2216 01dc 0020     		movs	r0, #0
 2217 01de 1870     		strb	r0, [r3]
 620:TASK/src/gimbal_task.c ****     }
 2218              		.loc 1 620 9 is_stmt 1 view .LVU597
 620:TASK/src/gimbal_task.c ****     }
 2219              		.loc 1 620 13 is_stmt 0 view .LVU598
 2220 01e0 2348     		ldr	r0, .L161+48
 2221 01e2 0368     		ldr	r3, [r0]
 2222 01e4 4468     		ldr	r4, [r0, #4]
 2223 01e6 B3F5FA73 		subs	r3, r3, #500
 2224 01ea 44F1FF34 		adc	r4, r4, #-1
 2225 01ee 0360     		str	r3, [r0]
 2226 01f0 4460     		str	r4, [r0, #4]
 2227 01f2 DBE7     		b	.L122
 2228              	.L157:
 624:TASK/src/gimbal_task.c ****         move+=500;
 2229              		.loc 1 624 9 is_stmt 1 view .LVU599
 624:TASK/src/gimbal_task.c ****         move+=500;
 2230              		.loc 1 624 25 is_stmt 0 view .LVU600
 2231 01f4 224B     		ldr	r3, .L161+64
 2232 01f6 0020     		movs	r0, #0
 2233 01f8 1870     		strb	r0, [r3]
 625:TASK/src/gimbal_task.c ****     }
 2234              		.loc 1 625 9 is_stmt 1 view .LVU601
 625:TASK/src/gimbal_task.c ****     }
 2235              		.loc 1 625 13 is_stmt 0 view .LVU602
 2236 01fa 1D48     		ldr	r0, .L161+48
 2237 01fc 0368     		ldr	r3, [r0]
 2238 01fe 4468     		ldr	r4, [r0, #4]
 2239 0200 13F5FA73 		adds	r3, r3, #500
 2240 0204 44F10004 		adc	r4, r4, #0
 2241 0208 0360     		str	r3, [r0]
 2242 020a 4460     		str	r4, [r0, #4]
 2243 020c D2E7     		b	.L123
 2244              	.L124:
 641:TASK/src/gimbal_task.c ****         
 2245              		.loc 1 641 13 is_stmt 1 view .LVU603
 641:TASK/src/gimbal_task.c ****         
 2246              		.loc 1 641 19 is_stmt 0 view .LVU604
 2247 020e 224B     		ldr	r3, .L161+88
 2248 0210 0121     		movs	r1, #1
 2249 0212 1970     		strb	r1, [r3]
 2250              	.L125:
 644:TASK/src/gimbal_task.c ****         if (Gimbal.Gimbal_CMD->rc_ctl->kb.bit.V == 1)
 2251              		.loc 1 644 9 is_stmt 1 view .LVU605
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 63


 645:TASK/src/gimbal_task.c ****         {
 2252              		.loc 1 645 9 view .LVU606
 645:TASK/src/gimbal_task.c ****         {
 2253              		.loc 1 645 30 is_stmt 0 view .LVU607
 2254 0214 9368     		ldr	r3, [r2, #8]
 645:TASK/src/gimbal_task.c ****         {
 2255              		.loc 1 645 49 view .LVU608
 2256 0216 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 645:TASK/src/gimbal_task.c ****         {
 2257              		.loc 1 645 12 view .LVU609
 2258 0218 13F0400F 		tst	r3, #64
 2259 021c 40D0     		beq	.L126
 647:TASK/src/gimbal_task.c ****             {
 2260              		.loc 1 647 13 is_stmt 1 view .LVU610
 647:TASK/src/gimbal_task.c ****             {
 2261              		.loc 1 647 17 is_stmt 0 view .LVU611
 2262 021e 1F4B     		ldr	r3, .L161+92
 2263 0220 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 647:TASK/src/gimbal_task.c ****             {
 2264              		.loc 1 647 16 view .LVU612
 2265 0222 002B     		cmp	r3, #0
 2266 0224 3FD0     		beq	.L127
 649:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle++;
 2267              		.loc 1 649 17 is_stmt 1 view .LVU613
 649:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle++;
 2268              		.loc 1 649 23 is_stmt 0 view .LVU614
 2269 0226 1D4B     		ldr	r3, .L161+92
 2270 0228 0022     		movs	r2, #0
 2271 022a 1A70     		strb	r2, [r3]
 650:TASK/src/gimbal_task.c ****             }
 2272              		.loc 1 650 17 is_stmt 1 view .LVU615
 650:TASK/src/gimbal_task.c ****             }
 2273              		.loc 1 650 23 is_stmt 0 view .LVU616
 2274 022c 044B     		ldr	r3, .L161
 2275 022e D3ED007A 		vldr.32	s15, [r3]
 650:TASK/src/gimbal_task.c ****             }
 2276              		.loc 1 650 35 view .LVU617
 2277 0232 B7EE007A 		vmov.f32	s14, #1.0e+0
 2278 0236 77EE877A 		vadd.f32	s15, s15, s14
 2279 023a C3ED007A 		vstr.32	s15, [r3]
 2280 023e 32E0     		b	.L127
 2281              	.L162:
 2282              		.align	2
 2283              	.L161:
 2284 0240 DC040000 		.word	.LANCHOR1+1244
 2285 0244 00000000 		.word	htim8
 2286 0248 00000000 		.word	.LANCHOR2
 2287 024c 00000000 		.word	.LANCHOR25
 2288 0250 00000000 		.word	.LANCHOR26
 2289 0254 00000000 		.word	.LANCHOR27
 2290 0258 0000B842 		.word	1119354880
 2291 025c 00000000 		.word	.LANCHOR28
 2292 0260 30F8FFFF 		.word	-2000
 2293 0264 00000000 		.word	.LANCHOR1
 2294 0268 00000000 		.word	.LANCHOR29
 2295 026c 00000000 		.word	.LANCHOR30
 2296 0270 00000000 		.word	.LANCHOR31
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 64


 2297 0274 00000000 		.word	.LANCHOR32
 2298 0278 00000000 		.word	.LANCHOR34
 2299 027c 00000000 		.word	.LANCHOR33
 2300 0280 00000000 		.word	.LANCHOR35
 2301 0284 00000000 		.word	.LANCHOR36
 2302 0288 00000000 		.word	.LANCHOR37
 2303 028c 00000000 		.word	.LANCHOR38
 2304 0290 00000000 		.word	.LANCHOR39
 2305 0294 00000000 		.word	.LANCHOR40
 2306 0298 00000000 		.word	.LANCHOR41
 2307 029c 00000000 		.word	.LANCHOR42
 2308              	.L126:
 654:TASK/src/gimbal_task.c ****         
 2309              		.loc 1 654 13 is_stmt 1 view .LVU618
 654:TASK/src/gimbal_task.c ****         
 2310              		.loc 1 654 19 is_stmt 0 view .LVU619
 2311 02a0 7D4B     		ldr	r3, .L163
 2312 02a2 0122     		movs	r2, #1
 2313 02a4 1A70     		strb	r2, [r3]
 2314              	.L127:
 657:TASK/src/gimbal_task.c ****     }
 2315              		.loc 1 657 9 is_stmt 1 view .LVU620
 657:TASK/src/gimbal_task.c ****     }
 2316              		.loc 1 657 158 is_stmt 0 view .LVU621
 2317 02a6 7D4D     		ldr	r5, .L163+4
 2318 02a8 EC68     		ldr	r4, [r5, #12]
 657:TASK/src/gimbal_task.c ****     }
 2319              		.loc 1 657 242 view .LVU622
 2320 02aa B4F91630 		ldrsh	r3, [r4, #22]
 2321 02ae 08EE903A 		vmov	s17, r3	@ int
 657:TASK/src/gimbal_task.c ****     }
 2322              		.loc 1 657 45 view .LVU623
 2323 02b2 F8EEE88A 		vcvt.f32.s32	s17, s17
 2324 02b6 D4ED087A 		vldr.32	s15, [r4, #32]	@ int
 2325 02ba B8EEE78A 		vcvt.f32.s32	s16, s15
 2326 02be 784B     		ldr	r3, .L163+8
 2327 02c0 D3E90001 		ldrd	r0, [r3]
 2328 02c4 FFF7FEFF 		bl	__aeabi_l2f
 2329              	.LVL101:
 2330 02c8 B0EE681A 		vmov.f32	s2, s17
 2331 02cc F0EE480A 		vmov.f32	s1, s16
 2332 02d0 00EE100A 		vmov	s0, r0
 2333 02d4 05F24441 		addw	r1, r5, #1092
 2334 02d8 05F56B70 		add	r0, r5, #940
 2335 02dc FFF7FEFF 		bl	motor_position_speed_control
 2336              	.LVL102:
 657:TASK/src/gimbal_task.c ****     }
 2337              		.loc 1 657 43 view .LVU624
 2338 02e0 A4F8A001 		strh	r0, [r4, #416]	@ movhi
 2339              	.L115:
 657:TASK/src/gimbal_task.c ****     }
 2340              		.loc 1 657 43 view .LVU625
 2341              	.LBE7:
 661:TASK/src/gimbal_task.c ****     {
 2342              		.loc 1 661 5 is_stmt 1 view .LVU626
 661:TASK/src/gimbal_task.c ****     {
 2343              		.loc 1 661 16 is_stmt 0 view .LVU627
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 65


 2344 02e4 6F4B     		ldr	r3, .L163+12
 2345 02e6 93F90030 		ldrsb	r3, [r3]
 661:TASK/src/gimbal_task.c ****     {
 2346              		.loc 1 661 8 view .LVU628
 2347 02ea 012B     		cmp	r3, #1
 2348 02ec 05D0     		beq	.L158
 2349              	.L128:
 678:TASK/src/gimbal_task.c ****     {
 2350              		.loc 1 678 5 is_stmt 1 view .LVU629
 678:TASK/src/gimbal_task.c ****     {
 2351              		.loc 1 678 8 is_stmt 0 view .LVU630
 2352 02ee B3F1FF3F 		cmp	r3, #-1
 2353 02f2 44D0     		beq	.L159
 2354              	.L110:
 713:TASK/src/gimbal_task.c **** void RGB_LED(void)
 2355              		.loc 1 713 1 view .LVU631
 2356 02f4 BDEC028B 		vldm	sp!, {d8}
 2357              	.LCFI26:
 2358              		.cfi_remember_state
 2359              		.cfi_restore 80
 2360              		.cfi_restore 81
 2361              		.cfi_def_cfa_offset 16
 2362 02f8 38BD     		pop	{r3, r4, r5, pc}
 2363              	.L158:
 2364              	.LCFI27:
 2365              		.cfi_restore_state
 663:TASK/src/gimbal_task.c ****         {
 2366              		.loc 1 663 9 is_stmt 1 view .LVU632
 663:TASK/src/gimbal_task.c ****         {
 2367              		.loc 1 663 13 is_stmt 0 view .LVU633
 2368 02fa 6B4A     		ldr	r2, .L163+16
 2369 02fc 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 663:TASK/src/gimbal_task.c ****         {
 2370              		.loc 1 663 12 view .LVU634
 2371 02fe 2AB1     		cbz	r2, .L129
 665:TASK/src/gimbal_task.c ****             Gimbal.Phtot_Angle = 85;
 2372              		.loc 1 665 13 is_stmt 1 view .LVU635
 665:TASK/src/gimbal_task.c ****             Gimbal.Phtot_Angle = 85;
 2373              		.loc 1 665 34 is_stmt 0 view .LVU636
 2374 0300 694A     		ldr	r2, .L163+16
 2375 0302 0021     		movs	r1, #0
 2376 0304 1170     		strb	r1, [r2]
 666:TASK/src/gimbal_task.c ****         }
 2377              		.loc 1 666 13 is_stmt 1 view .LVU637
 666:TASK/src/gimbal_task.c ****         }
 2378              		.loc 1 666 32 is_stmt 0 view .LVU638
 2379 0306 694A     		ldr	r2, .L163+20
 2380 0308 6949     		ldr	r1, .L163+24
 2381 030a 1160     		str	r1, [r2]	@ float
 2382              	.L129:
 668:TASK/src/gimbal_task.c ****         
 2383              		.loc 1 668 9 is_stmt 1 view .LVU639
 2384 030c 674A     		ldr	r2, .L163+20
 2385 030e D2ED007A 		vldr.32	s15, [r2]
 2386 0312 9FED687A 		vldr.32	s14, .L163+28
 2387 0316 F4EEC77A 		vcmpe.f32	s15, s14
 2388 031a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 66


 2389 031e 01D5     		bpl	.L130
 2390 0320 F0EE477A 		vmov.f32	s15, s14
 2391              	.L130:
 668:TASK/src/gimbal_task.c ****         
 2392              		.loc 1 668 9 is_stmt 0 discriminator 4 view .LVU640
 2393 0324 614A     		ldr	r2, .L163+20
 2394 0326 C2ED007A 		vstr.32	s15, [r2]
 668:TASK/src/gimbal_task.c ****         
 2395              		.loc 1 668 9 is_stmt 1 discriminator 4 view .LVU641
 2396 032a 9FED637A 		vldr.32	s14, .L163+32
 2397 032e F4EEC77A 		vcmpe.f32	s15, s14
 2398 0332 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2399 0336 01DD     		ble	.L132
 668:TASK/src/gimbal_task.c ****         
 2400              		.loc 1 668 9 is_stmt 0 view .LVU642
 2401 0338 F0EE477A 		vmov.f32	s15, s14
 2402              	.L132:
 668:TASK/src/gimbal_task.c ****         
 2403              		.loc 1 668 9 discriminator 8 view .LVU643
 2404 033c 5B4A     		ldr	r2, .L163+20
 2405 033e C2ED007A 		vstr.32	s15, [r2]
 668:TASK/src/gimbal_task.c ****         
 2406              		.loc 1 668 47 is_stmt 1 discriminator 8 view .LVU644
 671:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay == 0)
 2407              		.loc 1 671 9 discriminator 8 view .LVU645
 671:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay == 0)
 2408              		.loc 1 671 35 is_stmt 0 discriminator 8 view .LVU646
 2409 0342 5E4A     		ldr	r2, .L163+36
 2410 0344 B2F90020 		ldrsh	r2, [r2]
 671:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay == 0)
 2411              		.loc 1 671 12 discriminator 8 view .LVU647
 2412 0348 002A     		cmp	r2, #0
 2413 034a 02DD     		ble	.L134
 671:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay == 0)
 2414              		.loc 1 671 42 is_stmt 1 discriminator 1 view .LVU648
 671:TASK/src/gimbal_task.c ****         if (Set_Photo_Angle_delay == 0)
 2415              		.loc 1 671 63 is_stmt 0 discriminator 1 view .LVU649
 2416 034c 013A     		subs	r2, r2, #1
 2417 034e 5B49     		ldr	r1, .L163+36
 2418 0350 0A80     		strh	r2, [r1]	@ movhi
 2419              	.L134:
 672:TASK/src/gimbal_task.c ****         {
 2420              		.loc 1 672 9 is_stmt 1 view .LVU650
 672:TASK/src/gimbal_task.c ****         {
 2421              		.loc 1 672 35 is_stmt 0 view .LVU651
 2422 0352 5A4A     		ldr	r2, .L163+36
 2423 0354 B2F90020 		ldrsh	r2, [r2]
 672:TASK/src/gimbal_task.c ****         {
 2424              		.loc 1 672 12 view .LVU652
 2425 0358 002A     		cmp	r2, #0
 2426 035a C8D1     		bne	.L128
 674:TASK/src/gimbal_task.c ****         }
 2427              		.loc 1 674 13 is_stmt 1 view .LVU653
 674:TASK/src/gimbal_task.c ****         }
 2428              		.loc 1 674 49 is_stmt 0 view .LVU654
 2429 035c 5849     		ldr	r1, .L163+40
 2430 035e 594C     		ldr	r4, .L163+44
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 67


 2431 0360 0A68     		ldr	r2, [r1]
 2432 0362 4968     		ldr	r1, [r1, #4]
 2433 0364 2068     		ldr	r0, [r4]
 2434 0366 6468     		ldr	r4, [r4, #4]
 2435 0368 1218     		adds	r2, r2, r0
 2436 036a 41EB0401 		adc	r1, r1, r4
 674:TASK/src/gimbal_task.c ****         }
 2437              		.loc 1 674 56 view .LVU655
 2438 036e 5648     		ldr	r0, .L163+48
 2439 0370 1218     		adds	r2, r2, r0
 2440 0372 41F10001 		adc	r1, r1, #0
 674:TASK/src/gimbal_task.c ****         }
 2441              		.loc 1 674 25 view .LVU656
 2442 0376 4A48     		ldr	r0, .L163+8
 2443 0378 0260     		str	r2, [r0]
 2444 037a 4160     		str	r1, [r0, #4]
 2445 037c B7E7     		b	.L128
 2446              	.L159:
 680:TASK/src/gimbal_task.c ****         
 2447              		.loc 1 680 9 is_stmt 1 view .LVU657
 680:TASK/src/gimbal_task.c ****         
 2448              		.loc 1 680 45 is_stmt 0 view .LVU658
 2449 037e 504A     		ldr	r2, .L163+40
 2450 0380 5048     		ldr	r0, .L163+44
 2451 0382 1368     		ldr	r3, [r2]
 2452 0384 5268     		ldr	r2, [r2, #4]
 2453 0386 0168     		ldr	r1, [r0]
 2454 0388 4068     		ldr	r0, [r0, #4]
 2455 038a 5B18     		adds	r3, r3, r1
 2456 038c 42EB0002 		adc	r2, r2, r0
 680:TASK/src/gimbal_task.c ****         
 2457              		.loc 1 680 21 view .LVU659
 2458 0390 4349     		ldr	r1, .L163+8
 2459 0392 0B60     		str	r3, [r1]
 2460 0394 4A60     		str	r2, [r1, #4]
 682:TASK/src/gimbal_task.c ****         {
 2461              		.loc 1 682 9 is_stmt 1 view .LVU660
 682:TASK/src/gimbal_task.c ****         {
 2462              		.loc 1 682 18 is_stmt 0 view .LVU661
 2463 0396 4D49     		ldr	r1, .L163+52
 2464 0398 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 682:TASK/src/gimbal_task.c ****         {
 2465              		.loc 1 682 12 view .LVU662
 2466 039a 0129     		cmp	r1, #1
 2467 039c 44D0     		beq	.L160
 704:TASK/src/gimbal_task.c ****             {
 2468              		.loc 1 704 13 is_stmt 1 view .LVU663
 704:TASK/src/gimbal_task.c ****             {
 2469              		.loc 1 704 17 is_stmt 0 view .LVU664
 2470 039e 4249     		ldr	r1, .L163+16
 2471 03a0 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 704:TASK/src/gimbal_task.c ****             {
 2472              		.loc 1 704 16 view .LVU665
 2473 03a2 29B3     		cbz	r1, .L140
 704:TASK/src/gimbal_task.c ****             {
 2474              		.loc 1 704 42 discriminator 1 view .LVU666
 2475 03a4 3D49     		ldr	r1, .L163+4
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 68


 2476 03a6 C968     		ldr	r1, [r1, #12]
 2477 03a8 096A     		ldr	r1, [r1, #32]
 2478 03aa C817     		asrs	r0, r1, #31
 2479 03ac CB1A     		subs	r3, r1, r3
 2480 03ae 60EB0202 		sbc	r2, r0, r2
 704:TASK/src/gimbal_task.c ****             {
 2481              		.loc 1 704 113 discriminator 1 view .LVU667
 2482 03b2 42F20F71 		movw	r1, #9999
 2483 03b6 5B18     		adds	r3, r3, r1
 2484 03b8 42F10002 		adc	r2, r2, #0
 704:TASK/src/gimbal_task.c ****             {
 2485              		.loc 1 704 38 discriminator 1 view .LVU668
 2486 03bc 44F61F61 		movw	r1, #19999
 2487 03c0 8B42     		cmp	r3, r1
 2488 03c2 72F10003 		sbcs	r3, r2, #0
 2489 03c6 13D2     		bcs	.L140
 706:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle = 85 + Gimbal.ins->Pitch * spin;
 2490              		.loc 1 706 17 is_stmt 1 view .LVU669
 706:TASK/src/gimbal_task.c ****                 Gimbal.Phtot_Angle = 85 + Gimbal.ins->Pitch * spin;
 2491              		.loc 1 706 38 is_stmt 0 view .LVU670
 2492 03c8 374B     		ldr	r3, .L163+16
 2493 03ca 0022     		movs	r2, #0
 2494 03cc 1A70     		strb	r2, [r3]
 707:TASK/src/gimbal_task.c ****             }
 2495              		.loc 1 707 17 is_stmt 1 view .LVU671
 707:TASK/src/gimbal_task.c ****             }
 2496              		.loc 1 707 49 is_stmt 0 view .LVU672
 2497 03ce 334B     		ldr	r3, .L163+4
 2498 03d0 5A68     		ldr	r2, [r3, #4]
 707:TASK/src/gimbal_task.c ****             }
 2499              		.loc 1 707 53 view .LVU673
 2500 03d2 D2ED247A 		vldr.32	s15, [r2, #144]
 707:TASK/src/gimbal_task.c ****             }
 2501              		.loc 1 707 61 view .LVU674
 2502 03d6 3E4A     		ldr	r2, .L163+56
 2503 03d8 92ED007A 		vldr.32	s14, [r2]
 2504 03dc 67EE877A 		vmul.f32	s15, s15, s14
 707:TASK/src/gimbal_task.c ****             }
 2505              		.loc 1 707 41 view .LVU675
 2506 03e0 9FED347A 		vldr.32	s14, .L163+28
 2507 03e4 77EE877A 		vadd.f32	s15, s15, s14
 707:TASK/src/gimbal_task.c ****             }
 2508              		.loc 1 707 36 view .LVU676
 2509 03e8 03F2DC43 		addw	r3, r3, #1244
 2510 03ec C3ED007A 		vstr.32	s15, [r3]
 2511              	.L140:
 709:TASK/src/gimbal_task.c ****         }
 2512              		.loc 1 709 13 is_stmt 1 view .LVU677
 2513 03f0 2E4B     		ldr	r3, .L163+20
 2514 03f2 D3ED007A 		vldr.32	s15, [r3]
 2515 03f6 9FED2F7A 		vldr.32	s14, .L163+28
 2516 03fa F4EEC77A 		vcmpe.f32	s15, s14
 2517 03fe F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2518 0402 01D5     		bpl	.L141
 2519 0404 F0EE477A 		vmov.f32	s15, s14
 2520              	.L141:
 709:TASK/src/gimbal_task.c ****         }
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 69


 2521              		.loc 1 709 13 is_stmt 0 discriminator 4 view .LVU678
 2522 0408 284B     		ldr	r3, .L163+20
 2523 040a C3ED007A 		vstr.32	s15, [r3]
 709:TASK/src/gimbal_task.c ****         }
 2524              		.loc 1 709 13 is_stmt 1 discriminator 4 view .LVU679
 2525 040e 9FED2A7A 		vldr.32	s14, .L163+32
 2526 0412 F4EEC77A 		vcmpe.f32	s15, s14
 2527 0416 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2528 041a 01DD     		ble	.L143
 709:TASK/src/gimbal_task.c ****         }
 2529              		.loc 1 709 13 is_stmt 0 view .LVU680
 2530 041c F0EE477A 		vmov.f32	s15, s14
 2531              	.L143:
 709:TASK/src/gimbal_task.c ****         }
 2532              		.loc 1 709 13 discriminator 8 view .LVU681
 2533 0420 224B     		ldr	r3, .L163+20
 2534 0422 C3ED007A 		vstr.32	s15, [r3]
 709:TASK/src/gimbal_task.c ****         }
 2535              		.loc 1 709 51 is_stmt 1 discriminator 8 view .LVU682
 2536 0426 65E7     		b	.L110
 2537              	.L160:
 684:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 2538              		.loc 1 684 13 view .LVU683
 684:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 2539              		.loc 1 684 57 is_stmt 0 view .LVU684
 2540 0428 2A4B     		ldr	r3, .L163+60
 2541 042a B3F90010 		ldrsh	r1, [r3]
 684:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 2542              		.loc 1 684 47 view .LVU685
 2543 042e 0029     		cmp	r1, #0
 2544 0430 2FDD     		ble	.L148
 2545 0432 294B     		ldr	r3, .L163+64
 2546              	.L136:
 684:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 2547              		.loc 1 684 19 discriminator 4 view .LVU686
 2548 0434 194A     		ldr	r2, .L163+4
 2549 0436 D268     		ldr	r2, [r2, #12]
 684:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 2550              		.loc 1 684 47 discriminator 4 view .LVU687
 2551 0438 A2F8A031 		strh	r3, [r2, #416]	@ movhi
 685:TASK/src/gimbal_task.c ****             {
 2552              		.loc 1 685 13 is_stmt 1 discriminator 4 view .LVU688
 685:TASK/src/gimbal_task.c ****             {
 2553              		.loc 1 685 17 is_stmt 0 discriminator 4 view .LVU689
 2554 043c B2F91630 		ldrsh	r3, [r2, #22]
 2555 0440 002B     		cmp	r3, #0
 2556 0442 B8BF     		it	lt
 2557 0444 5B42     		rsblt	r3, r3, #0
 2558 0446 9BB2     		uxth	r3, r3
 685:TASK/src/gimbal_task.c ****             {
 2559              		.loc 1 685 16 discriminator 4 view .LVU690
 2560 0448 092B     		cmp	r3, #9
 2561 044a 04D8     		bhi	.L137
 687:TASK/src/gimbal_task.c ****             }
 2562              		.loc 1 687 17 is_stmt 1 view .LVU691
 687:TASK/src/gimbal_task.c ****             }
 2563              		.loc 1 687 20 is_stmt 0 view .LVU692
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 70


 2564 044c 0029     		cmp	r1, #0
 2565 044e 02DD     		ble	.L137
 687:TASK/src/gimbal_task.c ****             }
 2566              		.loc 1 687 37 is_stmt 1 discriminator 1 view .LVU693
 687:TASK/src/gimbal_task.c ****             }
 2567              		.loc 1 687 44 is_stmt 0 discriminator 1 view .LVU694
 2568 0450 0139     		subs	r1, r1, #1
 2569 0452 204B     		ldr	r3, .L163+60
 2570 0454 1980     		strh	r1, [r3]	@ movhi
 2571              	.L137:
 689:TASK/src/gimbal_task.c ****             {
 2572              		.loc 1 689 13 is_stmt 1 view .LVU695
 689:TASK/src/gimbal_task.c ****             {
 2573              		.loc 1 689 25 is_stmt 0 view .LVU696
 2574 0456 1F4B     		ldr	r3, .L163+60
 2575 0458 B3F90030 		ldrsh	r3, [r3]
 689:TASK/src/gimbal_task.c ****             {
 2576              		.loc 1 689 16 view .LVU697
 2577 045c 9BB9     		cbnz	r3, .L138
 691:TASK/src/gimbal_task.c ****                 if (to_unlock == 0)
 2578              		.loc 1 691 17 is_stmt 1 view .LVU698
 691:TASK/src/gimbal_task.c ****                 if (to_unlock == 0)
 2579              		.loc 1 691 31 is_stmt 0 view .LVU699
 2580 045e 1F4B     		ldr	r3, .L163+68
 2581 0460 B3F90030 		ldrsh	r3, [r3]
 691:TASK/src/gimbal_task.c ****                 if (to_unlock == 0)
 2582              		.loc 1 691 20 view .LVU700
 2583 0464 002B     		cmp	r3, #0
 2584 0466 02DD     		ble	.L139
 691:TASK/src/gimbal_task.c ****                 if (to_unlock == 0)
 2585              		.loc 1 691 36 is_stmt 1 discriminator 1 view .LVU701
 691:TASK/src/gimbal_task.c ****                 if (to_unlock == 0)
 2586              		.loc 1 691 45 is_stmt 0 discriminator 1 view .LVU702
 2587 0468 013B     		subs	r3, r3, #1
 2588 046a 1C49     		ldr	r1, .L163+68
 2589 046c 0B80     		strh	r3, [r1]	@ movhi
 2590              	.L139:
 692:TASK/src/gimbal_task.c ****                 {
 2591              		.loc 1 692 17 is_stmt 1 view .LVU703
 692:TASK/src/gimbal_task.c ****                 {
 2592              		.loc 1 692 31 is_stmt 0 view .LVU704
 2593 046e 1B4B     		ldr	r3, .L163+68
 2594 0470 B3F90030 		ldrsh	r3, [r3]
 692:TASK/src/gimbal_task.c ****                 {
 2595              		.loc 1 692 20 view .LVU705
 2596 0474 3BB9     		cbnz	r3, .L138
 695:TASK/src/gimbal_task.c **** //                    Set_encoder = lock_position_encoder + move;//å¼€é•œ
 2597              		.loc 1 695 21 is_stmt 1 view .LVU706
 695:TASK/src/gimbal_task.c **** //                    Set_encoder = lock_position_encoder + move;//å¼€é•œ
 2598              		.loc 1 695 78 is_stmt 0 view .LVU707
 2599 0476 116A     		ldr	r1, [r2, #32]
 2600 0478 C817     		asrs	r0, r1, #31
 695:TASK/src/gimbal_task.c **** //                    Set_encoder = lock_position_encoder + move;//å¼€é•œ
 2601              		.loc 1 695 43 view .LVU708
 2602 047a 114B     		ldr	r3, .L163+40
 2603 047c 1960     		str	r1, [r3]
 2604 047e 5860     		str	r0, [r3, #4]
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 71


 697:TASK/src/gimbal_task.c ****                 }
 2605              		.loc 1 697 21 is_stmt 1 view .LVU709
 697:TASK/src/gimbal_task.c ****                 }
 2606              		.loc 1 697 26 is_stmt 0 view .LVU710
 2607 0480 124B     		ldr	r3, .L163+52
 2608 0482 0021     		movs	r1, #0
 2609 0484 1970     		strb	r1, [r3]
 2610              	.L138:
 700:TASK/src/gimbal_task.c ****         }
 2611              		.loc 1 700 13 is_stmt 1 view .LVU711
 700:TASK/src/gimbal_task.c ****         }
 2612              		.loc 1 700 73 is_stmt 0 view .LVU712
 2613 0486 126A     		ldr	r2, [r2, #32]
 2614 0488 D117     		asrs	r1, r2, #31
 700:TASK/src/gimbal_task.c ****         }
 2615              		.loc 1 700 38 view .LVU713
 2616 048a 154B     		ldr	r3, .L163+72
 2617 048c 1A60     		str	r2, [r3]
 2618 048e 5960     		str	r1, [r3, #4]
 2619 0490 30E7     		b	.L110
 2620              	.L148:
 684:TASK/src/gimbal_task.c ****             if (abs(Gimbal.Photo_Motor->Motor_Information.speed) < 10)//åˆ°ä½åŽå µè½¬?
 2621              		.loc 1 684 47 view .LVU714
 2622 0492 0023     		movs	r3, #0
 2623 0494 CEE7     		b	.L136
 2624              	.L164:
 2625 0496 00BF     		.align	2
 2626              	.L163:
 2627 0498 00000000 		.word	.LANCHOR42
 2628 049c 00000000 		.word	.LANCHOR1
 2629 04a0 00000000 		.word	.LANCHOR32
 2630 04a4 00000000 		.word	.LANCHOR27
 2631 04a8 00000000 		.word	.LANCHOR26
 2632 04ac DC040000 		.word	.LANCHOR1+1244
 2633 04b0 0000AA42 		.word	1118437376
 2634 04b4 0000AA42 		.word	1118437376
 2635 04b8 00000243 		.word	1124204544
 2636 04bc 00000000 		.word	.LANCHOR40
 2637 04c0 00000000 		.word	.LANCHOR30
 2638 04c4 00000000 		.word	.LANCHOR31
 2639 04c8 905F0100 		.word	90000
 2640 04cc 00000000 		.word	.LANCHOR39
 2641 04d0 00000000 		.word	.LANCHOR44
 2642 04d4 00000000 		.word	.LANCHOR28
 2643 04d8 30F8FFFF 		.word	-2000
 2644 04dc 00000000 		.word	.LANCHOR29
 2645 04e0 00000000 		.word	.LANCHOR43
 2646              		.cfi_endproc
 2647              	.LFE187:
 2649              		.section	.text.GIMBAL_TASK,"ax",%progbits
 2650              		.align	1
 2651              		.global	GIMBAL_TASK
 2652              		.syntax unified
 2653              		.thumb
 2654              		.thumb_func
 2656              	GIMBAL_TASK:
 2657              	.LVL103:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 72


 2658              	.LFB180:
 143:TASK/src/gimbal_task.c ****     static uint16_t time = 0;
 2659              		.loc 1 143 1 is_stmt 1 view -0
 2660              		.cfi_startproc
 2661              		@ Volatile: function does not return.
 2662              		@ args = 0, pretend = 0, frame = 0
 2663              		@ frame_needed = 0, uses_anonymous_args = 0
 143:TASK/src/gimbal_task.c ****     static uint16_t time = 0;
 2664              		.loc 1 143 1 is_stmt 0 view .LVU716
 2665 0000 08B5     		push	{r3, lr}
 2666              	.LCFI28:
 2667              		.cfi_def_cfa_offset 8
 2668              		.cfi_offset 3, -8
 2669              		.cfi_offset 14, -4
 144:TASK/src/gimbal_task.c **** 
 2670              		.loc 1 144 5 is_stmt 1 view .LVU717
 147:TASK/src/gimbal_task.c **** 
 2671              		.loc 1 147 5 view .LVU718
 147:TASK/src/gimbal_task.c **** 
 2672              		.loc 1 147 10 is_stmt 0 view .LVU719
 2673 0002 02E0     		b	.L166
 2674              	.LVL104:
 2675              	.L167:
 147:TASK/src/gimbal_task.c **** 
 2676              		.loc 1 147 49 is_stmt 1 discriminator 2 view .LVU720
 2677 0004 0120     		movs	r0, #1
 2678 0006 FFF7FEFF 		bl	vTaskDelay
 2679              	.LVL105:
 2680              	.L166:
 147:TASK/src/gimbal_task.c **** 
 2681              		.loc 1 147 10 discriminator 1 view .LVU721
 147:TASK/src/gimbal_task.c **** 
 2682              		.loc 1 147 17 is_stmt 0 discriminator 1 view .LVU722
 2683 000a 674B     		ldr	r3, .L188
 2684 000c 5B68     		ldr	r3, [r3, #4]
 147:TASK/src/gimbal_task.c **** 
 2685              		.loc 1 147 21 discriminator 1 view .LVU723
 2686 000e 1B68     		ldr	r3, [r3]
 147:TASK/src/gimbal_task.c **** 
 2687              		.loc 1 147 10 discriminator 1 view .LVU724
 2688 0010 002B     		cmp	r3, #0
 2689 0012 F7D0     		beq	.L167
 149:TASK/src/gimbal_task.c ****     
 2690              		.loc 1 149 5 is_stmt 1 view .LVU725
 2691 0014 FFF7FEFF 		bl	Gimbal_Init
 2692              	.LVL106:
 2693 0018 0BE0     		b	.L168
 2694              	.L184:
 161:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_2,0);
 2695              		.loc 1 161 13 view .LVU726
 2696 001a 644B     		ldr	r3, .L188+4
 2697 001c 1B68     		ldr	r3, [r3]
 2698 001e 644A     		ldr	r2, .L188+8
 2699 0020 5A63     		str	r2, [r3, #52]
 162:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_3,0);
 2700              		.loc 1 162 13 view .LVU727
 2701 0022 0022     		movs	r2, #0
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 73


 2702 0024 9A63     		str	r2, [r3, #56]
 163:TASK/src/gimbal_task.c ****             
 2703              		.loc 1 163 13 view .LVU728
 2704 0026 DA63     		str	r2, [r3, #60]
 165:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2705              		.loc 1 165 13 view .LVU729
 2706 0028 FFF7FEFF 		bl	MI_motor_enable
 2707              	.LVL107:
 166:TASK/src/gimbal_task.c ****             continue;
 2708              		.loc 1 166 13 view .LVU730
 2709 002c 0120     		movs	r0, #1
 2710 002e FFF7FEFF 		bl	vTaskDelay
 2711              	.LVL108:
 167:TASK/src/gimbal_task.c ****         }
 2712              		.loc 1 167 13 view .LVU731
 2713              	.L168:
 151:TASK/src/gimbal_task.c ****     {
 2714              		.loc 1 151 5 view .LVU732
 154:TASK/src/gimbal_task.c ****     if (time > 1000)    time = 0;
 2715              		.loc 1 154 5 view .LVU733
 154:TASK/src/gimbal_task.c ****     if (time > 1000)    time = 0;
 2716              		.loc 1 154 10 is_stmt 0 view .LVU734
 2717 0032 604A     		ldr	r2, .L188+12
 2718 0034 1388     		ldrh	r3, [r2]
 2719 0036 0133     		adds	r3, r3, #1
 2720 0038 9BB2     		uxth	r3, r3
 2721 003a 1380     		strh	r3, [r2]	@ movhi
 155:TASK/src/gimbal_task.c ****         
 2722              		.loc 1 155 5 is_stmt 1 view .LVU735
 155:TASK/src/gimbal_task.c ****         
 2723              		.loc 1 155 8 is_stmt 0 view .LVU736
 2724 003c B3F57A7F 		cmp	r3, #1000
 2725 0040 02D9     		bls	.L169
 155:TASK/src/gimbal_task.c ****         
 2726              		.loc 1 155 25 is_stmt 1 discriminator 1 view .LVU737
 155:TASK/src/gimbal_task.c ****         
 2727              		.loc 1 155 30 is_stmt 0 discriminator 1 view .LVU738
 2728 0042 1346     		mov	r3, r2
 2729 0044 0022     		movs	r2, #0
 2730 0046 1A80     		strh	r2, [r3]	@ movhi
 2731              	.L169:
 159:TASK/src/gimbal_task.c ****         {
 2732              		.loc 1 159 9 is_stmt 1 view .LVU739
 159:TASK/src/gimbal_task.c ****         {
 2733              		.loc 1 159 19 is_stmt 0 view .LVU740
 2734 0048 574B     		ldr	r3, .L188
 2735 004a 1869     		ldr	r0, [r3, #16]
 159:TASK/src/gimbal_task.c ****         {
 2736              		.loc 1 159 31 view .LVU741
 2737 004c 0368     		ldr	r3, [r0]
 159:TASK/src/gimbal_task.c ****         {
 2738              		.loc 1 159 12 view .LVU742
 2739 004e 632B     		cmp	r3, #99
 2740 0050 E3D9     		bls	.L184
 170:TASK/src/gimbal_task.c ****         {
 2741              		.loc 1 170 9 is_stmt 1 view .LVU743
 170:TASK/src/gimbal_task.c ****         {
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 74


 2742              		.loc 1 170 35 is_stmt 0 view .LVU744
 2743 0052 594B     		ldr	r3, .L188+16
 2744 0054 1B88     		ldrh	r3, [r3]
 170:TASK/src/gimbal_task.c ****         {
 2745              		.loc 1 170 12 view .LVU745
 2746 0056 B3F5FA7F 		cmp	r3, #500
 2747 005a 5BD3     		bcc	.L185
 182:TASK/src/gimbal_task.c ****         {
 2748              		.loc 1 182 9 is_stmt 1 view .LVU746
 182:TASK/src/gimbal_task.c ****         {
 2749              		.loc 1 182 12 is_stmt 0 view .LVU747
 2750 005c B3F5FA7F 		cmp	r3, #500
 2751 0060 00F09180 		beq	.L186
 2752              	.L177:
 192:TASK/src/gimbal_task.c ****         
 2753              		.loc 1 192 9 is_stmt 1 view .LVU748
 2754 0064 FFF7FEFF 		bl	vPortEnterCritical
 2755              	.LVL109:
 194:TASK/src/gimbal_task.c ****         
 2756              		.loc 1 194 9 view .LVU749
 2757 0068 FFF7FEFF 		bl	Gimbal_Deal_TLcontrol
 2758              	.LVL110:
 196:TASK/src/gimbal_task.c ****         Gimbal_CMD_Set(UP_ANGLE,DOWN_ANGLE, Gimbal.ins->Pitch, Gimbal.Gimbal_CMD->Pitch_Motor_down_
 2759              		.loc 1 196 9 view .LVU750
 2760 006c 534E     		ldr	r6, .L188+20
 2761 006e 544D     		ldr	r5, .L188+24
 2762 0070 3146     		mov	r1, r6
 2763 0072 2846     		mov	r0, r5
 2764 0074 FFF7FEFF 		bl	IMU_PITCH_Angle_Set_Limit
 2765              	.LVL111:
 197:TASK/src/gimbal_task.c ****         
 2766              		.loc 1 197 9 view .LVU751
 197:TASK/src/gimbal_task.c ****         
 2767              		.loc 1 197 51 is_stmt 0 view .LVU752
 2768 0078 4B4C     		ldr	r4, .L188
 2769 007a 6368     		ldr	r3, [r4, #4]
 197:TASK/src/gimbal_task.c ****         
 2770              		.loc 1 197 70 view .LVU753
 2771 007c 2268     		ldr	r2, [r4]
 197:TASK/src/gimbal_task.c ****         
 2772              		.loc 1 197 81 view .LVU754
 2773 007e D2ED001A 		vldr.32	s3, [r2]
 197:TASK/src/gimbal_task.c ****         
 2774              		.loc 1 197 116 view .LVU755
 2775 0082 2269     		ldr	r2, [r4, #16]
 197:TASK/src/gimbal_task.c ****         
 2776              		.loc 1 197 128 view .LVU756
 2777 0084 D2ED047A 		vldr.32	s15, [r2, #16]
 197:TASK/src/gimbal_task.c ****         
 2778              		.loc 1 197 9 view .LVU757
 2779 0088 71EEE71A 		vsub.f32	s3, s3, s15
 2780 008c 93ED241A 		vldr.32	s2, [r3, #144]
 2781 0090 D6ED000A 		vldr.32	s1, [r6]
 2782 0094 95ED000A 		vldr.32	s0, [r5]
 2783 0098 FFF7FEFF 		bl	Gimbal_CMD_Set
 2784              	.LVL112:
 200:TASK/src/gimbal_task.c ****         {
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 75


 2785              		.loc 1 200 9 is_stmt 1 view .LVU758
 200:TASK/src/gimbal_task.c ****         {
 2786              		.loc 1 200 19 is_stmt 0 view .LVU759
 2787 009c 2368     		ldr	r3, [r4]
 200:TASK/src/gimbal_task.c ****         {
 2788              		.loc 1 200 30 view .LVU760
 2789 009e 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 200:TASK/src/gimbal_task.c ****         {
 2790              		.loc 1 200 12 view .LVU761
 2791 00a2 002B     		cmp	r3, #0
 2792 00a4 77D1     		bne	.L178
 202:TASK/src/gimbal_task.c ****             Gimbal_Not_Work();
 2793              		.loc 1 202 13 is_stmt 1 view .LVU762
 202:TASK/src/gimbal_task.c ****             Gimbal_Not_Work();
 2794              		.loc 1 202 32 is_stmt 0 view .LVU763
 2795 00a6 474B     		ldr	r3, .L188+28
 2796 00a8 6422     		movs	r2, #100
 2797 00aa 1A70     		strb	r2, [r3]
 203:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_Encoder(Gimbal.PITCH_Motor->postion);
 2798              		.loc 1 203 13 is_stmt 1 view .LVU764
 2799 00ac FFF7FEFF 		bl	Gimbal_Not_Work
 2800              	.LVL113:
 204:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_Encoder(Gimbal.YAW_Motor->Motor_encoder.Encode_Record_Val);
 2801              		.loc 1 204 13 view .LVU765
 204:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_Encoder(Gimbal.YAW_Motor->Motor_encoder.Encode_Record_Val);
 2802              		.loc 1 204 44 is_stmt 0 view .LVU766
 2803 00b0 2369     		ldr	r3, [r4, #16]
 204:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_Encoder(Gimbal.YAW_Motor->Motor_encoder.Encode_Record_Val);
 2804              		.loc 1 204 13 view .LVU767
 2805 00b2 93ED040A 		vldr.32	s0, [r3, #16]
 2806 00b6 FFF7FEFF 		bl	Gimbal_Pitch_Set_Encoder
 2807              	.LVL114:
 205:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 2808              		.loc 1 205 13 is_stmt 1 view .LVU768
 205:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 2809              		.loc 1 205 42 is_stmt 0 view .LVU769
 2810 00ba A368     		ldr	r3, [r4, #8]
 205:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 2811              		.loc 1 205 67 view .LVU770
 2812 00bc 186A     		ldr	r0, [r3, #32]
 205:TASK/src/gimbal_task.c ****             Gimbal_Pitch_Set_IMU(Gimbal.ins->Pitch);
 2813              		.loc 1 205 13 view .LVU771
 2814 00be C117     		asrs	r1, r0, #31
 2815 00c0 FFF7FEFF 		bl	Gimbal_Yaw_Set_Encoder
 2816              	.LVL115:
 206:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_IMU(Gimbal.ins->Yaw);
 2817              		.loc 1 206 13 is_stmt 1 view .LVU772
 206:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_IMU(Gimbal.ins->Yaw);
 2818              		.loc 1 206 40 is_stmt 0 view .LVU773
 2819 00c4 6368     		ldr	r3, [r4, #4]
 206:TASK/src/gimbal_task.c ****             Gimbal_Yaw_Set_IMU(Gimbal.ins->Yaw);
 2820              		.loc 1 206 13 view .LVU774
 2821 00c6 93ED240A 		vldr.32	s0, [r3, #144]
 2822 00ca FFF7FEFF 		bl	Gimbal_Pitch_Set_IMU
 2823              	.LVL116:
 207:TASK/src/gimbal_task.c ****         }
 2824              		.loc 1 207 13 is_stmt 1 view .LVU775
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 76


 207:TASK/src/gimbal_task.c ****         }
 2825              		.loc 1 207 38 is_stmt 0 view .LVU776
 2826 00ce 6368     		ldr	r3, [r4, #4]
 207:TASK/src/gimbal_task.c ****         }
 2827              		.loc 1 207 13 view .LVU777
 2828 00d0 93ED250A 		vldr.32	s0, [r3, #148]
 2829 00d4 FFF7FEFF 		bl	Gimbal_Yaw_Set_IMU
 2830              	.LVL117:
 2831              	.L179:
 214:TASK/src/gimbal_task.c ****         Photo_Control();//å¼€é•œæ—¶ä¿æŒå›¾ä¼ å¹³è¡Œ
 2832              		.loc 1 214 9 is_stmt 1 view .LVU778
 2833 00d8 FFF7FEFF 		bl	RGB_LED
 2834              	.LVL118:
 215:TASK/src/gimbal_task.c ****         
 2835              		.loc 1 215 9 view .LVU779
 2836 00dc FFF7FEFF 		bl	Photo_Control
 2837              	.LVL119:
 218:TASK/src/gimbal_task.c **** //            Send_Photo_Current();
 2838              		.loc 1 218 9 view .LVU780
 218:TASK/src/gimbal_task.c **** //            Send_Photo_Current();
 2839              		.loc 1 218 22 is_stmt 0 view .LVU781
 2840 00e0 344B     		ldr	r3, .L188+12
 2841 00e2 1B88     		ldrh	r3, [r3]
 218:TASK/src/gimbal_task.c **** //            Send_Photo_Current();
 2842              		.loc 1 218 12 view .LVU782
 2843 00e4 13F0010F 		tst	r3, #1
 2844 00e8 58D0     		beq	.L187
 2845              	.L180:
 222:TASK/src/gimbal_task.c **** 
 2846              		.loc 1 222 9 is_stmt 1 view .LVU783
 2847 00ea DFED370A 		vldr.32	s1, .L188+32
 2848 00ee B0EE602A 		vmov.f32	s4, s1
 2849 00f2 F0EE601A 		vmov.f32	s3, s1
 2850 00f6 B0EE601A 		vmov.f32	s2, s1
 2851 00fa 344B     		ldr	r3, .L188+36
 2852 00fc 93ED000A 		vldr.32	s0, [r3]
 2853 0100 294B     		ldr	r3, .L188
 2854 0102 1869     		ldr	r0, [r3, #16]
 2855 0104 FFF7FEFF 		bl	MI_motor_controlmode
 2856              	.LVL120:
 224:TASK/src/gimbal_task.c ****         vTaskDelay(1); // ç»å¯¹å»¶æ—¶//vTaskDelay(2);
 2857              		.loc 1 224 3 view .LVU784
 2858 0108 FFF7FEFF 		bl	vPortExitCritical
 2859              	.LVL121:
 225:TASK/src/gimbal_task.c ****         
 2860              		.loc 1 225 9 view .LVU785
 2861 010c 0120     		movs	r0, #1
 2862 010e FFF7FEFF 		bl	vTaskDelay
 2863              	.LVL122:
 2864 0112 8EE7     		b	.L168
 2865              	.L185:
 172:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_2,1000000);
 2866              		.loc 1 172 13 view .LVU786
 2867 0114 254B     		ldr	r3, .L188+4
 2868 0116 1B68     		ldr	r3, [r3]
 2869 0118 0022     		movs	r2, #0
 2870 011a 5A63     		str	r2, [r3, #52]
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 77


 173:TASK/src/gimbal_task.c ****             __HAL_TIM_SET_COMPARE(&htim5,TIM_CHANNEL_3,0);
 2871              		.loc 1 173 13 view .LVU787
 2872 011c 2449     		ldr	r1, .L188+8
 2873 011e 9963     		str	r1, [r3, #56]
 174:TASK/src/gimbal_task.c ****             
 2874              		.loc 1 174 13 view .LVU788
 2875 0120 DA63     		str	r2, [r3, #60]
 176:TASK/src/gimbal_task.c ****             if (abs(Gimbal.PITCH_Motor->speed) < 0.03f) pitch_motor_init_flag++;
 2876              		.loc 1 176 13 view .LVU789
 2877 0122 DFED290A 		vldr.32	s1, .L188+32
 2878 0126 B0EE602A 		vmov.f32	s4, s1
 2879 012a F0EE601A 		vmov.f32	s3, s1
 2880 012e B0EE601A 		vmov.f32	s2, s1
 2881 0132 274B     		ldr	r3, .L188+40
 2882 0134 93ED000A 		vldr.32	s0, [r3]
 2883 0138 FFF7FEFF 		bl	MI_motor_controlmode
 2884              	.LVL123:
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2885              		.loc 1 177 13 view .LVU790
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2886              		.loc 1 177 17 is_stmt 0 view .LVU791
 2887 013c 1A4B     		ldr	r3, .L188
 2888 013e 1B69     		ldr	r3, [r3, #16]
 2889 0140 D3ED057A 		vldr.32	s15, [r3, #20]
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2890              		.loc 1 177 48 view .LVU792
 2891 0144 F5EEC07A 		vcmpe.f32	s15, #0
 2892 0148 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2893 014c 11DD     		ble	.L182
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2894              		.loc 1 177 48 discriminator 1 view .LVU793
 2895 014e 9FED217A 		vldr.32	s14, .L188+44
 2896 0152 F4EEC77A 		vcmpe.f32	s15, s14
 2897 0156 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2898 015a 4CBF     		ite	mi
 2899 015c 0123     		movmi	r3, #1
 2900 015e 0023     		movpl	r3, #0
 2901              	.L175:
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2902              		.loc 1 177 16 discriminator 4 view .LVU794
 2903 0160 1BB1     		cbz	r3, .L176
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2904              		.loc 1 177 57 is_stmt 1 discriminator 5 view .LVU795
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2905              		.loc 1 177 78 is_stmt 0 discriminator 5 view .LVU796
 2906 0162 154A     		ldr	r2, .L188+16
 2907 0164 1388     		ldrh	r3, [r2]
 2908 0166 0133     		adds	r3, r3, #1
 2909 0168 1380     		strh	r3, [r2]	@ movhi
 2910              	.L176:
 178:TASK/src/gimbal_task.c ****             continue;
 2911              		.loc 1 178 13 is_stmt 1 view .LVU797
 2912 016a 0120     		movs	r0, #1
 2913 016c FFF7FEFF 		bl	vTaskDelay
 2914              	.LVL124:
 179:TASK/src/gimbal_task.c ****         }
 2915              		.loc 1 179 13 view .LVU798
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 78


 2916 0170 5FE7     		b	.L168
 2917              	.L182:
 177:TASK/src/gimbal_task.c ****             vTaskDelay(1);
 2918              		.loc 1 177 48 is_stmt 0 discriminator 2 view .LVU799
 2919 0172 9FED197A 		vldr.32	s14, .L188+48
 2920 0176 F4EEC77A 		vcmpe.f32	s15, s14
 2921 017a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2922 017e CCBF     		ite	gt
 2923 0180 0123     		movgt	r3, #1
 2924 0182 0023     		movle	r3, #0
 2925 0184 ECE7     		b	.L175
 2926              	.L186:
 184:TASK/src/gimbal_task.c ****                         Set_Pitch_Motor_down_encoder(Gimbal.PITCH_Motor->postion);//åˆå§‹åŒ–æ ¡éªŒ
 2927              		.loc 1 184 13 is_stmt 1 view .LVU800
 184:TASK/src/gimbal_task.c ****                         Set_Pitch_Motor_down_encoder(Gimbal.PITCH_Motor->postion);//åˆå§‹åŒ–æ ¡éªŒ
 2928              		.loc 1 184 35 is_stmt 0 view .LVU801
 2929 0186 0133     		adds	r3, r3, #1
 2930 0188 0B4A     		ldr	r2, .L188+16
 2931 018a 1380     		strh	r3, [r2]	@ movhi
 185:TASK/src/gimbal_task.c **** 
 2932              		.loc 1 185 25 is_stmt 1 view .LVU802
 2933 018c 90ED040A 		vldr.32	s0, [r0, #16]
 2934 0190 FFF7FEFF 		bl	Set_Pitch_Motor_down_encoder
 2935              	.LVL125:
 2936 0194 66E7     		b	.L177
 2937              	.L178:
 211:TASK/src/gimbal_task.c ****         }
 2938              		.loc 1 211 13 view .LVU803
 2939 0196 FFF7FEFF 		bl	Gimbal_Work
 2940              	.LVL126:
 2941 019a 9DE7     		b	.L179
 2942              	.L187:
 221:TASK/src/gimbal_task.c ****         MI_motor_controlmode(Gimbal.PITCH_Motor, Pitch_output_torque, 0, 0, 0, 0);
 2943              		.loc 1 221 9 view .LVU804
 2944 019c 024B     		ldr	r3, .L188
 2945 019e 9868     		ldr	r0, [r3, #8]
 2946 01a0 FFF7FEFF 		bl	DJMotor_Send_only_one
 2947              	.LVL127:
 2948 01a4 A1E7     		b	.L180
 2949              	.L189:
 2950 01a6 00BF     		.align	2
 2951              	.L188:
 2952 01a8 00000000 		.word	.LANCHOR1
 2953 01ac 00000000 		.word	htim5
 2954 01b0 40420F00 		.word	1000000
 2955 01b4 00000000 		.word	.LANCHOR45
 2956 01b8 00000000 		.word	.LANCHOR0
 2957 01bc 00000000 		.word	.LANCHOR47
 2958 01c0 00000000 		.word	.LANCHOR48
 2959 01c4 00000000 		.word	.LANCHOR24
 2960 01c8 00000000 		.word	0
 2961 01cc 00000000 		.word	.LANCHOR16
 2962 01d0 00000000 		.word	.LANCHOR46
 2963 01d4 8FC2F53C 		.word	1022739087
 2964 01d8 8FC2F5BC 		.word	-1124744561
 2965              		.cfi_endproc
 2966              	.LFE180:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 79


 2968              		.global	spin
 2969              		.global	move
 2970              		.global	lock_position_encoder
 2971              		.global	PITCH_TORQUE_LIMIT
 2972              		.global	Enable_pitch_motor
 2973              		.global	Pitch_gravity_feedforward_torque
 2974              		.global	Pitch_output_torque
 2975              		.global	DOWN_ANGLE
 2976              		.global	UP_ANGLE
 2977              		.global	k_encoder_yaw_lqr
 2978              		.global	k_encoder_pitch_lqr
 2979              		.global	k_virtual_yaw_lqr
 2980              		.global	k_virtual_pitch_lqr
 2981              		.global	k_yaw_lqr
 2982              		.global	k_pitch_lqr_down
 2983              		.global	k_pitch_lqr
 2984              		.global	Photo_motor_online
 2985              		.global	yaw_motor_is_online
 2986              		.global	pitch_motor_is_online
 2987              		.global	Pitch_Motor_Safe
 2988              		.global	pitch_motor_init_flag
 2989              		.global	Gimbal
 2990              		.global	sin_value
 2991              		.global	size
 2992              		.section	.bss.CAN_TxHeader.27,"aw",%nobits
 2993              		.align	2
 2994              		.set	.LANCHOR19,. + 0
 2997              	CAN_TxHeader.27:
 2998 0000 00000000 		.space	24
 2998      00000000 
 2998      00000000 
 2998      00000000 
 2998      00000000 
 2999              		.section	.bss.Can_Tx_Data.28,"aw",%nobits
 3000              		.align	2
 3001              		.set	.LANCHOR18,. + 0
 3004              	Can_Tx_Data.28:
 3005 0000 00000000 		.space	8
 3005      00000000 
 3006              		.section	.bss.DOWN_ANGLE,"aw",%nobits
 3007              		.align	2
 3008              		.set	.LANCHOR47,. + 0
 3011              	DOWN_ANGLE:
 3012 0000 00000000 		.space	4
 3013              		.section	.bss.Gimbal,"aw",%nobits
 3014              		.align	2
 3015              		.set	.LANCHOR1,. + 0
 3018              	Gimbal:
 3019 0000 00000000 		.space	1248
 3019      00000000 
 3019      00000000 
 3019      00000000 
 3019      00000000 
 3020              		.section	.bss.Left_move_flag.7,"aw",%nobits
 3021              		.set	.LANCHOR38,. + 0
 3024              	Left_move_flag.7:
 3025 0000 00       		.space	1
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 80


 3026              		.section	.bss.Off_set_time.12,"aw",%nobits
 3027              		.align	1
 3028              		.set	.LANCHOR33,. + 0
 3031              	Off_set_time.12:
 3032 0000 0000     		.space	2
 3033              		.section	.bss.On_set_time.9,"aw",%nobits
 3034              		.align	1
 3035              		.set	.LANCHOR36,. + 0
 3038              	On_set_time.9:
 3039 0000 0000     		.space	2
 3040              		.section	.bss.Photo_motor_online,"aw",%nobits
 3041              		.set	.LANCHOR2,. + 0
 3044              	Photo_motor_online:
 3045 0000 00       		.space	1
 3046              		.section	.bss.Pitch_Motor_Safe,"aw",%nobits
 3047              		.align	2
 3048              		.set	.LANCHOR7,. + 0
 3051              	Pitch_Motor_Safe:
 3052 0000 00000000 		.space	4
 3053              		.section	.bss.Pitch_output_torque,"aw",%nobits
 3054              		.align	2
 3055              		.set	.LANCHOR16,. + 0
 3058              	Pitch_output_torque:
 3059 0000 00000000 		.space	4
 3060              		.section	.bss.Right_move_flag.10,"aw",%nobits
 3061              		.set	.LANCHOR35,. + 0
 3064              	Right_move_flag.10:
 3065 0000 00       		.space	1
 3066              		.section	.bss.Set_encoder.13,"aw",%nobits
 3067              		.align	3
 3068              		.set	.LANCHOR32,. + 0
 3071              	Set_encoder.13:
 3072 0000 00000000 		.space	8
 3072      00000000 
 3073              		.section	.bss.Status.16,"aw",%nobits
 3074              		.set	.LANCHOR27,. + 0
 3077              	Status.16:
 3078 0000 00       		.space	1
 3079              		.section	.bss.UP_ANGLE,"aw",%nobits
 3080              		.align	2
 3081              		.set	.LANCHOR48,. + 0
 3084              	UP_ANGLE:
 3085 0000 00000000 		.space	4
 3086              		.section	.bss.filter_IMU_Pitch_Down_Limit.22,"aw",%nobits
 3087              		.align	2
 3088              		.set	.LANCHOR15,. + 0
 3091              	filter_IMU_Pitch_Down_Limit.22:
 3092 0000 00000000 		.space	1212
 3092      00000000 
 3092      00000000 
 3092      00000000 
 3092      00000000 
 3093              		.section	.bss.filter_IMU_Pitch_Up_Limit.23,"aw",%nobits
 3094              		.align	2
 3095              		.set	.LANCHOR14,. + 0
 3098              	filter_IMU_Pitch_Up_Limit.23:
 3099 0000 00000000 		.space	1212
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 81


 3099      00000000 
 3099      00000000 
 3099      00000000 
 3099      00000000 
 3100              		.section	.bss.idx_1.21,"aw",%nobits
 3101              		.align	1
 3102              		.set	.LANCHOR3,. + 0
 3105              	idx_1.21:
 3106 0000 0000     		.space	2
 3107              		.section	.bss.idx_2.20,"aw",%nobits
 3108              		.align	1
 3109              		.set	.LANCHOR5,. + 0
 3112              	idx_2.20:
 3113 0000 0000     		.space	2
 3114              		.section	.bss.idx_3.19,"aw",%nobits
 3115              		.align	1
 3116              		.set	.LANCHOR6,. + 0
 3119              	idx_3.19:
 3120 0000 0000     		.space	2
 3121              		.section	.bss.lastPitch_Set_IMU.1,"aw",%nobits
 3122              		.align	2
 3123              		.set	.LANCHOR22,. + 0
 3126              	lastPitch_Set_IMU.1:
 3127 0000 00000000 		.space	4
 3128              		.section	.bss.last_Photo_Motor_encoder.2,"aw",%nobits
 3129              		.align	3
 3130              		.set	.LANCHOR43,. + 0
 3133              	last_Photo_Motor_encoder.2:
 3134 0000 00000000 		.space	8
 3134      00000000 
 3135              		.section	.bss.litter_lqr_time.0,"aw",%nobits
 3136              		.set	.LANCHOR23,. + 0
 3139              	litter_lqr_time.0:
 3140 0000 00       		.space	1
 3141              		.section	.bss.lock_position_encoder,"aw",%nobits
 3142              		.align	3
 3143              		.set	.LANCHOR30,. + 0
 3146              	lock_position_encoder:
 3147 0000 00000000 		.space	8
 3147      00000000 
 3148              		.section	.bss.pitch_motor_init_flag,"aw",%nobits
 3149              		.align	1
 3150              		.set	.LANCHOR0,. + 0
 3153              	pitch_motor_init_flag:
 3154 0000 0000     		.space	2
 3155              		.section	.bss.pitch_motor_is_online,"aw",%nobits
 3156              		.set	.LANCHOR8,. + 0
 3159              	pitch_motor_is_online:
 3160 0000 00       		.space	1
 3161              		.section	.bss.send_mail_box.26,"aw",%nobits
 3162              		.align	2
 3163              		.set	.LANCHOR20,. + 0
 3166              	send_mail_box.26:
 3167 0000 00000000 		.space	4
 3168              		.section	.bss.time.25,"aw",%nobits
 3169              		.align	1
 3170              		.set	.LANCHOR45,. + 0
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 82


 3173              	time.25:
 3174 0000 0000     		.space	2
 3175              		.section	.bss.yaw_motor_is_online,"aw",%nobits
 3176              		.set	.LANCHOR17,. + 0
 3179              	yaw_motor_is_online:
 3180 0000 00       		.space	1
 3181              		.section	.data.B_set.11,"aw"
 3182              		.set	.LANCHOR34,. + 0
 3185              	B_set.11:
 3186 0000 01       		.byte	1
 3187              		.section	.data.C_set.8,"aw"
 3188              		.set	.LANCHOR37,. + 0
 3191              	C_set.8:
 3192 0000 01       		.byte	1
 3193              		.section	.data.Enable_pitch_motor,"aw"
 3194              		.set	.LANCHOR24,. + 0
 3197              	Enable_pitch_motor:
 3198 0000 64       		.byte	100
 3199              		.section	.data.FUCK.6,"aw"
 3200              		.set	.LANCHOR39,. + 0
 3203              	FUCK.6:
 3204 0000 01       		.byte	1
 3205              		.section	.data.F_set.4,"aw"
 3206              		.set	.LANCHOR41,. + 0
 3209              	F_set.4:
 3210 0000 01       		.byte	1
 3211              		.section	.data.PITCH_TORQUE_LIMIT,"aw"
 3212              		.align	2
 3213              		.set	.LANCHOR21,. + 0
 3216              	PITCH_TORQUE_LIMIT:
 3217 0000 00000041 		.word	1090519040
 3218              		.section	.data.Pitch_gravity_feedforward_torque,"aw"
 3219              		.align	2
 3220              		.set	.LANCHOR46,. + 0
 3223              	Pitch_gravity_feedforward_torque:
 3224 0000 0000803F 		.word	1065353216
 3225              		.section	.data.Reset_flag.18,"aw"
 3226              		.set	.LANCHOR25,. + 0
 3229              	Reset_flag.18:
 3230 0000 01       		.byte	1
 3231              		.section	.data.Set_MG995_Angle_flag.17,"aw"
 3232              		.set	.LANCHOR26,. + 0
 3235              	Set_MG995_Angle_flag.17:
 3236 0000 01       		.byte	1
 3237              		.section	.data.Set_Photo_Angle_delay.5,"aw"
 3238              		.align	1
 3239              		.set	.LANCHOR40,. + 0
 3242              	Set_Photo_Angle_delay.5:
 3243 0000 2C01     		.short	300
 3244              		.section	.data.V_set.3,"aw"
 3245              		.set	.LANCHOR42,. + 0
 3248              	V_set.3:
 3249 0000 01       		.byte	1
 3250              		.section	.data.k_encoder_pitch_lqr,"aw"
 3251              		.align	2
 3252              		.set	.LANCHOR12,. + 0
 3255              	k_encoder_pitch_lqr:
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 83


 3256 0000 0000C040 		.word	1086324736
 3257 0004 0000803F 		.word	1065353216
 3258              		.section	.data.k_encoder_yaw_lqr,"aw"
 3259              		.align	2
 3260              		.set	.LANCHOR13,. + 0
 3263              	k_encoder_yaw_lqr:
 3264 0000 0000FA43 		.word	1140457472
 3265 0004 0000C842 		.word	1120403456
 3266              		.section	.data.k_pitch_lqr,"aw"
 3267              		.align	2
 3268              		.set	.LANCHOR9,. + 0
 3271              	k_pitch_lqr:
 3272 0000 F853B33F 		.word	1068717048
 3273 0004 EC510040 		.word	1073762796
 3274              		.section	.data.k_pitch_lqr_down,"aw"
 3275              		.align	2
 3276              		.set	.LANCHOR10,. + 0
 3279              	k_pitch_lqr_down:
 3280 0000 CDCC4C3F 		.word	1061997773
 3281 0004 00000040 		.word	1073741824
 3282              		.section	.data.k_virtual_pitch_lqr,"aw"
 3283              		.align	2
 3286              	k_virtual_pitch_lqr:
 3287 0000 00007042 		.word	1114636288
 3288 0004 9A99993F 		.word	1067030938
 3289              		.section	.data.k_virtual_yaw_lqr,"aw"
 3290              		.align	2
 3293              	k_virtual_yaw_lqr:
 3294 0000 000020C2 		.word	-1038090240
 3295 0004 000080BF 		.word	-1082130432
 3296              		.section	.data.k_yaw_lqr,"aw"
 3297              		.align	2
 3298              		.set	.LANCHOR11,. + 0
 3301              	k_yaw_lqr:
 3302 0000 CD4C9AC2 		.word	-1030075187
 3303 0004 000080BF 		.word	-1082130432
 3304              		.section	.data.move,"aw"
 3305              		.align	3
 3306              		.set	.LANCHOR31,. + 0
 3309              	move:
 3310 0000 1C250000 		.word	9500
 3311 0004 00000000 		.word	0
 3312              		.section	.data.sin_value,"aw"
 3313              		.align	2
 3314              		.set	.LANCHOR4,. + 0
 3317              	sin_value:
 3318 0000 F401     		.short	500
 3319 0002 F701     		.short	503
 3320 0004 FA01     		.short	506
 3321 0006 FD01     		.short	509
 3322 0008 0002     		.short	512
 3323 000a 0302     		.short	515
 3324 000c 0602     		.short	518
 3325 000e 0902     		.short	521
 3326 0010 0D02     		.short	525
 3327 0012 1002     		.short	528
 3328 0014 1302     		.short	531
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 84


 3329 0016 1602     		.short	534
 3330 0018 1902     		.short	537
 3331 001a 1C02     		.short	540
 3332 001c 1F02     		.short	543
 3333 001e 2302     		.short	547
 3334 0020 2602     		.short	550
 3335 0022 2902     		.short	553
 3336 0024 2C02     		.short	556
 3337 0026 2F02     		.short	559
 3338 0028 3202     		.short	562
 3339 002a 3502     		.short	565
 3340 002c 3802     		.short	568
 3341 002e 3C02     		.short	572
 3342 0030 3F02     		.short	575
 3343 0032 4202     		.short	578
 3344 0034 4502     		.short	581
 3345 0036 4802     		.short	584
 3346 0038 4B02     		.short	587
 3347 003a 4E02     		.short	590
 3348 003c 5102     		.short	593
 3349 003e 5402     		.short	596
 3350 0040 5702     		.short	599
 3351 0042 5A02     		.short	602
 3352 0044 5E02     		.short	606
 3353 0046 6102     		.short	609
 3354 0048 6402     		.short	612
 3355 004a 6702     		.short	615
 3356 004c 6A02     		.short	618
 3357 004e 6D02     		.short	621
 3358 0050 7002     		.short	624
 3359 0052 7302     		.short	627
 3360 0054 7602     		.short	630
 3361 0056 7902     		.short	633
 3362 0058 7C02     		.short	636
 3363 005a 7F02     		.short	639
 3364 005c 8202     		.short	642
 3365 005e 8502     		.short	645
 3366 0060 8802     		.short	648
 3367 0062 8B02     		.short	651
 3368 0064 8E02     		.short	654
 3369 0066 9102     		.short	657
 3370 0068 9402     		.short	660
 3371 006a 9702     		.short	663
 3372 006c 9A02     		.short	666
 3373 006e 9D02     		.short	669
 3374 0070 A002     		.short	672
 3375 0072 A302     		.short	675
 3376 0074 A602     		.short	678
 3377 0076 A902     		.short	681
 3378 0078 AC02     		.short	684
 3379 007a AE02     		.short	686
 3380 007c B102     		.short	689
 3381 007e B402     		.short	692
 3382 0080 B702     		.short	695
 3383 0082 BA02     		.short	698
 3384 0084 BD02     		.short	701
 3385 0086 C002     		.short	704
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 85


 3386 0088 C302     		.short	707
 3387 008a C602     		.short	710
 3388 008c C802     		.short	712
 3389 008e CB02     		.short	715
 3390 0090 CE02     		.short	718
 3391 0092 D102     		.short	721
 3392 0094 D402     		.short	724
 3393 0096 D602     		.short	726
 3394 0098 D902     		.short	729
 3395 009a DC02     		.short	732
 3396 009c DF02     		.short	735
 3397 009e E202     		.short	738
 3398 00a0 E402     		.short	740
 3399 00a2 E702     		.short	743
 3400 00a4 EA02     		.short	746
 3401 00a6 ED02     		.short	749
 3402 00a8 EF02     		.short	751
 3403 00aa F202     		.short	754
 3404 00ac F502     		.short	757
 3405 00ae F702     		.short	759
 3406 00b0 FA02     		.short	762
 3407 00b2 FD02     		.short	765
 3408 00b4 FF02     		.short	767
 3409 00b6 0203     		.short	770
 3410 00b8 0503     		.short	773
 3411 00ba 0703     		.short	775
 3412 00bc 0A03     		.short	778
 3413 00be 0D03     		.short	781
 3414 00c0 0F03     		.short	783
 3415 00c2 1203     		.short	786
 3416 00c4 1403     		.short	788
 3417 00c6 1703     		.short	791
 3418 00c8 1903     		.short	793
 3419 00ca 1C03     		.short	796
 3420 00cc 1E03     		.short	798
 3421 00ce 2103     		.short	801
 3422 00d0 2303     		.short	803
 3423 00d2 2603     		.short	806
 3424 00d4 2803     		.short	808
 3425 00d6 2B03     		.short	811
 3426 00d8 2D03     		.short	813
 3427 00da 3003     		.short	816
 3428 00dc 3203     		.short	818
 3429 00de 3503     		.short	821
 3430 00e0 3703     		.short	823
 3431 00e2 3903     		.short	825
 3432 00e4 3C03     		.short	828
 3433 00e6 3E03     		.short	830
 3434 00e8 4103     		.short	833
 3435 00ea 4303     		.short	835
 3436 00ec 4503     		.short	837
 3437 00ee 4703     		.short	839
 3438 00f0 4A03     		.short	842
 3439 00f2 4C03     		.short	844
 3440 00f4 4E03     		.short	846
 3441 00f6 5103     		.short	849
 3442 00f8 5303     		.short	851
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 86


 3443 00fa 5503     		.short	853
 3444 00fc 5703     		.short	855
 3445 00fe 5903     		.short	857
 3446 0100 5C03     		.short	860
 3447 0102 5E03     		.short	862
 3448 0104 6003     		.short	864
 3449 0106 6203     		.short	866
 3450 0108 6403     		.short	868
 3451 010a 6603     		.short	870
 3452 010c 6803     		.short	872
 3453 010e 6B03     		.short	875
 3454 0110 6D03     		.short	877
 3455 0112 6F03     		.short	879
 3456 0114 7103     		.short	881
 3457 0116 7303     		.short	883
 3458 0118 7503     		.short	885
 3459 011a 7703     		.short	887
 3460 011c 7903     		.short	889
 3461 011e 7B03     		.short	891
 3462 0120 7D03     		.short	893
 3463 0122 7F03     		.short	895
 3464 0124 8003     		.short	896
 3465 0126 8203     		.short	898
 3466 0128 8403     		.short	900
 3467 012a 8603     		.short	902
 3468 012c 8803     		.short	904
 3469 012e 8A03     		.short	906
 3470 0130 8C03     		.short	908
 3471 0132 8D03     		.short	909
 3472 0134 8F03     		.short	911
 3473 0136 9103     		.short	913
 3474 0138 9303     		.short	915
 3475 013a 9503     		.short	917
 3476 013c 9603     		.short	918
 3477 013e 9803     		.short	920
 3478 0140 9A03     		.short	922
 3479 0142 9B03     		.short	923
 3480 0144 9D03     		.short	925
 3481 0146 9F03     		.short	927
 3482 0148 A003     		.short	928
 3483 014a A203     		.short	930
 3484 014c A303     		.short	931
 3485 014e A503     		.short	933
 3486 0150 A703     		.short	935
 3487 0152 A803     		.short	936
 3488 0154 AA03     		.short	938
 3489 0156 AB03     		.short	939
 3490 0158 AD03     		.short	941
 3491 015a AE03     		.short	942
 3492 015c B003     		.short	944
 3493 015e B103     		.short	945
 3494 0160 B203     		.short	946
 3495 0162 B403     		.short	948
 3496 0164 B503     		.short	949
 3497 0166 B703     		.short	951
 3498 0168 B803     		.short	952
 3499 016a B903     		.short	953
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 87


 3500 016c BB03     		.short	955
 3501 016e BC03     		.short	956
 3502 0170 BD03     		.short	957
 3503 0172 BE03     		.short	958
 3504 0174 C003     		.short	960
 3505 0176 C103     		.short	961
 3506 0178 C203     		.short	962
 3507 017a C303     		.short	963
 3508 017c C403     		.short	964
 3509 017e C603     		.short	966
 3510 0180 C703     		.short	967
 3511 0182 C803     		.short	968
 3512 0184 C903     		.short	969
 3513 0186 CA03     		.short	970
 3514 0188 CB03     		.short	971
 3515 018a CC03     		.short	972
 3516 018c CD03     		.short	973
 3517 018e CE03     		.short	974
 3518 0190 CF03     		.short	975
 3519 0192 D003     		.short	976
 3520 0194 D103     		.short	977
 3521 0196 D203     		.short	978
 3522 0198 D303     		.short	979
 3523 019a D403     		.short	980
 3524 019c D503     		.short	981
 3525 019e D503     		.short	981
 3526 01a0 D603     		.short	982
 3527 01a2 D703     		.short	983
 3528 01a4 D803     		.short	984
 3529 01a6 D903     		.short	985
 3530 01a8 D903     		.short	985
 3531 01aa DA03     		.short	986
 3532 01ac DB03     		.short	987
 3533 01ae DB03     		.short	987
 3534 01b0 DC03     		.short	988
 3535 01b2 DD03     		.short	989
 3536 01b4 DD03     		.short	989
 3537 01b6 DE03     		.short	990
 3538 01b8 DF03     		.short	991
 3539 01ba DF03     		.short	991
 3540 01bc E003     		.short	992
 3541 01be E003     		.short	992
 3542 01c0 E103     		.short	993
 3543 01c2 E103     		.short	993
 3544 01c4 E203     		.short	994
 3545 01c6 E203     		.short	994
 3546 01c8 E303     		.short	995
 3547 01ca E303     		.short	995
 3548 01cc E403     		.short	996
 3549 01ce E403     		.short	996
 3550 01d0 E403     		.short	996
 3551 01d2 E503     		.short	997
 3552 01d4 E503     		.short	997
 3553 01d6 E503     		.short	997
 3554 01d8 E603     		.short	998
 3555 01da E603     		.short	998
 3556 01dc E603     		.short	998
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 88


 3557 01de E603     		.short	998
 3558 01e0 E703     		.short	999
 3559 01e2 E703     		.short	999
 3560 01e4 E703     		.short	999
 3561 01e6 E703     		.short	999
 3562 01e8 E703     		.short	999
 3563 01ea E703     		.short	999
 3564 01ec E703     		.short	999
 3565 01ee E703     		.short	999
 3566 01f0 E703     		.short	999
 3567 01f2 E703     		.short	999
 3568 01f4 E803     		.short	1000
 3569 01f6 E703     		.short	999
 3570 01f8 E703     		.short	999
 3571 01fa E703     		.short	999
 3572 01fc E703     		.short	999
 3573 01fe E703     		.short	999
 3574 0200 E703     		.short	999
 3575 0202 E703     		.short	999
 3576 0204 E703     		.short	999
 3577 0206 E703     		.short	999
 3578 0208 E703     		.short	999
 3579 020a E603     		.short	998
 3580 020c E603     		.short	998
 3581 020e E603     		.short	998
 3582 0210 E603     		.short	998
 3583 0212 E503     		.short	997
 3584 0214 E503     		.short	997
 3585 0216 E503     		.short	997
 3586 0218 E403     		.short	996
 3587 021a E403     		.short	996
 3588 021c E403     		.short	996
 3589 021e E303     		.short	995
 3590 0220 E303     		.short	995
 3591 0222 E203     		.short	994
 3592 0224 E203     		.short	994
 3593 0226 E103     		.short	993
 3594 0228 E103     		.short	993
 3595 022a E003     		.short	992
 3596 022c E003     		.short	992
 3597 022e DF03     		.short	991
 3598 0230 DF03     		.short	991
 3599 0232 DE03     		.short	990
 3600 0234 DD03     		.short	989
 3601 0236 DD03     		.short	989
 3602 0238 DC03     		.short	988
 3603 023a DB03     		.short	987
 3604 023c DB03     		.short	987
 3605 023e DA03     		.short	986
 3606 0240 D903     		.short	985
 3607 0242 D903     		.short	985
 3608 0244 D803     		.short	984
 3609 0246 D703     		.short	983
 3610 0248 D603     		.short	982
 3611 024a D503     		.short	981
 3612 024c D503     		.short	981
 3613 024e D403     		.short	980
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 89


 3614 0250 D303     		.short	979
 3615 0252 D203     		.short	978
 3616 0254 D103     		.short	977
 3617 0256 D003     		.short	976
 3618 0258 CF03     		.short	975
 3619 025a CE03     		.short	974
 3620 025c CD03     		.short	973
 3621 025e CC03     		.short	972
 3622 0260 CB03     		.short	971
 3623 0262 CA03     		.short	970
 3624 0264 C903     		.short	969
 3625 0266 C803     		.short	968
 3626 0268 C703     		.short	967
 3627 026a C603     		.short	966
 3628 026c C403     		.short	964
 3629 026e C303     		.short	963
 3630 0270 C203     		.short	962
 3631 0272 C103     		.short	961
 3632 0274 C003     		.short	960
 3633 0276 BE03     		.short	958
 3634 0278 BD03     		.short	957
 3635 027a BC03     		.short	956
 3636 027c BB03     		.short	955
 3637 027e B903     		.short	953
 3638 0280 B803     		.short	952
 3639 0282 B703     		.short	951
 3640 0284 B503     		.short	949
 3641 0286 B403     		.short	948
 3642 0288 B203     		.short	946
 3643 028a B103     		.short	945
 3644 028c B003     		.short	944
 3645 028e AE03     		.short	942
 3646 0290 AD03     		.short	941
 3647 0292 AB03     		.short	939
 3648 0294 AA03     		.short	938
 3649 0296 A803     		.short	936
 3650 0298 A703     		.short	935
 3651 029a A503     		.short	933
 3652 029c A303     		.short	931
 3653 029e A203     		.short	930
 3654 02a0 A003     		.short	928
 3655 02a2 9F03     		.short	927
 3656 02a4 9D03     		.short	925
 3657 02a6 9B03     		.short	923
 3658 02a8 9A03     		.short	922
 3659 02aa 9803     		.short	920
 3660 02ac 9603     		.short	918
 3661 02ae 9503     		.short	917
 3662 02b0 9303     		.short	915
 3663 02b2 9103     		.short	913
 3664 02b4 8F03     		.short	911
 3665 02b6 8D03     		.short	909
 3666 02b8 8C03     		.short	908
 3667 02ba 8A03     		.short	906
 3668 02bc 8803     		.short	904
 3669 02be 8603     		.short	902
 3670 02c0 8403     		.short	900
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 90


 3671 02c2 8203     		.short	898
 3672 02c4 8003     		.short	896
 3673 02c6 7F03     		.short	895
 3674 02c8 7D03     		.short	893
 3675 02ca 7B03     		.short	891
 3676 02cc 7903     		.short	889
 3677 02ce 7703     		.short	887
 3678 02d0 7503     		.short	885
 3679 02d2 7303     		.short	883
 3680 02d4 7103     		.short	881
 3681 02d6 6F03     		.short	879
 3682 02d8 6D03     		.short	877
 3683 02da 6B03     		.short	875
 3684 02dc 6803     		.short	872
 3685 02de 6603     		.short	870
 3686 02e0 6403     		.short	868
 3687 02e2 6203     		.short	866
 3688 02e4 6003     		.short	864
 3689 02e6 5E03     		.short	862
 3690 02e8 5C03     		.short	860
 3691 02ea 5903     		.short	857
 3692 02ec 5703     		.short	855
 3693 02ee 5503     		.short	853
 3694 02f0 5303     		.short	851
 3695 02f2 5103     		.short	849
 3696 02f4 4E03     		.short	846
 3697 02f6 4C03     		.short	844
 3698 02f8 4A03     		.short	842
 3699 02fa 4703     		.short	839
 3700 02fc 4503     		.short	837
 3701 02fe 4303     		.short	835
 3702 0300 4103     		.short	833
 3703 0302 3E03     		.short	830
 3704 0304 3C03     		.short	828
 3705 0306 3903     		.short	825
 3706 0308 3703     		.short	823
 3707 030a 3503     		.short	821
 3708 030c 3203     		.short	818
 3709 030e 3003     		.short	816
 3710 0310 2D03     		.short	813
 3711 0312 2B03     		.short	811
 3712 0314 2803     		.short	808
 3713 0316 2603     		.short	806
 3714 0318 2303     		.short	803
 3715 031a 2103     		.short	801
 3716 031c 1E03     		.short	798
 3717 031e 1C03     		.short	796
 3718 0320 1903     		.short	793
 3719 0322 1703     		.short	791
 3720 0324 1403     		.short	788
 3721 0326 1203     		.short	786
 3722 0328 0F03     		.short	783
 3723 032a 0D03     		.short	781
 3724 032c 0A03     		.short	778
 3725 032e 0703     		.short	775
 3726 0330 0503     		.short	773
 3727 0332 0203     		.short	770
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 91


 3728 0334 FF02     		.short	767
 3729 0336 FD02     		.short	765
 3730 0338 FA02     		.short	762
 3731 033a F702     		.short	759
 3732 033c F502     		.short	757
 3733 033e F202     		.short	754
 3734 0340 EF02     		.short	751
 3735 0342 ED02     		.short	749
 3736 0344 EA02     		.short	746
 3737 0346 E702     		.short	743
 3738 0348 E402     		.short	740
 3739 034a E202     		.short	738
 3740 034c DF02     		.short	735
 3741 034e DC02     		.short	732
 3742 0350 D902     		.short	729
 3743 0352 D602     		.short	726
 3744 0354 D402     		.short	724
 3745 0356 D102     		.short	721
 3746 0358 CE02     		.short	718
 3747 035a CB02     		.short	715
 3748 035c C802     		.short	712
 3749 035e C602     		.short	710
 3750 0360 C302     		.short	707
 3751 0362 C002     		.short	704
 3752 0364 BD02     		.short	701
 3753 0366 BA02     		.short	698
 3754 0368 B702     		.short	695
 3755 036a B402     		.short	692
 3756 036c B102     		.short	689
 3757 036e AE02     		.short	686
 3758 0370 AC02     		.short	684
 3759 0372 A902     		.short	681
 3760 0374 A602     		.short	678
 3761 0376 A302     		.short	675
 3762 0378 A002     		.short	672
 3763 037a 9D02     		.short	669
 3764 037c 9A02     		.short	666
 3765 037e 9702     		.short	663
 3766 0380 9402     		.short	660
 3767 0382 9102     		.short	657
 3768 0384 8E02     		.short	654
 3769 0386 8B02     		.short	651
 3770 0388 8802     		.short	648
 3771 038a 8502     		.short	645
 3772 038c 8202     		.short	642
 3773 038e 7F02     		.short	639
 3774 0390 7C02     		.short	636
 3775 0392 7902     		.short	633
 3776 0394 7602     		.short	630
 3777 0396 7302     		.short	627
 3778 0398 7002     		.short	624
 3779 039a 6D02     		.short	621
 3780 039c 6A02     		.short	618
 3781 039e 6702     		.short	615
 3782 03a0 6402     		.short	612
 3783 03a2 6102     		.short	609
 3784 03a4 5E02     		.short	606
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 92


 3785 03a6 5A02     		.short	602
 3786 03a8 5702     		.short	599
 3787 03aa 5402     		.short	596
 3788 03ac 5102     		.short	593
 3789 03ae 4E02     		.short	590
 3790 03b0 4B02     		.short	587
 3791 03b2 4802     		.short	584
 3792 03b4 4502     		.short	581
 3793 03b6 4202     		.short	578
 3794 03b8 3F02     		.short	575
 3795 03ba 3C02     		.short	572
 3796 03bc 3802     		.short	568
 3797 03be 3502     		.short	565
 3798 03c0 3202     		.short	562
 3799 03c2 2F02     		.short	559
 3800 03c4 2C02     		.short	556
 3801 03c6 2902     		.short	553
 3802 03c8 2602     		.short	550
 3803 03ca 2302     		.short	547
 3804 03cc 1F02     		.short	543
 3805 03ce 1C02     		.short	540
 3806 03d0 1902     		.short	537
 3807 03d2 1602     		.short	534
 3808 03d4 1302     		.short	531
 3809 03d6 1002     		.short	528
 3810 03d8 0D02     		.short	525
 3811 03da 0902     		.short	521
 3812 03dc 0602     		.short	518
 3813 03de 0302     		.short	515
 3814 03e0 0002     		.short	512
 3815 03e2 FD01     		.short	509
 3816 03e4 FA01     		.short	506
 3817 03e6 F701     		.short	503
 3818 03e8 F401     		.short	500
 3819 03ea F001     		.short	496
 3820 03ec ED01     		.short	493
 3821 03ee EA01     		.short	490
 3822 03f0 E701     		.short	487
 3823 03f2 E401     		.short	484
 3824 03f4 E101     		.short	481
 3825 03f6 DE01     		.short	478
 3826 03f8 DA01     		.short	474
 3827 03fa D701     		.short	471
 3828 03fc D401     		.short	468
 3829 03fe D101     		.short	465
 3830 0400 CE01     		.short	462
 3831 0402 CB01     		.short	459
 3832 0404 C801     		.short	456
 3833 0406 C401     		.short	452
 3834 0408 C101     		.short	449
 3835 040a BE01     		.short	446
 3836 040c BB01     		.short	443
 3837 040e B801     		.short	440
 3838 0410 B501     		.short	437
 3839 0412 B201     		.short	434
 3840 0414 AF01     		.short	431
 3841 0416 AB01     		.short	427
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 93


 3842 0418 A801     		.short	424
 3843 041a A501     		.short	421
 3844 041c A201     		.short	418
 3845 041e 9F01     		.short	415
 3846 0420 9C01     		.short	412
 3847 0422 9901     		.short	409
 3848 0424 9601     		.short	406
 3849 0426 9301     		.short	403
 3850 0428 9001     		.short	400
 3851 042a 8D01     		.short	397
 3852 042c 8901     		.short	393
 3853 042e 8601     		.short	390
 3854 0430 8301     		.short	387
 3855 0432 8001     		.short	384
 3856 0434 7D01     		.short	381
 3857 0436 7A01     		.short	378
 3858 0438 7701     		.short	375
 3859 043a 7401     		.short	372
 3860 043c 7101     		.short	369
 3861 043e 6E01     		.short	366
 3862 0440 6B01     		.short	363
 3863 0442 6801     		.short	360
 3864 0444 6501     		.short	357
 3865 0446 6201     		.short	354
 3866 0448 5F01     		.short	351
 3867 044a 5C01     		.short	348
 3868 044c 5901     		.short	345
 3869 044e 5601     		.short	342
 3870 0450 5301     		.short	339
 3871 0452 5001     		.short	336
 3872 0454 4D01     		.short	333
 3873 0456 4A01     		.short	330
 3874 0458 4701     		.short	327
 3875 045a 4401     		.short	324
 3876 045c 4101     		.short	321
 3877 045e 3E01     		.short	318
 3878 0460 3B01     		.short	315
 3879 0462 3901     		.short	313
 3880 0464 3601     		.short	310
 3881 0466 3301     		.short	307
 3882 0468 3001     		.short	304
 3883 046a 2D01     		.short	301
 3884 046c 2A01     		.short	298
 3885 046e 2701     		.short	295
 3886 0470 2401     		.short	292
 3887 0472 2101     		.short	289
 3888 0474 1F01     		.short	287
 3889 0476 1C01     		.short	284
 3890 0478 1901     		.short	281
 3891 047a 1601     		.short	278
 3892 047c 1301     		.short	275
 3893 047e 1101     		.short	273
 3894 0480 0E01     		.short	270
 3895 0482 0B01     		.short	267
 3896 0484 0801     		.short	264
 3897 0486 0501     		.short	261
 3898 0488 0301     		.short	259
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 94


 3899 048a 0001     		.short	256
 3900 048c FD00     		.short	253
 3901 048e FA00     		.short	250
 3902 0490 F800     		.short	248
 3903 0492 F500     		.short	245
 3904 0494 F200     		.short	242
 3905 0496 F000     		.short	240
 3906 0498 ED00     		.short	237
 3907 049a EA00     		.short	234
 3908 049c E800     		.short	232
 3909 049e E500     		.short	229
 3910 04a0 E200     		.short	226
 3911 04a2 E000     		.short	224
 3912 04a4 DD00     		.short	221
 3913 04a6 DA00     		.short	218
 3914 04a8 D800     		.short	216
 3915 04aa D500     		.short	213
 3916 04ac D300     		.short	211
 3917 04ae D000     		.short	208
 3918 04b0 CE00     		.short	206
 3919 04b2 CB00     		.short	203
 3920 04b4 C900     		.short	201
 3921 04b6 C600     		.short	198
 3922 04b8 C400     		.short	196
 3923 04ba C100     		.short	193
 3924 04bc BF00     		.short	191
 3925 04be BC00     		.short	188
 3926 04c0 BA00     		.short	186
 3927 04c2 B700     		.short	183
 3928 04c4 B500     		.short	181
 3929 04c6 B200     		.short	178
 3930 04c8 B000     		.short	176
 3931 04ca AE00     		.short	174
 3932 04cc AB00     		.short	171
 3933 04ce A900     		.short	169
 3934 04d0 A600     		.short	166
 3935 04d2 A400     		.short	164
 3936 04d4 A200     		.short	162
 3937 04d6 A000     		.short	160
 3938 04d8 9D00     		.short	157
 3939 04da 9B00     		.short	155
 3940 04dc 9900     		.short	153
 3941 04de 9600     		.short	150
 3942 04e0 9400     		.short	148
 3943 04e2 9200     		.short	146
 3944 04e4 9000     		.short	144
 3945 04e6 8E00     		.short	142
 3946 04e8 8B00     		.short	139
 3947 04ea 8900     		.short	137
 3948 04ec 8700     		.short	135
 3949 04ee 8500     		.short	133
 3950 04f0 8300     		.short	131
 3951 04f2 8100     		.short	129
 3952 04f4 7F00     		.short	127
 3953 04f6 7C00     		.short	124
 3954 04f8 7A00     		.short	122
 3955 04fa 7800     		.short	120
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 95


 3956 04fc 7600     		.short	118
 3957 04fe 7400     		.short	116
 3958 0500 7200     		.short	114
 3959 0502 7000     		.short	112
 3960 0504 6E00     		.short	110
 3961 0506 6C00     		.short	108
 3962 0508 6A00     		.short	106
 3963 050a 6800     		.short	104
 3964 050c 6700     		.short	103
 3965 050e 6500     		.short	101
 3966 0510 6300     		.short	99
 3967 0512 6100     		.short	97
 3968 0514 5F00     		.short	95
 3969 0516 5D00     		.short	93
 3970 0518 5B00     		.short	91
 3971 051a 5A00     		.short	90
 3972 051c 5800     		.short	88
 3973 051e 5600     		.short	86
 3974 0520 5400     		.short	84
 3975 0522 5200     		.short	82
 3976 0524 5100     		.short	81
 3977 0526 4F00     		.short	79
 3978 0528 4D00     		.short	77
 3979 052a 4C00     		.short	76
 3980 052c 4A00     		.short	74
 3981 052e 4800     		.short	72
 3982 0530 4700     		.short	71
 3983 0532 4500     		.short	69
 3984 0534 4400     		.short	68
 3985 0536 4200     		.short	66
 3986 0538 4000     		.short	64
 3987 053a 3F00     		.short	63
 3988 053c 3D00     		.short	61
 3989 053e 3C00     		.short	60
 3990 0540 3A00     		.short	58
 3991 0542 3900     		.short	57
 3992 0544 3700     		.short	55
 3993 0546 3600     		.short	54
 3994 0548 3500     		.short	53
 3995 054a 3300     		.short	51
 3996 054c 3200     		.short	50
 3997 054e 3000     		.short	48
 3998 0550 2F00     		.short	47
 3999 0552 2E00     		.short	46
 4000 0554 2C00     		.short	44
 4001 0556 2B00     		.short	43
 4002 0558 2A00     		.short	42
 4003 055a 2900     		.short	41
 4004 055c 2700     		.short	39
 4005 055e 2600     		.short	38
 4006 0560 2500     		.short	37
 4007 0562 2400     		.short	36
 4008 0564 2300     		.short	35
 4009 0566 2100     		.short	33
 4010 0568 2000     		.short	32
 4011 056a 1F00     		.short	31
 4012 056c 1E00     		.short	30
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 96


 4013 056e 1D00     		.short	29
 4014 0570 1C00     		.short	28
 4015 0572 1B00     		.short	27
 4016 0574 1A00     		.short	26
 4017 0576 1900     		.short	25
 4018 0578 1800     		.short	24
 4019 057a 1700     		.short	23
 4020 057c 1600     		.short	22
 4021 057e 1500     		.short	21
 4022 0580 1400     		.short	20
 4023 0582 1300     		.short	19
 4024 0584 1200     		.short	18
 4025 0586 1200     		.short	18
 4026 0588 1100     		.short	17
 4027 058a 1000     		.short	16
 4028 058c 0F00     		.short	15
 4029 058e 0E00     		.short	14
 4030 0590 0E00     		.short	14
 4031 0592 0D00     		.short	13
 4032 0594 0C00     		.short	12
 4033 0596 0C00     		.short	12
 4034 0598 0B00     		.short	11
 4035 059a 0A00     		.short	10
 4036 059c 0A00     		.short	10
 4037 059e 0900     		.short	9
 4038 05a0 0800     		.short	8
 4039 05a2 0800     		.short	8
 4040 05a4 0700     		.short	7
 4041 05a6 0700     		.short	7
 4042 05a8 0600     		.short	6
 4043 05aa 0600     		.short	6
 4044 05ac 0500     		.short	5
 4045 05ae 0500     		.short	5
 4046 05b0 0400     		.short	4
 4047 05b2 0400     		.short	4
 4048 05b4 0300     		.short	3
 4049 05b6 0300     		.short	3
 4050 05b8 0300     		.short	3
 4051 05ba 0200     		.short	2
 4052 05bc 0200     		.short	2
 4053 05be 0200     		.short	2
 4054 05c0 0100     		.short	1
 4055 05c2 0100     		.short	1
 4056 05c4 0100     		.short	1
 4057 05c6 0100     		.short	1
 4058 05c8 0000     		.short	0
 4059 05ca 0000     		.short	0
 4060 05cc 0000     		.short	0
 4061 05ce 0000     		.short	0
 4062 05d0 0000     		.short	0
 4063 05d2 0000     		.short	0
 4064 05d4 0000     		.short	0
 4065 05d6 0000     		.short	0
 4066 05d8 0000     		.short	0
 4067 05da 0000     		.short	0
 4068 05dc 0000     		.short	0
 4069 05de 0000     		.short	0
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 97


 4070 05e0 0000     		.short	0
 4071 05e2 0000     		.short	0
 4072 05e4 0000     		.short	0
 4073 05e6 0000     		.short	0
 4074 05e8 0000     		.short	0
 4075 05ea 0000     		.short	0
 4076 05ec 0000     		.short	0
 4077 05ee 0000     		.short	0
 4078 05f0 0000     		.short	0
 4079 05f2 0100     		.short	1
 4080 05f4 0100     		.short	1
 4081 05f6 0100     		.short	1
 4082 05f8 0100     		.short	1
 4083 05fa 0200     		.short	2
 4084 05fc 0200     		.short	2
 4085 05fe 0200     		.short	2
 4086 0600 0300     		.short	3
 4087 0602 0300     		.short	3
 4088 0604 0300     		.short	3
 4089 0606 0400     		.short	4
 4090 0608 0400     		.short	4
 4091 060a 0500     		.short	5
 4092 060c 0500     		.short	5
 4093 060e 0600     		.short	6
 4094 0610 0600     		.short	6
 4095 0612 0700     		.short	7
 4096 0614 0700     		.short	7
 4097 0616 0800     		.short	8
 4098 0618 0800     		.short	8
 4099 061a 0900     		.short	9
 4100 061c 0A00     		.short	10
 4101 061e 0A00     		.short	10
 4102 0620 0B00     		.short	11
 4103 0622 0C00     		.short	12
 4104 0624 0C00     		.short	12
 4105 0626 0D00     		.short	13
 4106 0628 0E00     		.short	14
 4107 062a 0E00     		.short	14
 4108 062c 0F00     		.short	15
 4109 062e 1000     		.short	16
 4110 0630 1100     		.short	17
 4111 0632 1200     		.short	18
 4112 0634 1200     		.short	18
 4113 0636 1300     		.short	19
 4114 0638 1400     		.short	20
 4115 063a 1500     		.short	21
 4116 063c 1600     		.short	22
 4117 063e 1700     		.short	23
 4118 0640 1800     		.short	24
 4119 0642 1900     		.short	25
 4120 0644 1A00     		.short	26
 4121 0646 1B00     		.short	27
 4122 0648 1C00     		.short	28
 4123 064a 1D00     		.short	29
 4124 064c 1E00     		.short	30
 4125 064e 1F00     		.short	31
 4126 0650 2000     		.short	32
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 98


 4127 0652 2100     		.short	33
 4128 0654 2300     		.short	35
 4129 0656 2400     		.short	36
 4130 0658 2500     		.short	37
 4131 065a 2600     		.short	38
 4132 065c 2700     		.short	39
 4133 065e 2900     		.short	41
 4134 0660 2A00     		.short	42
 4135 0662 2B00     		.short	43
 4136 0664 2C00     		.short	44
 4137 0666 2E00     		.short	46
 4138 0668 2F00     		.short	47
 4139 066a 3000     		.short	48
 4140 066c 3200     		.short	50
 4141 066e 3300     		.short	51
 4142 0670 3500     		.short	53
 4143 0672 3600     		.short	54
 4144 0674 3700     		.short	55
 4145 0676 3900     		.short	57
 4146 0678 3A00     		.short	58
 4147 067a 3C00     		.short	60
 4148 067c 3D00     		.short	61
 4149 067e 3F00     		.short	63
 4150 0680 4000     		.short	64
 4151 0682 4200     		.short	66
 4152 0684 4400     		.short	68
 4153 0686 4500     		.short	69
 4154 0688 4700     		.short	71
 4155 068a 4800     		.short	72
 4156 068c 4A00     		.short	74
 4157 068e 4C00     		.short	76
 4158 0690 4D00     		.short	77
 4159 0692 4F00     		.short	79
 4160 0694 5100     		.short	81
 4161 0696 5200     		.short	82
 4162 0698 5400     		.short	84
 4163 069a 5600     		.short	86
 4164 069c 5800     		.short	88
 4165 069e 5A00     		.short	90
 4166 06a0 5B00     		.short	91
 4167 06a2 5D00     		.short	93
 4168 06a4 5F00     		.short	95
 4169 06a6 6100     		.short	97
 4170 06a8 6300     		.short	99
 4171 06aa 6500     		.short	101
 4172 06ac 6700     		.short	103
 4173 06ae 6800     		.short	104
 4174 06b0 6A00     		.short	106
 4175 06b2 6C00     		.short	108
 4176 06b4 6E00     		.short	110
 4177 06b6 7000     		.short	112
 4178 06b8 7200     		.short	114
 4179 06ba 7400     		.short	116
 4180 06bc 7600     		.short	118
 4181 06be 7800     		.short	120
 4182 06c0 7A00     		.short	122
 4183 06c2 7C00     		.short	124
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 99


 4184 06c4 7F00     		.short	127
 4185 06c6 8100     		.short	129
 4186 06c8 8300     		.short	131
 4187 06ca 8500     		.short	133
 4188 06cc 8700     		.short	135
 4189 06ce 8900     		.short	137
 4190 06d0 8B00     		.short	139
 4191 06d2 8E00     		.short	142
 4192 06d4 9000     		.short	144
 4193 06d6 9200     		.short	146
 4194 06d8 9400     		.short	148
 4195 06da 9600     		.short	150
 4196 06dc 9900     		.short	153
 4197 06de 9B00     		.short	155
 4198 06e0 9D00     		.short	157
 4199 06e2 A000     		.short	160
 4200 06e4 A200     		.short	162
 4201 06e6 A400     		.short	164
 4202 06e8 A600     		.short	166
 4203 06ea A900     		.short	169
 4204 06ec AB00     		.short	171
 4205 06ee AE00     		.short	174
 4206 06f0 B000     		.short	176
 4207 06f2 B200     		.short	178
 4208 06f4 B500     		.short	181
 4209 06f6 B700     		.short	183
 4210 06f8 BA00     		.short	186
 4211 06fa BC00     		.short	188
 4212 06fc BF00     		.short	191
 4213 06fe C100     		.short	193
 4214 0700 C400     		.short	196
 4215 0702 C600     		.short	198
 4216 0704 C900     		.short	201
 4217 0706 CB00     		.short	203
 4218 0708 CE00     		.short	206
 4219 070a D000     		.short	208
 4220 070c D300     		.short	211
 4221 070e D500     		.short	213
 4222 0710 D800     		.short	216
 4223 0712 DA00     		.short	218
 4224 0714 DD00     		.short	221
 4225 0716 E000     		.short	224
 4226 0718 E200     		.short	226
 4227 071a E500     		.short	229
 4228 071c E800     		.short	232
 4229 071e EA00     		.short	234
 4230 0720 ED00     		.short	237
 4231 0722 F000     		.short	240
 4232 0724 F200     		.short	242
 4233 0726 F500     		.short	245
 4234 0728 F800     		.short	248
 4235 072a FA00     		.short	250
 4236 072c FD00     		.short	253
 4237 072e 0001     		.short	256
 4238 0730 0301     		.short	259
 4239 0732 0501     		.short	261
 4240 0734 0801     		.short	264
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 100


 4241 0736 0B01     		.short	267
 4242 0738 0E01     		.short	270
 4243 073a 1101     		.short	273
 4244 073c 1301     		.short	275
 4245 073e 1601     		.short	278
 4246 0740 1901     		.short	281
 4247 0742 1C01     		.short	284
 4248 0744 1F01     		.short	287
 4249 0746 2101     		.short	289
 4250 0748 2401     		.short	292
 4251 074a 2701     		.short	295
 4252 074c 2A01     		.short	298
 4253 074e 2D01     		.short	301
 4254 0750 3001     		.short	304
 4255 0752 3301     		.short	307
 4256 0754 3601     		.short	310
 4257 0756 3901     		.short	313
 4258 0758 3B01     		.short	315
 4259 075a 3E01     		.short	318
 4260 075c 4101     		.short	321
 4261 075e 4401     		.short	324
 4262 0760 4701     		.short	327
 4263 0762 4A01     		.short	330
 4264 0764 4D01     		.short	333
 4265 0766 5001     		.short	336
 4266 0768 5301     		.short	339
 4267 076a 5601     		.short	342
 4268 076c 5901     		.short	345
 4269 076e 5C01     		.short	348
 4270 0770 5F01     		.short	351
 4271 0772 6201     		.short	354
 4272 0774 6501     		.short	357
 4273 0776 6801     		.short	360
 4274 0778 6B01     		.short	363
 4275 077a 6E01     		.short	366
 4276 077c 7101     		.short	369
 4277 077e 7401     		.short	372
 4278 0780 7701     		.short	375
 4279 0782 7A01     		.short	378
 4280 0784 7D01     		.short	381
 4281 0786 8001     		.short	384
 4282 0788 8301     		.short	387
 4283 078a 8601     		.short	390
 4284 078c 8901     		.short	393
 4285 078e 8D01     		.short	397
 4286 0790 9001     		.short	400
 4287 0792 9301     		.short	403
 4288 0794 9601     		.short	406
 4289 0796 9901     		.short	409
 4290 0798 9C01     		.short	412
 4291 079a 9F01     		.short	415
 4292 079c A201     		.short	418
 4293 079e A501     		.short	421
 4294 07a0 A801     		.short	424
 4295 07a2 AB01     		.short	427
 4296 07a4 AF01     		.short	431
 4297 07a6 B201     		.short	434
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 101


 4298 07a8 B501     		.short	437
 4299 07aa B801     		.short	440
 4300 07ac BB01     		.short	443
 4301 07ae BE01     		.short	446
 4302 07b0 C101     		.short	449
 4303 07b2 C401     		.short	452
 4304 07b4 C801     		.short	456
 4305 07b6 CB01     		.short	459
 4306 07b8 CE01     		.short	462
 4307 07ba D101     		.short	465
 4308 07bc D401     		.short	468
 4309 07be D701     		.short	471
 4310 07c0 DA01     		.short	474
 4311 07c2 DE01     		.short	478
 4312 07c4 E101     		.short	481
 4313 07c6 E401     		.short	484
 4314 07c8 E701     		.short	487
 4315 07ca EA01     		.short	490
 4316 07cc ED01     		.short	493
 4317 07ce F001     		.short	496
 4318              		.section	.data.size,"aw"
 4319              		.align	2
 4322              	size:
 4323 0000 E8030000 		.word	1000
 4324              		.section	.data.spin,"aw"
 4325              		.align	2
 4326              		.set	.LANCHOR44,. + 0
 4329              	spin:
 4330 0000 9A99193F 		.word	1058642330
 4331              		.section	.data.to_lock.15,"aw"
 4332              		.align	1
 4333              		.set	.LANCHOR28,. + 0
 4336              	to_lock.15:
 4337 0000 2C01     		.short	300
 4338              		.section	.data.to_unlock.14,"aw"
 4339              		.align	1
 4340              		.set	.LANCHOR29,. + 0
 4343              	to_unlock.14:
 4344 0000 2C01     		.short	300
 4345              		.text
 4346              	.Letext0:
 4347              		.file 2 "d:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_types.h"
 4348              		.file 3 "d:\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 4349              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 4350              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 4351              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 4352              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 4353              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 4354              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 4355              		.file 10 "ACE-ECF/Algorithm/inc/struct_typedef.h"
 4356              		.file 11 "Core/Inc/tim.h"
 4357              		.file 12 "ACE-ECF/Application/inc/imu_task.h"
 4358              		.file 13 "ACE-ECF/Algorithm/inc/pid.h"
 4359              		.file 14 "ACE-ECF/Bsp/Inc/bsp_Motor_Encoder.h"
 4360              		.file 15 "Core/Inc/can.h"
 4361              		.file 16 "ACE-ECF/Control/Inc/Cybergear_Motor.h"
 4362              		.file 17 "ACE-ECF/Control/Inc/DJI_Motor.h"
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 102


 4363              		.file 18 "ACE-ECF/Bsp/Inc/bsp_dr16.h"
 4364              		.file 19 "ACE-ECF/Bsp/Inc/bsp_referee.h"
 4365              		.file 20 "ACE-ECF/Control/Inc/robot_cmd.h"
 4366              		.file 21 "ACE-ECF/Application/inc/safe_task.h"
 4367              		.file 22 "ACE-ECF/Algorithm/inc/filter.h"
 4368              		.file 23 "ACE-ECF/Algorithm/inc/lqr.h"
 4369              		.file 24 "TASK/inc/rgb.h"
 4370              		.file 25 "ACE-ECF/Algorithm/inc/maths.h"
 4371              		.file 26 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 4372              		.file 27 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 103


DEFINED SYMBOLS
                            *ABS*:00000000 gimbal_task.c
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:20     .text.pitch_motor_online:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:26     .text.pitch_motor_online:00000000 pitch_motor_online
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:40     .text.pitch_motor_disconnect:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:46     .text.pitch_motor_disconnect:00000000 pitch_motor_disconnect
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:69     .text.pitch_motor_disconnect:00000010 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:75     .text.yaw_can_rx_CallBack:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:81     .text.yaw_can_rx_CallBack:00000000 yaw_can_rx_CallBack
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:94     .text.Photo_motor_CanRx_callback:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:100    .text.Photo_motor_CanRx_callback:00000000 Photo_motor_CanRx_callback
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:117    .text.Photo_motor_CanRx_callback:00000008 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:122    .text.RGB_LED:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:127    .text.RGB_LED:00000000 RGB_LED
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:230    .text.RGB_LED:00000080 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:239    .text.pitch_can_rx_CallBack:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:245    .text.pitch_can_rx_CallBack:00000000 pitch_can_rx_CallBack
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:271    .text.pitch_can_rx_CallBack:00000014 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:277    .rodata.Gimbal_Init.str1.4:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:281    .text.Gimbal_Init:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:286    .text.Gimbal_Init:00000000 Gimbal_Init
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:616    .text.Gimbal_Init:00000284 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:642    .text.IMU_PITCH_Angle_Set_Limit:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:647    .text.IMU_PITCH_Angle_Set_Limit:00000000 IMU_PITCH_Angle_Set_Limit
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:761    .text.IMU_PITCH_Angle_Set_Limit:00000080 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:770    .text.Gimbal_Not_Work:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:775    .text.Gimbal_Not_Work:00000000 Gimbal_Not_Work
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:807    .text.Gimbal_Not_Work:0000001c $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:813    .text.yaw_motor_online:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:819    .text.yaw_motor_online:00000000 yaw_motor_online
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:836    .text.yaw_motor_online:00000008 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:841    .text.yaw_motor_disconnect:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:847    .text.yaw_motor_disconnect:00000000 yaw_motor_disconnect
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:864    .text.yaw_motor_disconnect:00000008 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:869    .text.Send_Photo_Current:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:875    .text.Send_Photo_Current:00000000 Send_Photo_Current
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:946    .text.Send_Photo_Current:0000003c $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:955    .text.Motor_Choice_Lock_Type:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:961    .text.Motor_Choice_Lock_Type:00000000 Motor_Choice_Lock_Type
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1141   .text.Motor_Choice_Lock_Type:00000114 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1146   .text.Pitch_Calc:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1152   .text.Pitch_Calc:00000000 Pitch_Calc
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1439   .text.Pitch_Calc:0000017c $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1454   .text.Yaw_Calc:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1460   .text.Yaw_Calc:00000000 Yaw_Calc
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1691   .text.Yaw_Calc:0000013c $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1702   .text.Gimbal_Work:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1707   .text.Gimbal_Work:00000000 Gimbal_Work
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1752   .text.Gimbal_Work:00000028 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1758   .text.GetCCR:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1764   .text.GetCCR:00000000 GetCCR
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1793   .text.GetCCR:00000024 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1800   .text.Photo_Control:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:1805   .text.Photo_Control:00000000 Photo_Control
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2284   .text.Photo_Control:00000240 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2311   .text.Photo_Control:000002a0 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2627   .text.Photo_Control:00000498 $d
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 104


C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2650   .text.GIMBAL_TASK:00000000 $t
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2656   .text.GIMBAL_TASK:00000000 GIMBAL_TASK
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2952   .text.GIMBAL_TASK:000001a8 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4329   .data.spin:00000000 spin
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3309   .data.move:00000000 move
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3146   .bss.lock_position_encoder:00000000 lock_position_encoder
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3216   .data.PITCH_TORQUE_LIMIT:00000000 PITCH_TORQUE_LIMIT
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3197   .data.Enable_pitch_motor:00000000 Enable_pitch_motor
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3223   .data.Pitch_gravity_feedforward_torque:00000000 Pitch_gravity_feedforward_torque
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3058   .bss.Pitch_output_torque:00000000 Pitch_output_torque
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3011   .bss.DOWN_ANGLE:00000000 DOWN_ANGLE
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3084   .bss.UP_ANGLE:00000000 UP_ANGLE
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3263   .data.k_encoder_yaw_lqr:00000000 k_encoder_yaw_lqr
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3255   .data.k_encoder_pitch_lqr:00000000 k_encoder_pitch_lqr
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3293   .data.k_virtual_yaw_lqr:00000000 k_virtual_yaw_lqr
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3286   .data.k_virtual_pitch_lqr:00000000 k_virtual_pitch_lqr
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3301   .data.k_yaw_lqr:00000000 k_yaw_lqr
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3279   .data.k_pitch_lqr_down:00000000 k_pitch_lqr_down
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3271   .data.k_pitch_lqr:00000000 k_pitch_lqr
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3044   .bss.Photo_motor_online:00000000 Photo_motor_online
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3179   .bss.yaw_motor_is_online:00000000 yaw_motor_is_online
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3159   .bss.pitch_motor_is_online:00000000 pitch_motor_is_online
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3051   .bss.Pitch_Motor_Safe:00000000 Pitch_Motor_Safe
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3153   .bss.pitch_motor_init_flag:00000000 pitch_motor_init_flag
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3018   .bss.Gimbal:00000000 Gimbal
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3317   .data.sin_value:00000000 sin_value
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4322   .data.size:00000000 size
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2993   .bss.CAN_TxHeader.27:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:2997   .bss.CAN_TxHeader.27:00000000 CAN_TxHeader.27
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3000   .bss.Can_Tx_Data.28:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3004   .bss.Can_Tx_Data.28:00000000 Can_Tx_Data.28
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3007   .bss.DOWN_ANGLE:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3014   .bss.Gimbal:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3024   .bss.Left_move_flag.7:00000000 Left_move_flag.7
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3025   .bss.Left_move_flag.7:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3027   .bss.Off_set_time.12:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3031   .bss.Off_set_time.12:00000000 Off_set_time.12
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3034   .bss.On_set_time.9:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3038   .bss.On_set_time.9:00000000 On_set_time.9
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3045   .bss.Photo_motor_online:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3047   .bss.Pitch_Motor_Safe:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3054   .bss.Pitch_output_torque:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3064   .bss.Right_move_flag.10:00000000 Right_move_flag.10
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3065   .bss.Right_move_flag.10:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3067   .bss.Set_encoder.13:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3071   .bss.Set_encoder.13:00000000 Set_encoder.13
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3077   .bss.Status.16:00000000 Status.16
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3078   .bss.Status.16:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3080   .bss.UP_ANGLE:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3087   .bss.filter_IMU_Pitch_Down_Limit.22:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3091   .bss.filter_IMU_Pitch_Down_Limit.22:00000000 filter_IMU_Pitch_Down_Limit.22
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3094   .bss.filter_IMU_Pitch_Up_Limit.23:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3098   .bss.filter_IMU_Pitch_Up_Limit.23:00000000 filter_IMU_Pitch_Up_Limit.23
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3101   .bss.idx_1.21:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3105   .bss.idx_1.21:00000000 idx_1.21
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3108   .bss.idx_2.20:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3112   .bss.idx_2.20:00000000 idx_2.20
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 105


C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3115   .bss.idx_3.19:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3119   .bss.idx_3.19:00000000 idx_3.19
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3122   .bss.lastPitch_Set_IMU.1:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3126   .bss.lastPitch_Set_IMU.1:00000000 lastPitch_Set_IMU.1
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3129   .bss.last_Photo_Motor_encoder.2:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3133   .bss.last_Photo_Motor_encoder.2:00000000 last_Photo_Motor_encoder.2
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3139   .bss.litter_lqr_time.0:00000000 litter_lqr_time.0
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3140   .bss.litter_lqr_time.0:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3142   .bss.lock_position_encoder:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3149   .bss.pitch_motor_init_flag:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3160   .bss.pitch_motor_is_online:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3162   .bss.send_mail_box.26:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3166   .bss.send_mail_box.26:00000000 send_mail_box.26
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3169   .bss.time.25:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3173   .bss.time.25:00000000 time.25
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3180   .bss.yaw_motor_is_online:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3185   .data.B_set.11:00000000 B_set.11
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3191   .data.C_set.8:00000000 C_set.8
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3203   .data.FUCK.6:00000000 FUCK.6
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3209   .data.F_set.4:00000000 F_set.4
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3212   .data.PITCH_TORQUE_LIMIT:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3219   .data.Pitch_gravity_feedforward_torque:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3229   .data.Reset_flag.18:00000000 Reset_flag.18
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3235   .data.Set_MG995_Angle_flag.17:00000000 Set_MG995_Angle_flag.17
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3238   .data.Set_Photo_Angle_delay.5:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3242   .data.Set_Photo_Angle_delay.5:00000000 Set_Photo_Angle_delay.5
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3248   .data.V_set.3:00000000 V_set.3
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3251   .data.k_encoder_pitch_lqr:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3259   .data.k_encoder_yaw_lqr:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3267   .data.k_pitch_lqr:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3275   .data.k_pitch_lqr_down:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3283   .data.k_virtual_pitch_lqr:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3290   .data.k_virtual_yaw_lqr:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3297   .data.k_yaw_lqr:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3305   .data.move:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:3313   .data.sin_value:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4319   .data.size:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4325   .data.spin:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4332   .data.to_lock.15:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4336   .data.to_lock.15:00000000 to_lock.15
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4339   .data.to_unlock.14:00000000 $d
C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s:4343   .data.to_unlock.14:00000000 to_unlock.14

UNDEFINED SYMBOLS
htim5
Safe_Task_online_ptr_
Get_Gimbal_CMD_point
get_imu_control_point
DJIMotor_Init
MI_motor_init
PidInit
PidInitMode
LQR_Init
Safe_task_add
MI_Motor_CanRx_Callback
DJIMotor_CanRx_Callback
MI_motor_enable
ARM GAS  C:\Users\28212\AppData\Local\Temp\ccfa5v7h.s 			page 106


hcan1
Recursive_ave_filter_init
Recursive_ave_filter
MI_motor_stop
HAL_CAN_AddTxMessage
Gimbal_Yaw_Lock
Gimbal_Yaw_Set_Encoder
Gimbal_Pitch_Lock
Gimbal_Pitch_Set_Encoder
Gimbal_Pitch_Set_IMU
Gimbal_Yaw_Set_IMU
LQR_Data_Update
LQR_Calculate
__aeabi_l2f
__aeabi_f2lz
float_min_distance
torque_to_voltage_6020
PidCalculate
htim8
motor_position_speed_control
vTaskDelay
vPortEnterCritical
Gimbal_Deal_TLcontrol
Gimbal_CMD_Set
MI_motor_controlmode
vPortExitCritical
Set_Pitch_Motor_down_encoder
DJMotor_Send_only_one
